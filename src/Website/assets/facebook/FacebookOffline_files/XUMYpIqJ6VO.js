/*1373642674,178129705*/

if (self.CavalryLogger) { CavalryLogger.start_js(["OJTM4"]); }

__d("AjaxRequest",["ErrorUtils","Keys","URI","UserAgent","XHR","copyProperties"],function(a,b,c,d,e,f){var g=b('ErrorUtils'),h=b('Keys'),i=b('URI'),j=b('UserAgent'),k=b('XHR'),l=b('copyProperties');function m(q,r,s){this.xhr=k.create();if(!(r instanceof i))r=new i(r);if(s&&q=='GET'){r.setQueryData(s);}else this._params=s;this.method=q;this.uri=r;this.xhr.open(q,r);}var n=window.XMLHttpRequest&&('withCredentials' in new XMLHttpRequest());m.supportsCORS=function(){return n;};m.ERROR='ar:error';m.TIMEOUT='ar:timeout';m.PROXY_ERROR='ar:proxy error';m.TRANSPORT_ERROR='ar:transport error';m.SERVER_ERROR='ar:http error';m.PARSE_ERROR='ar:parse error';m._inflight=[];function o(){var q=m._inflight;m._inflight=[];q.forEach(function(r){r.abort();});}function p(q){q.onJSON=q.onError=q.onSuccess=null;clearTimeout(q._timer);if(q.xhr&&q.xhr.readyState<4){q.xhr.abort();q.xhr=null;}m._inflight=m._inflight.filter(function(r){return r&&r!=q&&r.xhr&&r.xhr.readyState<4;});}l(m.prototype,{timeout:60000,streamMode:true,prelude:/^for \(;;\);/,status:null,_eol:-1,_call:function(q){if(this[q])this[q](this);},_parseStatus:function(){var q;try{this.status=this.xhr.status;q=this.xhr.statusText;}catch(r){if(this.xhr.readyState>=4){this.errorType=m.TRANSPORT_ERROR;this.errorText=r.message;}return;}if(this.status===0&&!(/^(file|ftp)/.test(this.uri))){this.errorType=m.TRANSPORT_ERROR;}else if(this.status>=100&&this.status<200){this.errorType=m.PROXY_ERROR;}else if(this.status>=200&&this.status<300){return;}else if(this.status>=300&&this.status<400){this.errorType=m.PROXY_ERROR;}else if(this.status>=400&&this.status<500){this.errorType=m.SERVER_ERROR;}else if(this.status>=500&&this.status<600){this.errorType=m.PROXY_ERROR;}else if(this.status==1223){return;}else if(this.status>=12001&&this.status<=12156){this.errorType=m.TRANSPORT_ERROR;}else{q='unrecognized status code: '+this.status;this.errorType=m.ERROR;}if(!this.errorText)this.errorText=q;},_parseResponse:function(){var q,r=this.xhr.readyState;try{q=this.xhr.responseText||'';}catch(s){if(r>=4){this.errorType=m.ERROR;this.errorText='responseText not available - '+s.message;}return;}while(this.xhr){var t=this._eol+1,u=this.streamMode?q.indexOf('\n',t):q.length;if(u<0&&r==4)u=q.length;if(u<=this._eol)break;var v=q;if(this.streamMode)v=q.substr(t,u-t).replace(/^\s*|\s*$/g,'');if(t===0&&this.prelude)if(this.prelude.test(v))v=v.replace(this.prelude,'');this._eol=u;if(v){try{this.json=JSON.parse(v);}catch(s){var w=(/(<body[\S\s]+?<\/body>)/i).test(q)&&RegExp.$1,x={message:s.message,'char':t,excerpt:((t===0&&w)||v).substr(512)};this.errorType=m.PARSE_ERROR;this.errorText='parse error - '+JSON.stringify(x);return;}g.applyWithGuard(this._call,this,['onJSON']);}}},_onReadyState:function(){var q=this.xhr&&this.xhr.readyState||0;if(this.status==null&&q>=2)this._parseStatus();if(!this.errorType&&this.status!=null)if((q==3&&this.streamMode)||q==4)this._parseResponse();if(this.errorType||q==4){this._time=Date.now()-this._sentAt;this._call(!this.errorType?'onSuccess':'onError');p(this);}},send:function(q){this.xhr.onreadystatechange=function(){g.applyWithGuard(this._onReadyState,this,arguments);}.bind(this);var r=this.timeout;if(r)this._timer=setTimeout((function(){this.errorType=m.TIMEOUT;this.errorText='timeout';this._time=Date.now()-this._sentAt;this._call('onError');p(this);}).bind(this),r,false);m._inflight.push(this);if(this.method=='POST')this.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');this._sentAt=Date.now();this.xhr.send(q?i.implodeQuery(q):'');},abort:function(){p(this);},toString:function(){var q='[AjaxRequest readyState='+this.xhr.readyState;if(this.errorType)q+=' errorType='+this.errorType+' ('+this.errorText+')';return q+']';},toJSON:function(){var q={json:this.json,status:this.status,errorType:this.errorType,errorText:this.errorText,time:this._time};if(this.errorType)q.uri=this.uri;for(var r in q)if(q[r]==null)delete q[r];return q;}});if(window.addEventListener&&j.firefox())window.addEventListener('keydown',function(event){if(event.keyCode===h.ESC)event.prevent();},false);if(window.attachEvent)window.attachEvent('onunload',o);e.exports=m;});
__d("FBAjaxRequest",["AjaxRequest","copyProperties","XHR"],function(a,b,c,d,e,f){var g=b('AjaxRequest'),h=b('copyProperties'),i=b('XHR');function j(k,l,m){m=h(i.getAsyncParams(k),m);var n=new g(k,l,m);n.streamMode=false;var o=n._call;n._call=function(p){if(p=='onJSON'&&this.json){if(this.json.error){this.errorType=g.SERVER_ERROR;this.errorText='AsyncResponse error: '+this.json.error;}this.json=this.json.payload;}o.apply(this,arguments);};n.ajaxReqSend=n.send;n.send=function(p){this.ajaxReqSend(h(p,m));};return n;}e.exports=j;});
__d("CallbackManagerController",["ErrorUtils","copyProperties"],function(a,b,c,d,e,f){var g=b('ErrorUtils'),h=b('copyProperties'),i=function(j){this._pendingIDs=[];this._allRequests=[undefined];this._callbackArgHandler=j;};h(i.prototype,{executeOrEnqueue:function(j,k,l){l=l||{};var m=this._attemptCallback(k,j,l);if(m)return 0;this._allRequests.push({fn:k,request:j,options:l});var n=this._allRequests.length-1;this._pendingIDs.push(n);return n;},unsubscribe:function(j){delete this._allRequests[j];},reset:function(){this._allRequests=[];},getRequest:function(j){return this._allRequests[j];},runPossibleCallbacks:function(){var j=this._pendingIDs;this._pendingIDs=[];var k=[];j.forEach(function(l){var m=this._allRequests[l];if(!m)return;if(this._callbackArgHandler(m.request,m.options)){k.push(l);}else this._pendingIDs.push(l);}.bind(this));k.forEach(function(l){var m=this._allRequests[l];delete this._allRequests[l];this._attemptCallback(m.fn,m.request,m.options);}.bind(this));},_attemptCallback:function(j,k,l){var m=this._callbackArgHandler(k,l);if(m){var n={ids:k};g.applyWithGuard(j,n,m);}return !!m;}});e.exports=i;});
__d("deferred",[],function(a,b,c,d,e,f){var g=0,h=1,i=2,j=4,k='callbacks',l='errbacks',m='cancelbacks',n='completeCallbacks',o=[],p=o.slice,q=o.unshift;function r(w,x){return w?p.call(w,x):o;}function s(w,x){return x<w.length?r(w,x):o;}function t(){this.$Deferred0=g;}t.prototype.addCallback=function(w,x){return this.$Deferred1(h,this.$Deferred2(k),w,x,s(arguments,2));};t.prototype.removeCallback=function(w,x){return this.$Deferred3(this.$Deferred2(k),w,x);};t.prototype.addCompleteCallback=function(w,x){return this.$Deferred1(null,this.$Deferred2(n),w,x,s(arguments,2));};t.prototype.removeCompleteCallback=function(w,x){return this.$Deferred3(this.$Deferred2(n),w,x);};t.prototype.addErrback=function(w,x){return this.$Deferred1(i,this.$Deferred2(l),w,x,s(arguments,2));};t.prototype.removeErrback=function(w,x){return this.$Deferred3(this.$Deferred2(l),w,x);};t.prototype.addCancelback=function(w,x){return this.$Deferred1(j,this.$Deferred2(m),w,x,s(arguments,2));};t.prototype.removeCancelback=function(w,x){return this.$Deferred3(this.$Deferred2(m),w,x);};t.prototype.getStatus=function(){return this.$Deferred0;};t.prototype.setStatus=function(w){var x;this.$Deferred0=w;this.callbackArgs=r(arguments,1);if(w===i){x=l;}else if(w===h){x=k;}else if(w===j)x=m;if(x)this.$Deferred4(this[x],this.callbackArgs);this.$Deferred4(this[n],this.callbackArgs);return this;};t.prototype.setTimeout=function(w){if(this.timeout)this.clearTimeout();this.$Deferred5=this.$Deferred5||this.fail.bind(this);this.timeout=window.setTimeout(this.$Deferred5,w);};t.prototype.clearTimeout=function(){window.clearTimeout(this.timeout);delete this.timeout;};t.prototype.succeed=function(){return this.$Deferred6(h,arguments);};t.prototype.fail=function(){return this.$Deferred6(i,arguments);};t.prototype.cancel=function(){delete this[k];delete this[l];return this.$Deferred6(j,arguments);};t.prototype.$Deferred6=function(w,x){q.call(x,w);return this.setStatus.apply(this,x);};t.prototype.$Deferred2=function(w){return this[w]||(this[w]=[]);};t.prototype.then=function(w,x,y,z){var aa=new t(),w,ba,ca,da=r(arguments,0);if(typeof da[0]==='function')w=da.shift();if(typeof da[0]==='function')ba=da.shift();if(typeof da[0]==='function')ca=da.shift();var ea=da.shift();if(w){var fa=[this.$Deferred7,this,aa,'succeed',w,ea].concat(da);this.addCallback.apply(this,fa);}else this.addCallback(aa.succeed,aa);if(ba){var ga=[this.$Deferred7,this,aa,'fail',ba,ea].concat(da);this.addErrback.apply(this,ga);}else this.addErrback(aa.fail,aa);if(ca){var ha=[this.$Deferred7,this,aa,'cancel',ca,ea].concat(da);this.addCancelback.apply(this,ha);}else this.addCancelback(aa.cancel,aa);return aa;};t.prototype.$Deferred1=function(w,x,y,z,aa){var ba=this.getStatus();if((!w&&ba!==g)||ba===w){y.apply(z||this,aa.concat(this.callbackArgs));}else x.push(y,z,aa);return this;};t.prototype.$Deferred3=function(w,x,y){for(var z=0;z<w.length;z+=3)if(w[z]===x&&(!y||w[z+1]===y)){w.splice(z,3);if(y)break;z-=3;}return this;};t.prototype.pipe=function(w){this.addCallback(w.succeed,w).addErrback(w.fail,w).addCancelback(w.cancel,w);};t.prototype.$Deferred4=function(w,x){for(var y=0;y<(w||o).length;y+=3)w[y].apply(w[y+1]||this,(w[y+2]||o).concat(x));};t.prototype.$Deferred7=function(w,x,y,z){var aa=r(arguments,4),ba=y.apply(z,aa);if(ba instanceof t){ba.pipe(w);}else w[x](ba);};var u=t===null?null:t.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=t;function v(w){t.call(this);this.completed=0;this.list=[];if(w){w.forEach(this.waitFor,this);this.startWaiting();}}v.prototype.startWaiting=function(){this.waiting=true;this.checkDeferreds();return this;};v.prototype.waitFor=function(w){this.list.push(w);this.checkDeferreds();w.addCompleteCallback(this.deferredComplete,this);return this;};v.prototype.createWaitForDeferred=function(){var w=new t();this.waitFor(w);return w;};v.prototype.createWaitForCallback=function(){var w=this.createWaitForDeferred();return w.succeed.bind(w);};v.prototype.deferredComplete=function(){this.completed++;if(this.completed===this.list.length)this.checkDeferreds();};v.prototype.checkDeferreds=function(){if(!this.waiting||this.completed!==this.list.length)return;var w=false,x=false,y=[g];for(var z=0,aa=this.list.length;z<aa;z++){var ba=this.list[z];y.push([ba].concat(ba.callbackArgs));if(ba.getStatus()===i){w=true;}else if(ba.getStatus()===j)x=true;}if(w){y[0]=i;this.fail.apply(this,y);}else if(x){y[0]=j;this.cancel.apply(this,y);}else{y[0]=h;this.succeed.apply(this,y);}};f.Deferred=t;f.DeferredList=v;f.Deferred.toArray=r;f.Deferred.STATUS_UNKNOWN=g;f.Deferred.STATUS_SUCCEEDED=h;f.Deferred.STATUS_CANCELED=j;f.Deferred.STATUS_FAILED=i;});
__d("KeyedCallbackManager",["CallbackManagerController","deferred","ErrorUtils","copyProperties"],function(a,b,c,d,e,f){var g=b('CallbackManagerController'),h=b('deferred').Deferred,i=b('ErrorUtils'),j=b('copyProperties'),k=function(){this._resources={};this._controller=new g(this._constructCallbackArg.bind(this));};j(k.prototype,{executeOrEnqueue:function(l,m){if(!(l instanceof Array)){var n=l,o=m;l=[l];m=function(p){o(p[n]);};}l=l.filter(function(p){var q=(p!==null&&p!==undefined);if(!q)i.applyWithGuard(function(){throw new Error('KeyedCallbackManager.executeOrEnqueue: key '+JSON.stringify(p)+' is invalid');});return q;});return this._controller.executeOrEnqueue(l,m);},deferredExecuteOrEnqueue:function(l){var m=new h();this.executeOrEnqueue(l,m.succeed.bind(m));return m;},unsubscribe:function(l){this._controller.unsubscribe(l);},reset:function(){this._controller.reset();this._resources={};},getUnavailableResources:function(l){var m=this._controller.getRequest(l),n=[];if(m)n=m.request.filter(function(o){return !this._resources[o];}.bind(this));return n;},getUnavailableResourcesFromRequest:function(l){var m=Array.isArray(l)?l:[l];return m.filter(function(n){if(n!==null&&n!==undefined)return !this._resources[n];},this);},addResourcesAndExecute:function(l){j(this._resources,l);this._controller.runPossibleCallbacks();},setResource:function(l,m){this._resources[l]=m;this._controller.runPossibleCallbacks();},getResource:function(l){return this._resources[l];},getAllResources:function(){return this._resources;},dumpResources:function(){var l={};for(var m in this._resources){var n=this._resources[m];if(typeof n==='object')n=j({},n);l[m]=n;}return l;},_constructCallbackArg:function(l){var m={};for(var n=0;n<l.length;n++){var o=l[n],p=this._resources[o];if(typeof p=='undefined')return false;m[o]=p;}return [m];}});e.exports=k;});
__d("BaseAsyncLoader",["KeyedCallbackManager","copyProperties"],function(a,b,c,d,e,f){var g=b('KeyedCallbackManager'),h=b('copyProperties'),i={};function j(l,m,n){var o=new g(),p=false,q=[];function r(){if(!q.length||p)return;p=true;t.defer();}function s(w){p=false;w.forEach(o.unsubscribe.bind(o));r();}function t(){var w={},x=[];q=q.filter(function(z){var aa=o.getUnavailableResources(z);if(aa.length){aa.forEach(function(ba){w[ba]=true;});x.push(z);return true;}return false;});var y=Object.keys(w);if(y.length){n(l,y,x,u.curry(x),v.curry(x));}else p=false;}function u(w,x){var y=x.payload[m]||x.payload;o.addResourcesAndExecute(y);s(w);}function v(w){s(w);}return {get:function(w,x){var y=o.executeOrEnqueue(w,x),z=o.getUnavailableResources(y);if(z.length){q.push(y);r();}},getCachedKeys:function(){return Object.keys(o.getAllResources());},getNow:function(w){return o.getResource(w)||null;},set:function(w){o.addResourcesAndExecute(w);}};}function k(l,m){throw ('BaseAsyncLoader can\'t be instantiated');}h(k.prototype,{_getLoader:function(){if(!i[this._endpoint])i[this._endpoint]=j(this._endpoint,this._type,this.send);return i[this._endpoint];},get:function(l,m){return this._getLoader().get(l,m);},getCachedKeys:function(){return this._getLoader().getCachedKeys();},getNow:function(l){return this._getLoader().getNow(l);},reset:function(){i[this._endpoint]=null;},set:function(l){this._getLoader().set(l);}});e.exports=k;});
__d("AjaxLoader",["copyProperties","FBAjaxRequest","BaseAsyncLoader"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('FBAjaxRequest'),i=b('BaseAsyncLoader');function j(k,l){this._endpoint=k;this._type=l;}g(j.prototype,i.prototype);j.prototype.send=function(k,l,m,n,o){var p=new h('GET',k,{ids:l});p.onJSON=function(q){n({payload:q.json});};p.onError=o;p.send();};e.exports=j;});
__d("CLoggerX",["Banzai","DOM","debounce","Event","ge","Parent","Keys"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('DOM'),i=b('debounce'),j=b('Event'),k=b('ge'),l=b('Parent'),m=10*60*1000,n=b('Keys').RETURN,o={},p=function(s){var t=(s.target||s.srcElement).id,u=(s.target||s.srcElement).value.trim().length,v=q.getTracker(t);if(!v)return;if(u>5&&!v.submitted){g.post('censorlogger',{cl_impid:v.impid,clearcounter:v.clearcounter,instrument:v.type,elementid:t,parent_fbid:(v.parent_fbid=='unknown'?null:v.parent_fbid),version:"x"},g.VITAL);q.setSubmitted(t,true);}else if(u===0&&v.submitted&&s.which!=n){o[t]=r(t);o[t]();}else if(u>0&&v.submitted)if(o[t])o[t].reset();},q={init:function(){this.trackedElements=this.trackedElements||{};this.feedbackForms=this.feedbackForms||{};},setImpressionID:function(s){this.init();this.impressionID=s;this.clean();},setComposerTargetData:function(s){this.cTargetID=s.targetID||'unknown';this.cTargetFBType=s.targetType||'unknown';},clean:function(){for(var s in this.trackedElements){if(o[s]){o[s].reset();delete o[s];}delete this.trackedElements[s];}},trackComposer:function(s,t,u){this.setComposerTargetData(u);this.startTracking(s,'composer',this.cTargetID,this.cTargetFBType,t);},trackFeedbackForm:function(s,t,u){this.init();this.impressionID=this.impressionID||u;var v,w,x;v=h.getID(s);w=t?t.targetID||'unknown':'unknown';x=t?t.targetType||'unknown':'unknown';this.feedbackForms[v]={parent_fbid:w,parent_type:x};},trackMentionsInput:function(s,t){this.init();var u,v,w;if(!s)return;u=l.byTag(s,'form');if(!u)return;v=h.getID(u);w=this.feedbackForms[v];if(!w)return;var x=t||w.parent_fbid,y=t?416:w.parent_type;this.startTracking(s,'comment',x,y,u);},startTracking:function(s,t,u,v,w){this.init();var x=h.getID(s);if(this.getTracker(x))return;var y=h.getID(w);j.listen(s,'keyup',p.bind(this));this.trackedElements[x]={submitted:false,clearcounter:0,type:t,impid:this.impressionID,parent_fbid:u,parent_type:v,parentElID:y};this.addJoinTableInfoToForm(w,x);},getTracker:function(s){return (this.trackedElements?this.trackedElements[s]:null);},setSubmitted:function(s,t){if(this.trackedElements[s])this.trackedElements[s].submitted=t;},incrementClearCounter:function(s){var t=this.getTracker(s);if(!t)return;t.clearcounter++;t.submitted=false;var u=h.scry(k(t.parentElID),'input[name="clp"]')[0];if(u)u.value=this.getJSONRepForTrackerID(s);this.trackedElements[s]=t;},addJoinTableInfoToForm:function(s,t){var u=this.getTracker(t);if(!u)return;var v=h.scry(s,'input[name="clp"]')[0];if(!v)h.prependContent(s,h.create('input',{type:'hidden',name:'clp',value:this.getJSONRepForTrackerID(t)}));},getCLParamsForTarget:function(s,t){if(!s)return "";var u=h.getID(s);return this.getJSONRepForTrackerID(u,t);},getJSONRepForTrackerID:function(s,t){var u=this.getTracker(s);if(!u)return "";return JSON.stringify({cl_impid:u.impid,clearcounter:u.clearcounter,elementid:s,version:"x",parent_fbid:t||u.parent_fbid});}},r=function(s){return i(function(){q.incrementClearCounter(s);},m,q);};e.exports=q;});
__d("ChannelConstants",[],function(a,b,c,d,e,f){var g='channel/',h={ON_SHUTDOWN:g+'shutdown',ON_INVALID_HISTORY:g+'invalid_history',ON_CONFIG:g+'config',ON_ENTER_STATE:g+'enter_state',ON_EXIT_STATE:g+'exit_state',OK:'ok',ERROR:'error',ERROR_MAX:'error_max',ERROR_MISSING:'error_missing',ERROR_MSG_TYPE:'error_msg_type',ERROR_SHUTDOWN:'error_shutdown',ERROR_STALE:'error_stale',SYS_OWNER:'sys_owner',SYS_NONOWNER:'sys_nonowner',SYS_ONLINE:'sys_online',SYS_OFFLINE:'sys_offline',SYS_TIMETRAVEL:'sys_timetravel',HINT_AUTH:'shutdown auth',HINT_CONN:'shutdown conn',HINT_DISABLED:'shutdown disabled',HINT_INVALID_STATE:'shutdown invalid state',HINT_MAINT:'shutdown maint',HINT_UNSUPPORTED:'shutdown unsupported',reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP:8,getArbiterType:function(i){return g+'message:'+i;}};e.exports=h;});
__d("ShortProfiles",["ArbiterMixin","AjaxLoader","Env","FBAjaxRequest","JSLogger","copyProperties"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('AjaxLoader'),i=b('Env'),j=b('FBAjaxRequest'),k=b('JSLogger'),l=b('copyProperties'),m='/ajax/chat/user_info.php',n='/ajax/chat/user_info_all.php',o=new h(m,'profiles'),p=false,q=k.create('short_profiles');function r(){if(!p){q.log('fetch_all');p=true;var u=new j('GET',n,{viewer:i.user});u.onJSON=function(v){o.set(v.json);t.inform('updated');};u.send();}}function s(u){return JSON.parse(JSON.stringify(u));}var t={};l(t,g,{get:function(u,v){this.getMulti([u],function(w){v(w[u],u);});},getMulti:function(u,v){function w(x){v(s(x));}o.get(u,w);},getNow:function(u){return s(o.getNow(u)||null);},getNowUnsafe:function(u){return o.getNow(u)||null;},getCachedProfileIDs:function(){return o.getCachedKeys();},hasAll:function(){return p;},fetchAll:function(){r();},set:function(u,v){var w={};w[u]=v;this.setMulti(w);},setMulti:function(u){o.set(s(u));}});e.exports=t;});
__d("ClickTTIIdentifiers",[],function(a,b,c,d,e,f){var g={types:{TIMELINE_SEE_LIKERS:'timeline:seelikes'},getUserActionID:function(h){return '{"ua_id":"'+h+'"}';}};e.exports=g;});
__d("ReactCurrentOwner",[],function(a,b,c,d,e,f){var g={current:null};e.exports=g;});
__d("CSSProperty",[],function(a,b,c,d,e,f){var g={fillOpacity:true,fontWeight:true,opacity:true,orphans:true,zIndex:true,zoom:true},h={background:{backgroundImage:true,backgroundPosition:true,backgroundRepeat:true,backgroundColor:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true}},i={isUnitlessNumber:g,shorthandPropertyExpansions:h};e.exports=i;});
__d("dangerousStyleValue",["CSSProperty"],function(a,b,c,d,e,f){var g=b('CSSProperty');function h(i,j){var k=j==null||typeof j==='boolean'||j==='';if(k)return '';var l=isNaN(j);if(l||j===0||g.isUnitlessNumber[i])return ''+j;return j+'px';}e.exports=h;});
__d("throwIf",[],function(a,b,c,d,e,f){var g=function(h,i){if(h)throw new Error(i);};e.exports=g;});
__d("escapeTextForBrowser",["throwIf"],function(a,b,c,d,e,f){var g=b('throwIf'),h,i={"&":"&amp;",">":"&gt;","<":"&lt;","\"":"&quot;","'":"&#x27;","/":"&#x2f;"};function j(l){return i[l];}var k=function(l){var m=typeof l,n=m==='object';if(l===''||n){return '';}else if(m==='string'){return l.replace(/[&><"'\/]/g,j);}else return (''+l).replace(/[&><"'\/]/g,j);};e.exports=k;});
__d("memoizeStringOnly",[],function(a,b,c,d,e,f){function g(h){var i={};return function(j){if(i.hasOwnProperty(j)){return i[j];}else return i[j]=h.call(this,j);};}e.exports=g;});
__d("CSSPropertyOperations",["CSSProperty","dangerousStyleValue","escapeTextForBrowser","hyphenate","memoizeStringOnly"],function(a,b,c,d,e,f){var g=b('CSSProperty'),h=b('dangerousStyleValue'),i=b('escapeTextForBrowser'),j=b('hyphenate'),k=b('memoizeStringOnly'),l=k(function(n){return i(j(n));}),m={createMarkupForStyles:function(n){var o='';for(var p in n){if(!n.hasOwnProperty(p))continue;var q=n[p];if(q!=null){o+=l(p)+':';o+=h(p,q)+';';}}return o||null;},setValueForStyles:function(n,o){var p=n.style;for(var q in o){if(!o.hasOwnProperty(q))continue;var r=h(q,o[q]);if(r){p[q]=r;}else{var s=g.shorthandPropertyExpansions[q];if(s){for(var t in s)p[t]='';}else p[q]='';}}}};e.exports=m;});
__d("ExecutionEnvironment",[],function(a,b,c,d,e,f){var g=typeof window!=='undefined',h={canUseDOM:g,canUseWorkers:typeof Worker!=='undefined',isInWorker:!g,global:new Function('return this;')()};e.exports=h;});
__d("Danger",["ExecutionEnvironment","throwIf"],function(a,b,c,d,e,f){var g=b('ExecutionEnvironment'),h=b('throwIf'),i,j,k,l,m={};function n(t){var u=t.tagName;return m[u]||(m[u]=document.createElement(u));}function o(t,u,v){if(v){if(v.nextSibling){return t.insertBefore(u,v.nextSibling);}else return t.appendChild(u);}else return t.insertBefore(u,t.firstChild);}function p(t,u,v){var w,x=u.length;for(var y=0;y<x;y++)w=o(t,u[0],w||v);}function q(t,u,v){var w=n(t);w.innerHTML=u;var x=w.childNodes,y=v?t.childNodes[v-1]:null;p(t,x,y);}function r(t,u){var v=t.parentNode,w=n(v);w.innerHTML=u;var x=w.childNodes;v.replaceChild(x[0],t);}var s={dangerouslyInsertMarkupAt:q,dangerouslyReplaceNodeWithMarkup:r};e.exports=s;});
__d("insertNodeAt",[],function(a,b,c,d,e,f){function g(h,i,j){var k=h.childNodes,l=h.childNodes[j];if(l===i)return i;if(i.parentNode)i.parentNode.removeChild(i);if(j>=k.length){h.appendChild(i);}else h.insertBefore(i,k[j]);return i;}e.exports=g;});
__d("keyOf",[],function(a,b,c,d,e,f){var g=function(h){var i;for(i in h){if(!h.hasOwnProperty(i))continue;return i;}return null;};e.exports=g;});
__d("DOMChildrenOperations",["Danger","insertNodeAt","keyOf","throwIf"],function(a,b,c,d,e,f){var g=b('Danger'),h=b('insertNodeAt'),i=b('keyOf'),j=b('throwIf'),k,l=i({moveFrom:null}),m=i({insertMarkup:null}),n=i({removeAt:null}),o=function(u,v){var w,x,y;for(var z=0;z<v.length;z++){x=v[z];if(l in x){w=w||[];y=x.moveFrom;w[y]=u.childNodes[y];}else if(n in x){w=w||[];y=x.removeAt;w[y]=u.childNodes[y];}}return w;},p=function(u,v){for(var w=0;w<v.length;w++){var x=v[w];if(x)u.removeChild(v[w]);}},q=function(u,v,w){var x,y,z=-1,aa;for(var ba=0;ba<v.length;ba++){aa=v[ba];if(l in aa){x=w[aa.moveFrom];y=aa.finalIndex;h(u,x,y);}else if(!(n in aa))if(m in aa){y=aa.finalIndex;var ca=aa.insertMarkup;g.dangerouslyInsertMarkupAt(u,ca,y);}}},r=function(u,v){var w=o(u,v);if(w)p(u,w);q(u,v,w);},s=function(u,v,w){u.childNodes[v].nodeValue=w;},t={dangerouslyReplaceNodeWithMarkup:g.dangerouslyReplaceNodeWithMarkup,manageChildren:r,setTextNodeValueAtIndex:s};e.exports=t;});
__d("DOMProperty",["invariant"],function(a,b,c,d,e,f){var g=b('invariant'),h={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_BOOLEAN_VALUE:4,HAS_SIDE_EFFECTS:8,injectDOMPropertyConfig:function(k){var l=k.Properties||{},m=k.DOMAttributeNames||{},n=k.DOMPropertyNames||{},o=k.DOMMutationMethods||{};if(k.isCustomAttribute)j._isCustomAttributeFunctions.push(k.isCustomAttribute);for(var p in l){g(!j.isStandardName[p]);j.isStandardName[p]=true;j.getAttributeName[p]=m[p]||p.toLowerCase();j.getPropertyName[p]=n[p]||p;var q=o[p];if(q)j.getMutationMethod[p]=q;var r=l[p];j.mustUseAttribute[p]=r&h.MUST_USE_ATTRIBUTE;j.mustUseProperty[p]=r&h.MUST_USE_PROPERTY;j.hasBooleanValue[p]=r&h.HAS_BOOLEAN_VALUE;j.hasSideEffects[p]=r&h.HAS_SIDE_EFFECTS;g(!j.mustUseAttribute[p]||!j.mustUseProperty[p]);g(j.mustUseProperty[p]||!j.hasSideEffects[p]);}}},i={},j={isStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasBooleanValue:{},hasSideEffects:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(k){return j._isCustomAttributeFunctions.some(function(l){return l.call(null,k);});},getDefaultValueForProperty:function(k,l){var m=i[k],n;if(!m)i[k]=m={};if(!(l in m)){n=document.createElement(k);m[l]=n[l];}return m[l];},injection:h};e.exports=j;});
__d("DOMPropertyOperations",["DOMProperty","escapeTextForBrowser","memoizeStringOnly"],function(a,b,c,d,e,f){var g=b('DOMProperty'),h=b('escapeTextForBrowser'),i=b('memoizeStringOnly'),j=i(function(l){return h(l)+'="';}),k={createMarkupForProperty:function(l,m){if(g.isStandardName[l]){if(m==null||g.hasBooleanValue[l]&&!m)return '';var n=g.getAttributeName[l];return j(n)+h(m)+'"';}else if(g.isCustomAttribute(l)){if(m==null)return '';return j(l)+h(m)+'"';}else return null;},setValueForProperty:function(l,m,n){if(g.isStandardName[m]){var o=g.getMutationMethod[m];if(o){o(l,n);}else if(g.mustUseAttribute[m]){if(g.hasBooleanValue[m]&&!n){l.removeAttribute(g.getAttributeName[m]);}else l.setAttribute(g.getAttributeName[m],n);}else{var p=g.getPropertyName[m];if(!g.hasSideEffects[m]||l[p]!==n)l[p]=n;}}else if(g.isCustomAttribute(m))l.setAttribute(m,n);},deleteValueForProperty:function(l,m){if(g.isStandardName[m]){var n=g.getMutationMethod[m];if(n){n(l,undefined);}else if(g.mustUseAttribute[m]){l.removeAttribute(g.getAttributeName[m]);}else{var o=g.getPropertyName[m];l[o]=g.getDefaultValueForProperty(l.nodeName,m);}}else if(g.isCustomAttribute(m))l.removeAttribute(m);}};e.exports=k;});
__d("keyMirror",["throwIf"],function(a,b,c,d,e,f){var g=b('throwIf'),h='NOT_OBJECT_ERROR',i=function(j){var k={},l;g(!(j instanceof Object)||Array.isArray(j),h);for(l in j){if(!j.hasOwnProperty(l))continue;k[l]=l;}return k;};e.exports=i;});
__d("EventConstants",["keyMirror"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=g({bubbled:null,captured:null}),i=g({topBlur:null,topChange:null,topClick:null,topDOMCharacterDataModified:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),j={topLevelTypes:i,PropagationPhases:h};e.exports=j;});
__d("EventListener",["Event"],function(a,b,c,d,e,f){var g=b('Event'),h={listen:g.listen,capture:function(i,j,k){if(!i.addEventListener){return;}else i.addEventListener(j,k,true);}};e.exports=h;});
__d("CallbackRegistry",[],function(a,b,c,d,e,f){var g={},h={putListener:function(i,j,k){var l=g[j]||(g[j]={});l[i]=k;},getListener:function(i,j){var k=g[j];return k&&k[i];},deleteListener:function(i,j){var k=g[j];if(k)delete k[i];},deleteAllListeners:function(i){for(var j in g)delete g[j][i];},__purge:function(){g={};}};e.exports=h;});
__d("EventPluginRegistry",["invariant"],function(a,b,c,d,e,f){var g=b('invariant'),h=null,i={};function j(){if(!h)return;for(var n in i){var o=i[n],p=h.indexOf(n);g(p>-1);if(m.plugins[p])continue;g(o.extractEvents);m.plugins[p]=o;var q=o.eventTypes;for(var r in q)g(k(q[r],o));}}function k(n,o){var p=n.phasedRegistrationNames;if(p){for(var q in p)if(p.hasOwnProperty(q)){var r=p[q];l(r,o);}return true;}else if(n.registrationName){l(n.registrationName,o);return true;}return false;}function l(n,o){g(!m.registrationNames[n]);m.registrationNames[n]=o;m.registrationNamesKeys.push(n);}var m={plugins:[],registrationNames:{},registrationNamesKeys:[],injectEventPluginOrder:function(n){g(!h);h=Array.prototype.slice.call(n);j();},injectEventPluginsByName:function(n){var o=false;for(var p in n){if(!n.hasOwnProperty(p))continue;var q=n[p];if(i[p]!==q){g(!i[p]);i[p]=q;o=true;}}if(o)j();},getPluginModuleForEvent:function(event){var n=event.dispatchConfig;if(n.registrationName)return m.registrationNames[n.registrationName]||null;for(var o in n.phasedRegistrationNames){if(!n.phasedRegistrationNames.hasOwnProperty(o))continue;var p=m.registrationNames[n.phasedRegistrationNames[o]];if(p)return p;}return null;},_resetEventPlugins:function(){h=null;for(var n in i)if(i.hasOwnProperty(n))delete i[n];m.plugins.length=0;var o=m.registrationNames;for(var p in o)if(o.hasOwnProperty(p))delete o[p];m.registrationNamesKeys.length=0;}};e.exports=m;});
__d("EventPluginUtils",["EventConstants","invariant"],function(a,b,c,d,e,f){var g=b('EventConstants'),h=b('invariant'),i=g.topLevelTypes;function j(u){return u===i.topMouseUp||u===i.topTouchEnd||u===i.topTouchCancel;}function k(u){return u===i.topMouseMove||u===i.topTouchMove;}function l(u){return u===i.topMouseDown||u===i.topTouchStart;}var m;function n(event,u){var v=event._dispatchListeners,w=event._dispatchIDs;if(Array.isArray(v)){for(var x=0;x<v.length;x++){if(event.isPropagationStopped())break;u(event,v[x],w[x]);}}else if(v)u(event,v,w);}function o(event,u,v){u(event,v);}function p(event,u){n(event,u);event._dispatchListeners=null;event._dispatchIDs=null;}function q(event){var u=event._dispatchListeners,v=event._dispatchIDs;if(Array.isArray(u)){for(var w=0;w<u.length;w++){if(event.isPropagationStopped())break;if(u[w](event,v[w]))return v[w];}}else if(u)if(u(event,v))return v;return null;}function r(event){var u=event._dispatchListeners,v=event._dispatchIDs;h(!Array.isArray(u));var w=u?u(event,v):null;event._dispatchListeners=null;event._dispatchIDs=null;return w;}function s(event){return !!event._dispatchListeners;}var t={isEndish:j,isMoveish:k,isStartish:l,executeDispatchesInOrder:p,executeDispatchesInOrderStopAtTrue:q,executeDirectDispatch:r,hasDispatches:s,executeDispatch:o};e.exports=t;});
__d("accumulate",["throwIf"],function(a,b,c,d,e,f){var g=b('throwIf'),h='INVALID_ACCUM_ARGS';function i(j,k){var l=j==null,m=k===null;if(m){return j;}else if(l){return k;}else{var n=Array.isArray(j),o=Array.isArray(k);if(n){return j.concat(k);}else if(o){return [j].concat(k);}else return [j,k];}}e.exports=i;});
__d("forEachAccumulated",[],function(a,b,c,d,e,f){var g=function(h,i,j){if(Array.isArray(h)){h.forEach(i,j);}else if(h)i.call(j,h);};e.exports=g;});
__d("EventPropagators",["CallbackRegistry","EventConstants","accumulate","forEachAccumulated"],function(a,b,c,d,e,f){var g=b('CallbackRegistry'),h=b('EventConstants'),i=b('accumulate'),j=b('forEachAccumulated'),k=g.getListener,l=h.PropagationPhases,m={InstanceHandle:null,injectInstanceHandle:function(w){m.InstanceHandle=w;},validate:function(){var w=!m.InstanceHandle||!m.InstanceHandle.traverseTwoPhase||!m.InstanceHandle.traverseEnterLeave;if(w)throw new Error('InstanceHandle not injected before use!');}};function n(w,event,x){var y=event.dispatchConfig.phasedRegistrationNames[x];return k(w,y);}function o(w,x,event){var y=x?l.bubbled:l.captured,z=n(w,event,y);if(z){event._dispatchListeners=i(event._dispatchListeners,z);event._dispatchIDs=i(event._dispatchIDs,w);}}function p(event){if(event&&event.dispatchConfig.phasedRegistrationNames)m.InstanceHandle.traverseTwoPhase(event.dispatchMarker,o,event);}function q(w,x,event){if(event&&event.dispatchConfig.registrationName){var y=event.dispatchConfig.registrationName,z=k(w,y);if(z){event._dispatchListeners=i(event._dispatchListeners,z);event._dispatchIDs=i(event._dispatchIDs,w);}}}function r(event){if(event&&event.dispatchConfig.registrationName)q(event.dispatchMarker,null,event);}function s(w){j(w,p);}function t(w,x,y,z){m.InstanceHandle.traverseEnterLeave(y,z,q,w,x);}function u(w){j(w,r);}var v={accumulateTwoPhaseDispatches:s,accumulateDirectDispatches:u,accumulateEnterLeaveDispatches:t,injection:m};e.exports=v;});
__d("EventPluginHub",["CallbackRegistry","EventPluginRegistry","EventPluginUtils","EventPropagators","ExecutionEnvironment","accumulate","forEachAccumulated","invariant"],function(a,b,c,d,e,f){var g=b('CallbackRegistry'),h=b('EventPluginRegistry'),i=b('EventPluginUtils'),j=b('EventPropagators'),k=b('ExecutionEnvironment'),l=b('accumulate'),m=b('forEachAccumulated'),n=b('invariant'),o=null,p=function(event){if(event){var r=i.executeDispatch,s=h.getPluginModuleForEvent(event);if(s&&s.executeDispatch)r=s.executeDispatch;i.executeDispatchesInOrder(event,r);if(!event.isPersistent())event.constructor.release(event);}},q={injection:{injectInstanceHandle:j.injection.injectInstanceHandle,injectEventPluginOrder:h.injectEventPluginOrder,injectEventPluginsByName:h.injectEventPluginsByName},registrationNames:h.registrationNames,putListener:g.putListener,getListener:g.getListener,deleteListener:g.deleteListener,deleteAllListeners:g.deleteAllListeners,extractEvents:function(r,s,t,u){var v,w=h.plugins;for(var x=0,y=w.length;x<y;x++){var z=w[x];if(z){var aa=z.extractEvents(r,s,t,u);if(aa)v=l(v,aa);}}return v;},enqueueEvents:function(r){if(r)o=l(o,r);},processEventQueue:function(){var r=o;o=null;m(r,p);n(!o);}};if(k.canUseDOM)window.EventPluginHub=q;e.exports=q;});
__d("ReactUpdates",["invariant"],function(a,b,c,d,e,f){var g=b('invariant'),h=false,i=[];function j(m){if(h){m();return;}h=true;try{m();for(var o=0;o<i.length;o++){var p=i[o];if(p.isMounted()){var q=p._pendingCallbacks;p._pendingCallbacks=null;p.performUpdateIfNecessary();if(q)for(var r=0;r<q.length;r++)q[r]();}}}catch(n){throw n;}finally{i.length=0;h=false;}}function k(m,n){g(!n||typeof n==="function");if(!h){m.performUpdateIfNecessary();n&&n();return;}i.push(m);if(n)if(m._pendingCallbacks){m._pendingCallbacks.push(n);}else m._pendingCallbacks=[n];}var l={batchedUpdates:j,enqueueUpdate:k};e.exports=l;});
__d("ViewportMetrics",[],function(a,b,c,d,e,f){var g={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){g.currentScrollLeft=document.body.scrollLeft+document.documentElement.scrollLeft;g.currentScrollTop=document.body.scrollTop+document.documentElement.scrollTop;}};e.exports=g;});
__d("isEventSupported",["ExecutionEnvironment"],function(a,b,c,d,e,f){var g=b('ExecutionEnvironment'),h,i;if(g.canUseDOM){h=document.createElement('div');i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature('','')!==true;}function j(k,l){if(!h||(l&&!h.addEventListener))return false;var m=document.createElement('div'),n='on'+k,o=n in m;if(!o){m.setAttribute(n,'');o=typeof m[n]==='function';if(typeof m[n]!=='undefined')m[n]=undefined;m.removeAttribute(n);}if(!o&&i&&k==='wheel')o=document.implementation.hasFeature('Events.wheel','3.0');m=null;return o;}e.exports=j;});
__d("ReactEventEmitter",["EventConstants","EventListener","EventPluginHub","ExecutionEnvironment","ReactUpdates","ViewportMetrics","invariant","isEventSupported"],function(a,b,c,d,e,f){var g=b('EventConstants'),h=b('EventListener'),i=b('EventPluginHub'),j=b('ExecutionEnvironment'),k=b('ReactUpdates'),l=b('ViewportMetrics'),m=b('invariant'),n=b('isEventSupported'),o=false;function p(u,v,w){h.listen(w,v,t.TopLevelCallbackCreator.createTopLevelCallback(u));}function q(u,v,w){h.capture(w,v,t.TopLevelCallbackCreator.createTopLevelCallback(u));}function r(){var u=l.refreshScrollValues;h.listen(window,'scroll',u);h.listen(window,'resize',u);}function s(u){m(!o);var v=g.topLevelTypes,w=document;r();p(v.topMouseOver,'mouseover',w);p(v.topMouseDown,'mousedown',w);p(v.topMouseUp,'mouseup',w);p(v.topMouseMove,'mousemove',w);p(v.topMouseOut,'mouseout',w);p(v.topClick,'click',w);p(v.topDoubleClick,'dblclick',w);if(u){p(v.topTouchStart,'touchstart',w);p(v.topTouchEnd,'touchend',w);p(v.topTouchMove,'touchmove',w);p(v.topTouchCancel,'touchcancel',w);}p(v.topKeyUp,'keyup',w);p(v.topKeyPress,'keypress',w);p(v.topKeyDown,'keydown',w);p(v.topInput,'input',w);p(v.topChange,'change',w);p(v.topSelectionChange,'selectionchange',w);p(v.topDOMCharacterDataModified,'DOMCharacterDataModified',w);if(n('drag')){p(v.topDrag,'drag',w);p(v.topDragEnd,'dragend',w);p(v.topDragEnter,'dragenter',w);p(v.topDragExit,'dragexit',w);p(v.topDragLeave,'dragleave',w);p(v.topDragOver,'dragover',w);p(v.topDragStart,'dragstart',w);p(v.topDrop,'drop',w);}if(n('wheel')){p(v.topWheel,'wheel',w);}else if(n('mousewheel')){p(v.topWheel,'mousewheel',w);}else p(v.topWheel,'DOMMouseScroll',w);if(n('scroll',true)){q(v.topScroll,'scroll',w);}else p(v.topScroll,'scroll',window);if(n('focus',true)){q(v.topFocus,'focus',w);q(v.topBlur,'blur',w);}else if(n('focusin')){p(v.topFocus,'focusin',w);p(v.topBlur,'focusout',w);}}var t={TopLevelCallbackCreator:null,ensureListening:function(u,v){m(j.canUseDOM);if(!o){t.TopLevelCallbackCreator=v;s(u);o=true;}},setEnabled:function(u){m(j.canUseDOM);if(t.TopLevelCallbackCreator)t.TopLevelCallbackCreator.setEnabled(u);},isEnabled:function(){return !!(t.TopLevelCallbackCreator&&t.TopLevelCallbackCreator.isEnabled());},handleTopLevel:function(u,v,w,x){var y=i.extractEvents(u,v,w,x);k.batchedUpdates(function(){i.enqueueEvents(y);i.processEventQueue();});},registrationNames:i.registrationNames,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners,trapBubbledEvent:p,trapCapturedEvent:q};e.exports=t;});
__d("getEventTarget",["ExecutionEnvironment"],function(a,b,c,d,e,f){var g=b('ExecutionEnvironment');function h(i){var j=i.target||i.srcElement||g.global;return j.nodeType===3?j.parentNode:j;}e.exports=h;});
__d("ReactEventTopLevelCallback",["ExecutionEnvironment","ReactEventEmitter","ReactID","ReactInstanceHandles","getEventTarget"],function(a,b,c,d,e,f){var g=b('ExecutionEnvironment'),h=b('ReactEventEmitter'),i=b('ReactID'),j=b('ReactInstanceHandles'),k=b('getEventTarget'),l=true,m={setEnabled:function(n){l=!!n;},isEnabled:function(){return l;},createTopLevelCallback:function(n){return function(o){if(!l)return;if(o.srcElement&&o.srcElement!==o.target)o.target=o.srcElement;var p=j.getFirstReactDOM(k(o))||g.global,q=i.getID(p)||'';h.handleTopLevel(n,p,q,o);};}};e.exports=m;});
__d("ReactInstanceHandles",["ReactID","invariant"],function(a,b,c,d,e,f){var g=b('ReactID'),h=b('invariant'),i='.',j=i.length,k=100,l=9999999;function m(v){return i+'r['+v.toString(36)+']';}function n(v,w){return v.charAt(w)===i||w===v.length;}function o(v){return v===''||(v.charAt(0)===i&&v.charAt(v.length-1)!==i);}function p(v,w){return (w.indexOf(v)===0&&n(w,v.length));}function q(v){return v?v.substr(0,v.lastIndexOf(i)):'';}function r(v,w){h(o(v)&&o(w));h(p(v,w));if(v===w)return v;var x=v.length+j;for(var y=x;y<w.length;y++)if(n(w,y))break;return w.substr(0,y);}function s(v,w){var x=Math.min(v.length,w.length);if(x===0)return '';var y=0;for(var z=0;z<=x;z++)if(n(v,z)&&n(w,z)){y=z;}else if(v.charAt(z)!==w.charAt(z))break;var aa=v.substr(0,y);h(o(aa));return aa;}function t(v,w,x,y,z,aa){v=v||'';w=w||'';h(v!==w);var ba=p(w,v);h(ba||p(v,w));var ca=0,da=ba?q:r;for(var ea=v;;ea=da(ea,w)){if((!z||ea!==v)&&(!aa||ea!==w))x(ea,ba,y);if(ea===w)break;h(ca++<k);}}var u={separator:i,createReactRootID:function(){return m(Math.ceil(Math.random()*l));},isRenderedByReact:function(v){if(v.nodeType!==1)return false;var w=g.getID(v);return w?w.charAt(0)===i:false;},getFirstReactDOM:function(v){var w=v;while(w&&w.parentNode!==w){if(u.isRenderedByReact(w))return w;w=w.parentNode;}return null;},findComponentRoot:function(v,w){var x=[v.firstChild],y=0;while(y<x.length){var z=x[y++];while(z){var aa=g.getID(z);if(aa){if(w===aa){return z;}else if(p(aa,w)){x.length=y=0;x.push(z.firstChild);break;}else x.push(z.firstChild);}else x.push(z.firstChild);z=z.nextSibling;}}a.console&&emptyFunction&&false;h(false);},getReactRootIDFromNodeID:function(v){var w=/\.r\[[^\]]+\]/.exec(v);return w&&w[0];},traverseEnterLeave:function(v,w,x,y,z){var aa=s(v,w);if(aa!==v)t(v,aa,x,y,false,true);if(aa!==w)t(aa,w,x,z,true,false);},traverseTwoPhase:function(v,w,x){if(v){t('',v,w,x,true,false);t(v,'',w,x,false,true);}},_getFirstCommonAncestorID:s,_getNextDescendantID:r};e.exports=u;});
__d("ReactMount",["ReactEventEmitter","ReactInstanceHandles","ReactEventTopLevelCallback","ReactID","$"],function(a,b,c,d,e,f){var g=b('ReactEventEmitter'),h=b('ReactInstanceHandles'),i=b('ReactEventTopLevelCallback'),j=b('ReactID'),k=b('$'),l={},m={};function n(q){return q&&q.firstChild;}function o(q){var r=n(q);return r&&j.getID(r);}var p={totalInstantiationTime:0,totalInjectionTime:0,useTouchEvents:false,scrollMonitor:function(q,r){r();},prepareTopLevelEvents:function(q){g.ensureListening(p.useTouchEvents,q);},_updateRootComponent:function(q,r,s,t){var u=r.props;p.scrollMonitor(s,function(){q.replaceProps(u,t);});return q;},_registerComponent:function(q,r){p.prepareTopLevelEvents(i);var s=p.registerContainer(r);l[s]=q;return s;},_renderNewRootComponent:function(q,r,s){var t=p._registerComponent(q,r);q.mountComponentIntoNode(t,r,s);return q;},renderComponent:function(q,r,s){var t=l[o(r)];if(t)if(t.constructor===q.constructor){return p._updateRootComponent(t,q,r,s);}else p.unmountAndReleaseReactRootNode(r);var u=n(r),v=u&&h.isRenderedByReact(u),w=v&&!t,x=p._renderNewRootComponent(q,r,w);s&&s();return x;},constructAndRenderComponent:function(q,r,s){return p.renderComponent(q(r),s);},constructAndRenderComponentByID:function(q,r,s){return p.constructAndRenderComponent(q,r,k(s));},registerContainer:function(q){var r=o(q);if(r)r=h.getReactRootIDFromNodeID(r);if(!r)r=h.createReactRootID();m[r]=q;return r;},unmountAndReleaseReactRootNode:function(q){var r=o(q),s=l[r];if(!s)return false;s.unmountComponentFromNode(q);delete l[r];delete m[r];return true;},findReactContainerForID:function(q){var r=h.getReactRootIDFromNodeID(q);return m[r];},findReactNodeByID:function(q){var r=p.findReactContainerForID(q);return h.findComponentRoot(r,q);}};e.exports=p;});
__d("ReactID",["invariant","ReactMount"],function(a,b,c,d,e,f){var g=b('invariant'),h=b('ReactMount'),i='data-reactid',j={};function k(s){var t=l(s);if(t)if(j.hasOwnProperty(t)){var u=j[t];if(u!==s){g(!o(u,t));j[t]=s;}}else j[t]=s;return t;}function l(s){if(s&&s.getAttributeNode){var t=s.getAttributeNode(i);if(t)return t.value||'';}return '';}function m(s,t){var u=l(s);if(u!==t)delete j[u];s.setAttribute(i,t);j[t]=s;}function n(s){if(!j.hasOwnProperty(s)||!o(j[s],s))j[s]=h.findReactNodeByID(s);return j[s];}function o(s,t){if(s){g(l(s)===t);var u=h.findReactContainerForID(t);if(u&&p(u,s))return true;}return false;}function p(s,t){if(s.contains)return s.contains(t);if(t===s)return true;if(t.nodeType===3)t=t.parentNode;while(t&&t.nodeType===1){if(t===s)return true;t=t.parentNode;}return false;}function q(s){delete j[s];}function r(){j={};}f.ATTR_NAME=i;f.getID=k;f.setID=m;f.getNode=n;f.purgeID=q;f.purgeEntireCache=r;});
__d("getTextContentAccessor",["ExecutionEnvironment"],function(a,b,c,d,e,f){var g=b('ExecutionEnvironment'),h=null;function i(){if(!h&&g.canUseDOM)h='innerText' in document.createElement('div')?'innerText':'textContent';return h;}e.exports=i;});
__d("ReactDOMIDOperations",["CSSPropertyOperations","DOMChildrenOperations","DOMPropertyOperations","ReactID","getTextContentAccessor","invariant"],function(a,b,c,d,e,f){var g=b('CSSPropertyOperations'),h=b('DOMChildrenOperations'),i=b('DOMPropertyOperations'),j=b('ReactID'),k=b('getTextContentAccessor'),l=b('invariant'),m={dangerouslySetInnerHTML:'`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.',style:'`style` must be set using `updateStylesByID()`.'},n=k()||'NA',o={updatePropertyByID:function(p,q,r){var s=j.getNode(p);l(!m.hasOwnProperty(q));i.setValueForProperty(s,q,r);},deletePropertyByID:function(p,q,r){var s=j.getNode(p);l(!m.hasOwnProperty(q));i.deleteValueForProperty(s,q,r);},updatePropertiesByID:function(p,q){for(var r in q){if(!q.hasOwnProperty(r))continue;o.updatePropertiesByID(p,r,q[r]);}},updateStylesByID:function(p,q){var r=j.getNode(p);g.setValueForStyles(r,q);},updateInnerHTMLByID:function(p,q){var r=j.getNode(p);r.innerHTML=(q&&q.__html||'').replace(/^ /g,'&nbsp;');},updateTextContentByID:function(p,q){var r=j.getNode(p);r[n]=q;},dangerouslyReplaceNodeWithMarkupByID:function(p,q){var r=j.getNode(p);h.dangerouslyReplaceNodeWithMarkup(r,q);j.purgeEntireCache();},manageChildrenByParentID:function(p,q){var r=j.getNode(p);h.manageChildren(r,q);j.purgeEntireCache();},setTextNodeValueAtIndexByParentID:function(p,q,r){var s=j.getNode(p);h.setTextNodeValueAtIndex(s,q,r);}};e.exports=o;});
__d("ReactOwner",["invariant"],function(a,b,c,d,e,f){var g=b('invariant'),h={isValidOwner:function(i){return !!(i&&typeof i.attachRef==='function'&&typeof i.detachRef==='function');},addComponentAsRefTo:function(i,j,k){g(h.isValidOwner(k));k.attachRef(j,i);},removeComponentAsRefFrom:function(i,j,k){g(h.isValidOwner(k));if(k.refs[j]===i)k.detachRef(j);},Mixin:{attachRef:function(i,j){g(j.isOwnedBy(this));var k=this.refs||(this.refs={});k[i]=j;},detachRef:function(i){delete this.refs[i];}}};e.exports=h;});
__d("PooledClass",[],function(a,b,c,d,e,f){var g=function(p){var q=this;if(q.instancePool.length){var r=q.instancePool.pop();q.call(r,p);return r;}else return new q(p);},h=function(p,q){var r=this;if(r.instancePool.length){var s=r.instancePool.pop();r.call(s,p,q);return s;}else return new r(p,q);},i=function(p,q,r){var s=this;if(s.instancePool.length){var t=s.instancePool.pop();s.call(t,p,q,r);return t;}else return new s(p,q,r);},j=function(p,q,r,s,t){var u=this;if(u.instancePool.length){var v=u.instancePool.pop();u.call(v,p,q,r,s,t);return v;}else return new u(p,q,r,s,t);},k=function(p){var q=this;if(p.destructor)p.destructor();if(q.instancePool.length<q.poolSize)q.instancePool.push(p);},l=10,m=g,n=function(p,q){var r=p;r.instancePool=[];r.getPooled=q||m;if(!r.poolSize)r.poolSize=l;r.release=k;return r;},o={addPoolingTo:n,oneArgumentPooler:g,twoArgumentPooler:h,threeArgumentPooler:i,fiveArgumentPooler:j};e.exports=o;});
__d("ReactInputSelection",[],function(a,b,c,d,e,f){function g(){try{return document.activeElement;}catch(j){}}function h(j){return document.documentElement.contains(j);}var i={hasSelectionCapabilities:function(j){return j&&((j.nodeName==='INPUT'&&j.type==='text')||j.nodeName==='TEXTAREA'||j.contentEditable==='true');},getSelectionInformation:function(){var j=g();return {focusedElem:j,selectionRange:i.hasSelectionCapabilities(j)?i.getSelection(j):null};},restoreSelection:function(j){var k=g(),l=j.focusedElem,m=j.selectionRange;if(k!==l&&h(l)){if(i.hasSelectionCapabilities(l))i.setSelection(l,m);l.focus();}},getSelection:function(j){var k;if(j.contentEditable==='true'&&window.getSelection){k=window.getSelection().getRangeAt(0);var l=k.commonAncestorContainer;if(l&&l.nodeType===3)l=l.parentNode;if(l!==j){return {start:0,end:0};}else return {start:k.startOffset,end:k.endOffset};}if(!document.selection)return {start:j.selectionStart,end:j.selectionEnd};k=document.selection.createRange();if(k.parentElement()!==j)return {start:0,end:0};var m=j.value.length;if(j.nodeName==='INPUT'){return {start:-k.moveStart('character',-m),end:-k.moveEnd('character',-m)};}else{var n=k.duplicate();n.moveToElementText(j);n.setEndPoint('StartToEnd',k);var o=m-n.text.length;n.setEndPoint('StartToStart',k);return {start:m-n.text.length,end:o};}},setSelection:function(j,k){var l,m=k.start,n=k.end;if(typeof n==='undefined')n=m;if(document.selection){if(j.tagName==='TEXTAREA'){var o=(j.value.slice(0,m).match(/\r/g)||[]).length,p=(j.value.slice(m,n).match(/\r/g)||[]).length;m-=o;n-=o+p;}l=j.createTextRange();l.collapse(true);l.moveStart('character',m);l.moveEnd('character',n-m);l.select();}else if(j.contentEditable==='true'){if(j.childNodes.length===1){l=document.createRange();l.setStart(j.childNodes[0],m);l.setEnd(j.childNodes[0],n);var q=window.getSelection();q.removeAllRanges();q.addRange(l);}}else{j.selectionStart=m;j.selectionEnd=Math.min(n,j.value.length);j.focus();}}};e.exports=i;});
__d("mixInto",[],function(a,b,c,d,e,f){var g=function(h,i){var j;for(j in i){if(!i.hasOwnProperty(j))continue;h.prototype[j]=i[j];}};e.exports=g;});
__d("ReactOnDOMReady",["PooledClass","mixInto"],function(a,b,c,d,e,f){var g=b('PooledClass'),h=b('mixInto');function i(j){this._queue=j||null;}h(i,{enqueue:function(j,k){this._queue=this._queue||[];this._queue.push({component:j,callback:k});},notifyAll:function(){var j=this._queue;if(j){this._queue=null;for(var k=0,l=j.length;k<l;k++){var m=j[k].component,n=j[k].callback;n.call(m,m.getDOMNode());}j.length=0;}},reset:function(){this._queue=null;},destructor:function(){this.reset();}});g.addPoolingTo(i);e.exports=i;});
__d("Transaction",["throwIf"],function(a,b,c,d,e,f){var g=b('throwIf'),h='DUAL_TRANSACTION',i='MISSING_TRANSACTION',j={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(!this.wrapperInitData){this.wrapperInitData=[];}else this.wrapperInitData.length=0;if(!this.timingMetrics)this.timingMetrics={};this.timingMetrics.methodInvocationTime=0;if(!this.timingMetrics.wrapperInitTimes){this.timingMetrics.wrapperInitTimes=[];}else this.timingMetrics.wrapperInitTimes.length=0;if(!this.timingMetrics.wrapperCloseTimes){this.timingMetrics.wrapperCloseTimes=[];}else this.timingMetrics.wrapperCloseTimes.length=0;this._isInTransaction=false;},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return !!this._isInTransaction;},perform:function(l,m,n,o,p,q,r,s){g(this.isInTransaction(),h);var t=Date.now(),u=null,v;try{this.initializeAll();v=l.call(m,n,o,p,q,r,s);}catch(w){u=w;}finally{var x=Date.now();this.methodInvocationTime+=(x-t);try{this.closeAll();}catch(y){u=u||y;}}if(u)throw u;return v;},initializeAll:function(){this._isInTransaction=true;var l=this.transactionWrappers,m=this.timingMetrics.wrapperInitTimes,n=null;for(var o=0;o<l.length;o++){var p=Date.now(),q=l[o];try{this.wrapperInitData[o]=q.initialize?q.initialize.call(this):null;}catch(r){n=n||r;this.wrapperInitData[o]=k.OBSERVED_ERROR;}finally{var s=m[o],t=Date.now();m[o]=(s||0)+(t-p);}}if(n)throw n;},closeAll:function(){g(!this.isInTransaction(),i);var l=this.transactionWrappers,m=this.timingMetrics.wrapperCloseTimes,n=null;for(var o=0;o<l.length;o++){var p=l[o],q=Date.now(),r=this.wrapperInitData[o];try{if(r!==k.OBSERVED_ERROR)p.close&&p.close.call(this,r);}catch(s){n=n||s;}finally{var t=Date.now(),u=m[o];m[o]=(u||0)+(t-q);}}this.wrapperInitData.length=0;this._isInTransaction=false;if(n)throw n;}},k={Mixin:j,OBSERVED_ERROR:{}};e.exports=k;});
__d("ReactReconcileTransaction",["ExecutionEnvironment","PooledClass","ReactEventEmitter","ReactInputSelection","ReactOnDOMReady","Transaction","mixInto"],function(a,b,c,d,e,f){var g=b('ExecutionEnvironment'),h=b('PooledClass'),i=b('ReactEventEmitter'),j=b('ReactInputSelection'),k=b('ReactOnDOMReady'),l=b('Transaction'),m=b('mixInto'),n={initialize:j.getSelectionInformation,close:j.restoreSelection},o={initialize:function(){var t=i.isEnabled();i.setEnabled(false);return t;},close:function(t){i.setEnabled(t);}},p={initialize:function(){this.reactOnDOMReady.reset();},close:function(){this.reactOnDOMReady.notifyAll();}},q=[n,o,p];function r(){this.reinitializeTransaction();this.reactOnDOMReady=k.getPooled(null);}var s={getTransactionWrappers:function(){if(g.canUseDOM){return q;}else return [];},getReactOnDOMReady:function(){return this.reactOnDOMReady;},destructor:function(){k.release(this.reactOnDOMReady);this.reactOnDOMReady=null;}};m(r,l.Mixin);m(r,s);h.addPoolingTo(r);e.exports=r;});
__d("mergeHelpers",["keyMirror","throwIf"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=b('throwIf'),i=36,j=g({MERGE_ARRAY_FAIL:null,MERGE_CORE_FAILURE:null,MERGE_TYPE_USAGE_FAILURE:null,MERGE_DEEP_MAX_LEVELS:null,MERGE_DEEP_NO_ARR_STRATEGY:null}),k=function(m){return typeof m!=='object'||m===null;},l={MAX_MERGE_DEPTH:i,isTerminal:k,normalizeMergeArg:function(m){return m===undefined||m===null?{}:m;},checkMergeArrayArgs:function(m,n){h(!Array.isArray(m)||!Array.isArray(n),j.MERGE_CORE_FAILURE);},checkMergeObjectArgs:function(m,n){l.checkMergeObjectArg(m);l.checkMergeObjectArg(n);},checkMergeObjectArg:function(m){h(k(m)||Array.isArray(m),j.MERGE_CORE_FAILURE);},checkMergeLevel:function(m){h(m>=i,j.MERGE_DEEP_MAX_LEVELS);},checkArrayStrategy:function(m){h(m!==undefined&&!(m in l.ArrayStrategies),j.MERGE_DEEP_NO_ARR_STRATEGY);},ArrayStrategies:g({Clobber:true,IndexByIndex:true}),ERRORS:j};e.exports=l;});
__d("mergeInto",["mergeHelpers"],function(a,b,c,d,e,f){var g=b('mergeHelpers'),h=g.checkMergeObjectArg;function i(j,k){h(j);if(k!=null){h(k);for(var l in k){if(!k.hasOwnProperty(l))continue;j[l]=k[l];}}}e.exports=i;});
__d("merge",["mergeInto"],function(a,b,c,d,e,f){var g=b('mergeInto'),h=function(i,j){var k={};g(k,i);g(k,j);return k;};e.exports=h;});
__d("ReactComponent",["ReactCurrentOwner","ReactDOMIDOperations","ReactID","ReactMount","ReactOwner","ReactReconcileTransaction","ReactUpdates","invariant","keyMirror","merge"],function(a,b,c,d,e,f){var g=b('ReactCurrentOwner'),h=b('ReactDOMIDOperations'),i=b('ReactID'),j=b('ReactMount'),k=b('ReactOwner'),l=b('ReactReconcileTransaction'),m=b('ReactUpdates'),n=b('invariant'),o=b('keyMirror'),p=b('merge'),q='{owner}',r='{is.key.validated}',s=o({MOUNTED:null,UNMOUNTED:null}),t={};function u(x){if(x[r]||x.props.key!=null)return;x[r]=true;if(!g.current)return;var y=g.current.constructor.displayName;if(t.hasOwnProperty(y))return;t[y]=true;var z='Each child in an array should have a unique "key" prop. '+'Check the render method of '+y+'.';if(!x.isOwnedBy(g.current)){var aa=x.props[q]&&x.props[q].constructor.displayName;z+=' It was passed a child from '+aa+'.';}}function v(x){if(Array.isArray(x)){for(var y=0;y<x.length;y++){var z=x[y];if(w.isValidComponent(z))u(z);}}else if(w.isValidComponent(x))x[r]=true;}var w={isValidComponent:function(x){return !!(x&&typeof x.mountComponentIntoNode==='function'&&typeof x.receiveProps==='function');},getKey:function(x,y){if(x&&x.props&&x.props.key!=null)return ''+x.props.key;return ''+y;},LifeCycle:s,DOMIDOperations:h,ReactReconcileTransaction:l,setDOMOperations:function(x){w.DOMIDOperations=x;},setReactReconcileTransaction:function(x){w.ReactReconcileTransaction=x;},Mixin:{isMounted:function(){return this._lifeCycleState===s.MOUNTED;},getDOMNode:function(){n(this.isMounted());return i.getNode(this._rootNodeID);},setProps:function(x,y){this.replaceProps(p(this._pendingProps||this.props,x),y);},replaceProps:function(x,y){n(!this.props[q]);this._pendingProps=x;m.enqueueUpdate(this,y);},construct:function(x,y){this.props=x||{};this.props[q]=g.current;this._lifeCycleState=s.UNMOUNTED;this._pendingProps=null;this._pendingCallbacks=null;var z=arguments.length-1;if(z===1){this.props.children=y;}else if(z>1){var aa=Array(z);for(var ba=0;ba<z;ba++)aa[ba]=arguments[ba+1];this.props.children=aa;}},mountComponent:function(x,y){n(!this.isMounted());var z=this.props;if(z.ref!=null)k.addComponentAsRefTo(this,z.ref,z[q]);this._rootNodeID=x;this._lifeCycleState=s.MOUNTED;},unmountComponent:function(){n(this.isMounted());var x=this.props;if(x.ref!=null)k.removeComponentAsRefFrom(this,x.ref,x[q]);i.purgeID(this._rootNodeID);this._rootNodeID=null;this._lifeCycleState=s.UNMOUNTED;},receiveProps:function(x,y){n(this.isMounted());this._pendingProps=x;this._performUpdateIfNecessary(y);},performUpdateIfNecessary:function(){var x=w.ReactReconcileTransaction.getPooled();x.perform(this._performUpdateIfNecessary,this,x);w.ReactReconcileTransaction.release(x);},_performUpdateIfNecessary:function(x){if(this._pendingProps==null)return;var y=this.props;this.props=this._pendingProps;this._pendingProps=null;this.updateComponent(x,y);},updateComponent:function(x,y){var z=this.props;if(z[q]!==y[q]||z.ref!==y.ref){if(y.ref!=null)k.removeComponentAsRefFrom(this,y.ref,y[q]);if(z.ref!=null)k.addComponentAsRefTo(this,z.ref,z[q]);}},mountComponentIntoNode:function(x,y,z){var aa=w.ReactReconcileTransaction.getPooled();aa.perform(this._mountComponentIntoNode,this,x,y,aa,z);w.ReactReconcileTransaction.release(aa);},_mountComponentIntoNode:function(x,y,z,aa){n(y&&y.nodeType===1);var ba=Date.now(),ca=this.mountComponent(x,z);j.totalInstantiationTime+=(Date.now()-ba);if(aa)return;var da=Date.now(),ea=y.parentNode;if(ea){var fa=y.nextSibling;ea.removeChild(y);y.innerHTML=ca;if(fa){ea.insertBefore(y,fa);}else ea.appendChild(y);}else y.innerHTML=ca;j.totalInjectionTime+=(Date.now()-da);},unmountComponentFromNode:function(x){this.unmountComponent();while(x.lastChild)x.removeChild(x.lastChild);},isOwnedBy:function(x){return this.props[q]===x;},getSiblingByRef:function(x){var y=this.props[q];if(!y||!y.refs)return null;return y.refs[x];}}};e.exports=w;});
__d("joinClasses",[],function(a,b,c,d,e,f){function g(h){if(!h)h='';var i,j=arguments.length;if(j>1)for(var k=1;k<j;k++){i=arguments[k];i&&(h+=' '+i);}return h;}e.exports=g;});
__d("ReactPropTransferer",["emptyFunction","joinClasses","merge"],function(a,b,c,d,e,f){var g=b('emptyFunction'),h=b('joinClasses'),i=b('merge');function j(m){return function(n,o,p){if(!n.hasOwnProperty(o)){n[o]=p;}else n[o]=m(n[o],p);};}var k={children:g,className:j(h),ref:g,style:j(i)},l={TransferStrategies:k,Mixin:{transferPropsTo:function(m){var n={};for(var o in m.props)if(m.props.hasOwnProperty(o))n[o]=m.props[o];for(var p in this.props){if(!this.props.hasOwnProperty(p))continue;var q=k[p];if(q){q(n,p,this.props[p]);}else if(!n.hasOwnProperty(p))n[p]=this.props[p];}m.props=n;return m;}}};e.exports=l;});
__d("ReactCompositeComponent",["ReactComponent","ReactCurrentOwner","ReactOwner","ReactPropTransferer","ReactUpdates","invariant","keyMirror","merge","mixInto"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactCurrentOwner'),i=b('ReactOwner'),j=b('ReactPropTransferer'),k=b('ReactUpdates'),l=b('invariant'),m=b('keyMirror'),n=b('merge'),o=b('mixInto'),p=m({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null}),q={mixins:p.DEFINE_MANY,props:p.DEFINE_ONCE,getDefaultProps:p.DEFINE_ONCE,getInitialState:p.DEFINE_ONCE,render:p.DEFINE_ONCE,componentWillMount:p.DEFINE_MANY,componentDidMount:p.DEFINE_MANY,componentWillReceiveProps:p.DEFINE_MANY,shouldComponentUpdate:p.DEFINE_ONCE,componentWillUpdate:p.DEFINE_MANY,componentDidUpdate:p.DEFINE_MANY,componentWillUnmount:p.DEFINE_MANY,updateComponent:p.OVERRIDE_BASE},r={displayName:function(aa,ba){aa.displayName=ba;},mixins:function(aa,ba){if(ba)for(var ca=0;ca<ba.length;ca++)u(aa,ba[ca]);},props:function(aa,ba){aa.propDeclarations=ba;}};function s(aa,ba){var ca=q[ba];if(x.hasOwnProperty(ba))l(ca===p.OVERRIDE_BASE);if(aa.hasOwnProperty(ba))l(ca===p.DEFINE_MANY);}function t(aa){var ba=aa._compositeLifeCycleState;l(aa.isMounted()||ba===w.MOUNTING);l(ba!==w.RECEIVING_STATE&&ba!==w.UNMOUNTING);}function u(aa,ba){var ca=aa.prototype;for(var da in ba){var ea=ba[da];if(!ba.hasOwnProperty(da)||!ea)continue;s(ca,da);if(r.hasOwnProperty(da)){r[da](aa,ea);}else{var fa=da in q,ga=da in ca,ha=ea.__reactDontBind,ia=typeof ea==='function',ja=ia&&!fa&&!ga&&!ha;if(ja){if(!ca.__reactAutoBindMap)ca.__reactAutoBindMap={};ca.__reactAutoBindMap[da]=ea;ca[da]=ea;}else if(ga){ca[da]=v(ca[da],ea);}else ca[da]=ea;}}}function v(aa,ba){return function ca(){aa.apply(this,arguments);ba.apply(this,arguments);};}var w=m({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null}),x={construct:function(aa,ba){g.Mixin.construct.apply(this,arguments);this.state=null;this._pendingState=null;this._compositeLifeCycleState=null;},isMounted:function(){return g.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==w.MOUNTING;},mountComponent:function(aa,ba){g.Mixin.mountComponent.call(this,aa,ba);this._compositeLifeCycleState=w.MOUNTING;this._defaultProps=this.getDefaultProps?this.getDefaultProps():null;this._processProps(this.props);if(this.__reactAutoBindMap)this._bindAutoBindMethods();this.state=this.getInitialState?this.getInitialState():null;this._pendingState=null;this._pendingForceUpdate=false;if(this.componentWillMount){this.componentWillMount();if(this._pendingState){this.state=this._pendingState;this._pendingState=null;}}this._renderedComponent=this._renderValidatedComponent();this._compositeLifeCycleState=null;var ca=this._renderedComponent.mountComponent(aa,ba);if(this.componentDidMount)ba.getReactOnDOMReady().enqueue(this,this.componentDidMount);return ca;},unmountComponent:function(){this._compositeLifeCycleState=w.UNMOUNTING;if(this.componentWillUnmount)this.componentWillUnmount();this._compositeLifeCycleState=null;this._defaultProps=null;g.Mixin.unmountComponent.call(this);this._renderedComponent.unmountComponent();this._renderedComponent=null;if(this.refs)this.refs=null;},setState:function(aa,ba){this.replaceState(n(this._pendingState||this.state,aa),ba);},replaceState:function(aa,ba){t.call(null,this);this._pendingState=aa;k.enqueueUpdate(this,ba);},_processProps:function(aa){var ba,ca=this._defaultProps;for(ba in ca)if(!(ba in aa))aa[ba]=ca[ba];var da=this.constructor.propDeclarations;if(da){var ea=this.constructor.displayName;for(ba in da){var fa=da[ba];if(fa)fa(aa,ba,ea);}}},performUpdateIfNecessary:function(){var aa=this._compositeLifeCycleState;if(aa===w.MOUNTING||aa===w.RECEIVING_PROPS)return;g.Mixin.performUpdateIfNecessary.call(this);},_performUpdateIfNecessary:function(aa){if(this._pendingProps==null&&this._pendingState==null&&!this._pendingForceUpdate)return;var ba=this.props;if(this._pendingProps!=null){ba=this._pendingProps;this._processProps(ba);this._pendingProps=null;this._compositeLifeCycleState=w.RECEIVING_PROPS;if(this.componentWillReceiveProps)this.componentWillReceiveProps(ba,aa);}this._compositeLifeCycleState=w.RECEIVING_STATE;var ca=this._pendingState||this.state;this._pendingState=null;if(this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(ba,ca)){this._pendingForceUpdate=false;this._performComponentUpdate(ba,ca,aa);}else{this.props=ba;this.state=ca;}this._compositeLifeCycleState=null;},_performComponentUpdate:function(aa,ba,ca){var da=this.props,ea=this.state;if(this.componentWillUpdate)this.componentWillUpdate(aa,ba,ca);this.props=aa;this.state=ba;this.updateComponent(ca,da,ea);if(this.componentDidUpdate)ca.getReactOnDOMReady().enqueue(this,this.componentDidUpdate.bind(this,da,ea));},updateComponent:function(aa,ba,ca){g.Mixin.updateComponent.call(this,aa,ba);var da=this._renderedComponent,ea=this._renderValidatedComponent();if(da.constructor===ea.constructor){da.receiveProps(ea.props,aa);}else{var fa=this._rootNodeID,ga=da._rootNodeID;da.unmountComponent();var ha=ea.mountComponent(fa,aa);g.DOMIDOperations.dangerouslyReplaceNodeWithMarkupByID(ga,ha);this._renderedComponent=ea;}},forceUpdate:function(aa){var ba=this._compositeLifeCycleState;l(this.isMounted()||ba===w.MOUNTING);l(ba!==w.RECEIVING_STATE&&ba!==w.UNMOUNTING);this._pendingForceUpdate=true;k.enqueueUpdate(this,aa);},_renderValidatedComponent:function(){var aa;h.current=this;try{aa=this.render();}catch(ba){throw ba;}finally{h.current=null;}l(g.isValidComponent(aa));return aa;},_bindAutoBindMethods:function(){for(var aa in this.__reactAutoBindMap){if(!this.__reactAutoBindMap.hasOwnProperty(aa))continue;var ba=this.__reactAutoBindMap[aa];this[aa]=this._bindAutoBindMethod(ba);}},_bindAutoBindMethod:function(aa){var ba=this;return function(){return aa.apply(ba,arguments);};}},y=function(){};o(y,g.Mixin);o(y,i.Mixin);o(y,j.Mixin);o(y,x);var z={LifeCycle:w,Base:y,createClass:function(aa){var ba=function(){};ba.prototype=new y();ba.prototype.constructor=ba;u(ba,aa);l(ba.prototype.render);var ca=function(da,ea){var fa=new ba();fa.construct.apply(fa,arguments);return fa;};ca.componentConstructor=ba;ca.originalSpec=aa;return ca;},autoBind:function(aa){return aa;}};e.exports=z;});
__d("ReactMultiChild",["ReactComponent"],function(a,b,c,d,e,f){var g=b('ReactComponent');function h(k,l){return k&&l&&k.constructor===l.constructor;}var i={enqueueMarkupAt:function(k,l){this.domOperations=this.domOperations||[];this.domOperations.push({insertMarkup:k,finalIndex:l});},enqueueMove:function(k,l){this.domOperations=this.domOperations||[];this.domOperations.push({moveFrom:k,finalIndex:l});},enqueueUnmountChildByName:function(k,l){if(g.isValidComponent(l)){this.domOperations=this.domOperations||[];this.domOperations.push({removeAt:l._domIndex});l.unmountComponent&&l.unmountComponent();delete this._renderedChildren[k];}},processChildDOMOperationsQueue:function(){if(this.domOperations){g.DOMIDOperations.manageChildrenByParentID(this._rootNodeID,this.domOperations);this.domOperations=null;}},unmountMultiChild:function(){var k=this._renderedChildren;for(var l in k)if(k.hasOwnProperty(l)&&k[l]){var m=k[l];m.unmountComponent&&m.unmountComponent();}this._renderedChildren=null;},mountMultiChild:function(k,l){var m='',n=0;for(var o in k){var p=k[o];if(k.hasOwnProperty(o)&&p){m+=p.mountComponent(this._rootNodeID+'.'+o,l);p._domIndex=n;n++;}}this._renderedChildren=k;this.domOperations=null;return m;},updateMultiChild:function(k,l){if(!k&&!this._renderedChildren){return;}else if(k&&!this._renderedChildren){this._renderedChildren={};}else if(!k&&this._renderedChildren)k={};var m=this._rootNodeID+'.',n=null,o=0,p=0,q=0;for(var r in k){if(!k.hasOwnProperty(r))continue;var s=this._renderedChildren[r],t=k[r];if(h(s,t)){if(n){this.enqueueMarkupAt(n,p-o);n=null;}o=0;if(s._domIndex<q)this.enqueueMove(s._domIndex,p);q=Math.max(s._domIndex,q);s.receiveProps(t.props,l);s._domIndex=p;}else{if(s){this.enqueueUnmountChildByName(r,s);q=Math.max(s._domIndex,q);}if(t){this._renderedChildren[r]=t;var u=t.mountComponent(m+r,l);n=n?n+u:u;o++;t._domIndex=p;}}p=t?p+1:p;}if(n)this.enqueueMarkupAt(n,p-o);for(var v in this._renderedChildren){if(!this._renderedChildren.hasOwnProperty(v))continue;var w=this._renderedChildren[v];if(w&&!k[v])this.enqueueUnmountChildByName(v,w);}this.processChildDOMOperationsQueue();}},j={Mixin:i};e.exports=j;});
__d("ReactTextComponent",["ReactComponent","ReactID","escapeTextForBrowser","mixInto"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactID'),i=b('escapeTextForBrowser'),j=b('mixInto'),k=function(l){this.construct({text:l});};j(k,g.Mixin);j(k,{mountComponent:function(l){g.Mixin.mountComponent.call(this,l);return ('<span '+h.ATTR_NAME+'="'+l+'">'+i(this.props.text)+'</span>');},receiveProps:function(l,m){if(l.text!==this.props.text){this.props.text=l.text;g.DOMIDOperations.updateTextContentByID(this._rootNodeID,l.text);}}});e.exports=k;});
__d("flattenChildren",["ReactComponent","ReactTextComponent","throwIf"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactTextComponent'),i=b('throwIf'),j='INVALID_CHILD',k='You have two children with identical keys. Make sure that you set the '+'"key" property to a unique value such as a row ID.',l=function(n,o,p){if(Array.isArray(o)){for(var q=0;q<o.length;q++){var r=o[q];l(n,r,p+'['+g.getKey(r,q)+']');}}else{var s=typeof o,t=p==='',u=t?'['+g.getKey(o,0)+']':p;if(o===null||o===undefined||s==='boolean'){n[u]=null;}else if(o.mountComponentIntoNode){n[u]=o;}else if(s==='object'){i(o&&o.nodeType===1,j);for(var v in o)if(o.hasOwnProperty(v))l(n,o[v],p+'{'+v+'}');}else if(s==='string'){n[u]=new h(o);}else if(s==='number')n[u]=new h(''+o);}};function m(n){if(n===null||n===undefined)return n;var o={};l(o,n,'');return o;}e.exports=m;});
__d("ReactNativeComponent",["CSSPropertyOperations","DOMPropertyOperations","ReactComponent","ReactEventEmitter","ReactMultiChild","ReactID","escapeTextForBrowser","flattenChildren","invariant","keyOf","merge","mixInto"],function(a,b,c,d,e,f){var g=b('CSSPropertyOperations'),h=b('DOMPropertyOperations'),i=b('ReactComponent'),j=b('ReactEventEmitter'),k=b('ReactMultiChild'),l=b('ReactID'),m=b('escapeTextForBrowser'),n=b('flattenChildren'),o=b('invariant'),p=b('keyOf'),q=b('merge'),r=b('mixInto'),s=j.putListener,t=j.deleteListener,u=j.registrationNames,v={string:true,number:true},w=p({dangerouslySetInnerHTML:null}),x=p({style:null});function y(aa){if(!aa)return;o(aa.children==null||aa.dangerouslySetInnerHTML==null);o(aa.style==null||typeof aa.style==='object');}function z(aa,ba){this._tagOpen='<'+aa+' ';this._tagClose=ba?'':'</'+aa+'>';this.tagName=aa.toUpperCase();}z.Mixin={mountComponent:function(aa,ba){i.Mixin.mountComponent.call(this,aa,ba);y(this.props);return (this._createOpenTagMarkup()+this._createContentMarkup(ba)+this._tagClose);},_createOpenTagMarkup:function(){var aa=this.props,ba=this._tagOpen;for(var ca in aa){if(!aa.hasOwnProperty(ca))continue;var da=aa[ca];if(da==null)continue;if(u[ca]){s(this._rootNodeID,ca,da);}else{if(ca===x){if(da)da=aa.style=q(aa.style);da=g.createMarkupForStyles(da);}var ea=h.createMarkupForProperty(ca,da);if(ea)ba+=' '+ea;}}var fa=m(this._rootNodeID);return ba+' '+l.ATTR_NAME+'="'+fa+'">';},_createContentMarkup:function(aa){var ba=this.props.dangerouslySetInnerHTML;if(ba!=null){if(ba.__html!=null)return ba.__html;}else{var ca=v[typeof this.props.children]?this.props.children:null,da=ca!=null?null:this.props.children;if(ca!=null){return m(ca);}else if(da!=null)return this.mountMultiChild(n(da),aa);}return '';},receiveProps:function(aa,ba){y(aa);i.Mixin.receiveProps.call(this,aa,ba);},updateComponent:function(aa,ba){i.Mixin.updateComponent.call(this,aa,ba);this._updateDOMProperties(ba);this._updateDOMChildren(ba,aa);},_updateDOMProperties:function(aa){var ba=this.props,ca,da,ea;for(ca in aa){if(ba.hasOwnProperty(ca)||!aa.hasOwnProperty(ca))continue;if(ca===x){var fa=aa[ca];for(da in fa)if(fa.hasOwnProperty(da)){ea=ea||{};ea[da]='';}}else if(ca===w){i.DOMIDOperations.updateTextContentByID(this._rootNodeID,'');}else if(u[ca]){t(this._rootNodeID,ca);}else i.DOMIDOperations.deletePropertyByID(this._rootNodeID,ca);}for(ca in ba){var ga=ba[ca],ha=aa[ca];if(!ba.hasOwnProperty(ca)||ga===ha)continue;if(ca===x){if(ga)ga=ba.style=q(ga);if(ha){for(da in ha)if(ha.hasOwnProperty(da)&&!ga.hasOwnProperty(da)){ea=ea||{};ea[da]='';}for(da in ga)if(ga.hasOwnProperty(da)&&ha[da]!==ga[da]){ea=ea||{};ea[da]=ga[da];}}else ea=ga;}else if(ca===w){var ia=ha&&ha.__html,ja=ga&&ga.__html;if(ia!==ja)i.DOMIDOperations.updateInnerHTMLByID(this._rootNodeID,ga);}else if(u[ca]){s(this._rootNodeID,ca,ga);}else i.DOMIDOperations.updatePropertyByID(this._rootNodeID,ca,ga);}if(ea)i.DOMIDOperations.updateStylesByID(this._rootNodeID,ea);},_updateDOMChildren:function(aa,ba){var ca=this.props,da=v[typeof aa.children]?aa.children:null,ea=v[typeof ca.children]?ca.children:null,fa=da!=null?null:aa.children,ga=ea!=null?null:ca.children;if(ea!=null){var ha=fa!=null&&ga==null;if(ha)this.updateMultiChild(null,ba);if(da!==ea)i.DOMIDOperations.updateTextContentByID(this._rootNodeID,''+ea);}else{var ia=da!=null&&ea==null;if(ia)i.DOMIDOperations.updateTextContentByID(this._rootNodeID,'');this.updateMultiChild(n(ca.children),ba);}},unmountComponent:function(){j.deleteAllListeners(this._rootNodeID);i.Mixin.unmountComponent.call(this);this.unmountMultiChild();}};r(z,i.Mixin);r(z,z.Mixin);r(z,k.Mixin);e.exports=z;});
__d("objMapKeyVal",[],function(a,b,c,d,e,f){function g(h,i,j){if(!h)return null;var k=0,l={};for(var m in h)if(h.hasOwnProperty(m))l[m]=i.call(j,m,h[m],k++);return l;}e.exports=g;});
__d("ReactDOM",["ReactNativeComponent","mergeInto","objMapKeyVal"],function(a,b,c,d,e,f){var g=b('ReactNativeComponent'),h=b('mergeInto'),i=b('objMapKeyVal');function j(m,n){var o=function(){};o.prototype=new g(m,n);o.prototype.constructor=o;var p=function(q,r){var s=new o();s.construct.apply(s,arguments);return s;};p.componentConstructor=o;return p;}var k=i({a:false,abbr:false,address:false,audio:false,b:false,blockquote:false,body:false,br:true,button:false,code:false,col:true,colgroup:false,dd:false,div:false,section:false,dl:false,dt:false,em:false,embed:true,fieldset:false,figcaption:false,figure:false,footer:false,form:false,h1:false,h2:false,h3:false,h4:false,h5:false,h6:false,header:false,hr:true,i:false,iframe:false,img:true,input:true,label:false,legend:false,li:false,line:false,nav:false,object:false,ol:false,optgroup:false,option:false,p:false,param:true,pre:false,select:false,small:false,source:false,span:false,sub:false,sup:false,strong:false,table:false,tbody:false,td:false,textarea:false,tfoot:false,th:false,thead:false,time:false,title:false,tr:false,u:false,ul:false,video:false,wbr:false,circle:false,g:false,path:false,polyline:false,rect:false,svg:false,text:false},j),l={injectComponentClasses:function(m){h(k,m);}};k.injection=l;e.exports=k;});
__d("ReactProps",["createObjectFrom","invariant"],function(a,b,c,d,e,f){var g=b('createObjectFrom'),h=b('invariant'),i={array:k('array'),bool:k('boolean'),func:k('function'),number:k('number'),object:k('object'),string:k('string'),oneOf:l,instanceOf:m},j='<<anonymous>>';function k(o){function p(q,r,s){var t=typeof q;if(t==='object'&&Array.isArray(q))t='array';h(t===o);}return n(p);}function l(o){var p=g(o);function q(r,s,t){h(p[r]);}return n(q);}function m(o){function p(q,r,s){h(q instanceof o);}return n(p);}function n(o){function p(q){function r(s,t,u){var v=s[t];if(v!=null){o(v,t,u||j);}else h(!q);}if(!q)r.isRequired=p(true);return r;}return p(false);}e.exports=i;});
__d("ReactServerRendering",["ReactReconcileTransaction","ReactInstanceHandles"],function(a,b,c,d,e,f){var g=b('ReactReconcileTransaction'),h=b('ReactInstanceHandles');function i(j,k){var l=h.createReactRootID(),m=g.getPooled();m.reinitializeTransaction();try{m.perform(function(){k(j.mountComponent(l,m));},null);}finally{g.release(m);}}e.exports={renderComponentToString:i};});
__d("ReactDOMForm",["ReactCompositeComponent","ReactDOM","ReactEventEmitter","EventConstants"],function(a,b,c,d,e,f){var g=b('ReactCompositeComponent'),h=b('ReactDOM'),i=b('ReactEventEmitter'),j=b('EventConstants'),k=h.form,l=g.createClass({render:function(){return this.transferPropsTo(k(null,this.props.children));},componentDidMount:function(m){i.trapBubbledEvent(j.topLevelTypes.topSubmit,'submit',m);}});e.exports=l;});
__d("ReactDOMInput",["DOMPropertyOperations","ReactCompositeComponent","ReactDOM","merge"],function(a,b,c,d,e,f){var g=b('DOMPropertyOperations'),h=b('ReactCompositeComponent'),i=b('ReactDOM'),j=b('merge'),k=i.input,l=h.createClass({getInitialState:function(){return {checked:this.props.defaultChecked||false,value:this.props.defaultValue||''};},shouldComponentUpdate:function(){return !this._isChanging;},getChecked:function(){return this.props.checked!=null?this.props.checked:this.state.checked;},getValue:function(){return this.props.value!=null?this.props.value:this.state.value;},render:function(){var m=j(this.props);m.checked=this.getChecked();m.value=this.getValue();m.onChange=this.handleChange;return k(m,this.props.children);},componentDidUpdate:function(m,n,o){if(this.props.checked!=null)g.setValueForProperty(o,'checked',this.props.checked||false);if(this.props.value!=null)g.setValueForProperty(o,'value',this.props.value||'');},handleChange:h.autoBind(function(event){var m;if(this.props.onChange){this._isChanging=true;m=this.props.onChange(event);this._isChanging=false;}this.setState({checked:event.target.checked,value:event.target.value});return m;})});e.exports=l;});
__d("ReactDOMTextarea",["DOMPropertyOperations","ReactCompositeComponent","ReactDOM","invariant","merge"],function(a,b,c,d,e,f){var g=b('DOMPropertyOperations'),h=b('ReactCompositeComponent'),i=b('ReactDOM'),j=b('invariant'),k=b('merge'),l=i.textarea,m={string:true,number:true},n=h.createClass({getInitialState:function(){var o=this.props.defaultValue,p=this.props.children;if(p!=null){j(o==null);if(Array.isArray(p)){j(p.length<=1);p=p[0];}j(m[typeof p]);o=''+p;}o=o||'';return {initialValue:this.props.value!=null?this.props.value:o,value:o};},shouldComponentUpdate:function(){return !this._isChanging;},getValue:function(){return this.props.value!=null?this.props.value:this.state.value;},render:function(){var o=k(this.props);j(o.dangerouslySetInnerHTML==null);o.value=this.getValue();o.onChange=this.handleChange;return l(o,this.state.initialValue);},componentDidUpdate:function(o,p,q){if(this.props.value!=null)g.setValueForProperty(q,'value',this.props.value||'');},handleChange:h.autoBind(function(event){var o;if(this.props.onChange){this._isChanging=true;o=this.props.onChange(event);this._isChanging=false;}this.setState({value:event.target.value});return o;})});e.exports=n;});
__d("DefaultDOMPropertyConfig",["DOMProperty"],function(a,b,c,d,e,f){var g=b('DOMProperty'),h=g.injection.MUST_USE_ATTRIBUTE,i=g.injection.MUST_USE_PROPERTY,j=g.injection.HAS_BOOLEAN_VALUE,k=g.injection.HAS_SIDE_EFFECTS,l={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,action:null,ajaxify:h,allowFullScreen:h|j,alt:null,autoComplete:null,autoplay:j,cellPadding:null,cellSpacing:null,checked:i|j,className:i,colSpan:null,contentEditable:null,controls:i|j,data:null,dir:null,disabled:i|j,draggable:null,enctype:null,height:h,hidden:h|j,href:null,htmlFor:null,id:i,max:null,method:null,min:null,multiple:i|j,name:null,poster:null,preload:null,placeholder:null,rel:null,required:j,role:h,scrollLeft:i,scrollTop:i,selected:i|j,spellCheck:null,src:null,step:null,style:null,tabIndex:null,target:null,title:null,type:null,value:i|k,width:h,wmode:h,cx:i,cy:i,d:i,fill:i,fx:i,fy:i,points:i,r:i,stroke:i,strokeLinecap:i,strokeWidth:i,transform:i,x:i,x1:i,x2:i,version:i,viewBox:i,y:i,y1:i,y2:i,spreadMethod:i,offset:i,stopColor:i,stopOpacity:i,gradientUnits:i,gradientTransform:i},DOMAttributeNames:{className:'class',htmlFor:'for',strokeLinecap:'stroke-linecap',strokeWidth:'stroke-width',stopColor:'stop-color',stopOpacity:'stop-opacity'},DOMPropertyNames:{autoComplete:'autocomplete',spellCheck:'spellcheck'},DOMMutationMethods:{className:function(m,n){m.className=n||'';}}};e.exports=l;});
__d("DefaultEventPluginOrder",["keyOf"],function(a,b,c,d,e,f){var g=b('keyOf'),h=[g({ResponderEventPlugin:null}),g({SimpleEventPlugin:null}),g({TapEventPlugin:null}),g({EnterLeaveEventPlugin:null}),g({ChangeEventPlugin:null}),g({AnalyticsEventPlugin:null})];e.exports=h;});
__d("SyntheticEvent",["PooledClass","emptyFunction","getEventTarget","merge","mergeInto"],function(a,b,c,d,e,f){var g=b('PooledClass'),h=b('emptyFunction'),i=b('getEventTarget'),j=b('merge'),k=b('mergeInto'),l={type:null,target:i,currentTarget:null,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now();},defaultPrevented:null,isTrusted:null};function m(n,o,p){this.dispatchConfig=n;this.dispatchMarker=o;this.nativeEvent=p;var q=this.constructor.Interface;for(var r in q){var s=q[r];if(s){this[r]=s(p);}else this[r]=p[r];}if(p.defaultPrevented||p.returnValue===false){this.isDefaultPrevented=h.thatReturnsTrue;}else this.isDefaultPrevented=h.thatReturnsFalse;this.isPropagationStopped=h.thatReturnsFalse;}k(m.prototype,{preventDefault:function(){this.defaultPrevented=true;var event=this.nativeEvent;event.preventDefault?event.preventDefault():event.returnValue=false;this.isDefaultPrevented=h.thatReturnsTrue;},stopPropagation:function(){var event=this.nativeEvent;event.stopPropagation?event.stopPropagation():event.cancelBubble=true;this.isPropagationStopped=h.thatReturnsTrue;},persist:function(){this.isPersistent=h.thatReturnsTrue;},isPersistent:h.thatReturnsFalse,destructor:function(){var n=this.constructor.Interface;for(var o in n)this[o]=null;this.dispatchConfig=null;this.dispatchMarker=null;this.nativeEvent=null;}});m.Interface=l;m.augmentClass=function(n,o){var p=this,q=Object.create(p.prototype);k(q,n.prototype);n.prototype=q;n.prototype.constructor=n;n.Interface=j(p.Interface,o);n.augmentClass=p.augmentClass;g.addPoolingTo(n,g.threeArgumentPooler);};g.addPoolingTo(m,g.threeArgumentPooler);e.exports=m;});
__d("SyntheticUIEvent",["SyntheticEvent"],function(a,b,c,d,e,f){var g=b('SyntheticEvent'),h={view:null,detail:null};function i(j,k,l){g.call(this,j,k,l);}g.augmentClass(i,h);e.exports=i;});
__d("SyntheticMouseEvent",["SyntheticUIEvent","ViewportMetrics"],function(a,b,c,d,e,f){var g=b('SyntheticUIEvent'),h=b('ViewportMetrics'),i={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,button:function(event){var k=event.button;if('which' in event)return k;return k===2?2:k===4?1:0;},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement);},pageX:function(event){return 'pageX' in event?event.pageX:event.clientX+h.currentScrollLeft;},pageY:function(event){return 'pageY' in event?event.pageY:event.clientY+h.currentScrollTop;}};function j(k,l,m){g.call(this,k,l,m);}g.augmentClass(j,i);e.exports=j;});
__d("EnterLeaveEventPlugin",["EventConstants","EventPropagators","ExecutionEnvironment","ReactInstanceHandles","SyntheticMouseEvent","ReactID","keyOf"],function(a,b,c,d,e,f){var g=b('EventConstants'),h=b('EventPropagators'),i=b('ExecutionEnvironment'),j=b('ReactInstanceHandles'),k=b('SyntheticMouseEvent'),l=b('ReactID'),m=b('keyOf'),n=g.topLevelTypes,o=j.getFirstReactDOM,p={mouseEnter:{registrationName:m({onMouseEnter:null})},mouseLeave:{registrationName:m({onMouseLeave:null})}},q={eventTypes:p,extractEvents:function(r,s,t,u){if(r===n.topMouseOver&&(u.relatedTarget||u.fromElement))return null;if(r!==n.topMouseOut&&r!==n.topMouseOver)return null;var v,w;if(r===n.topMouseOut){v=s;w=o(u.relatedTarget||u.toElement)||i.global;}else{v=i.global;w=s;}if(v===w)return null;var x=v?l.getID(v):'',y=w?l.getID(w):'',z=k.getPooled(p.mouseLeave,x,u),aa=k.getPooled(p.mouseEnter,y,u);h.accumulateEnterLeaveDispatches(z,aa,x,y);return [z,aa];}};e.exports=q;});
__d("ChangeEventPlugin",["EventConstants","EventPluginHub","EventPropagators","ExecutionEnvironment","SyntheticEvent","isEventSupported","keyOf"],function(a,b,c,d,e,f){var g=b('EventConstants'),h=b('EventPluginHub'),i=b('EventPropagators'),j=b('ExecutionEnvironment'),k=b('SyntheticEvent'),l=b('isEventSupported'),m=b('keyOf'),n=g.topLevelTypes,o={change:{phasedRegistrationNames:{bubbled:m({onChange:null}),captured:m({onChangeCapture:null})}}},p=null,q=null,r=null,s=null;function t(na){return (na.nodeName==='SELECT'||(na.nodeName==='INPUT'&&na.type==='file'));}var u=false;if(j.canUseDOM)u=l('change')&&(!('documentMode' in document)||document.documentMode>8);function v(na){var event=k.getPooled(o.change,q,na);i.accumulateTwoPhaseDispatches(event);h.enqueueEvents(event);h.processEventQueue();}function w(na,oa){p=na;q=oa;p.attachEvent('onchange',v);}function x(){if(!p)return;p.detachEvent('onchange',v);p=null;q=null;}function y(na,oa,pa){if(na===n.topChange)return pa;}function z(na,oa,pa){if(na===n.topFocus){x();w(oa,pa);}else if(na===n.topBlur)x();}var aa=false;if(j.canUseDOM)aa=l('input')&&(!('documentMode' in document)||document.documentMode>9);var ba={color:true,date:true,datetime:true,'datetime-local':true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function ca(na){return ((na.nodeName==='INPUT'&&ba[na.type])||na.nodeName==='TEXTAREA');}var da={get:function(){return s.get.call(this);},set:function(na){r=na;s.set.call(this,na);}};function ea(na,oa){p=na;q=oa;r=na.value;s=Object.getOwnPropertyDescriptor(na.constructor.prototype,'value');Object.defineProperty(p,'value',da);p.attachEvent('onpropertychange',ga);}function fa(){if(!p)return;delete p.value;p.detachEvent('onpropertychange',ga);p=null;q=null;r=null;s=null;}function ga(na){if(na.propertyName!=='value')return;var oa=na.srcElement.value;if(oa===r)return;r=oa;v(na);}function ha(na,oa,pa){if(na===n.topInput)return pa;}function ia(na,oa,pa){if(na===n.topFocus){fa();ea(oa,pa);}else if(na===n.topBlur)fa();}function ja(na,oa,pa){if(na===n.topSelectionChange||na===n.topKeyUp||na===n.topKeyDown)if(p&&p.value!==r){r=p.value;return q;}}function ka(na){return (na.nodeName==='INPUT'&&(na.type==='checkbox'||na.type==='radio'));}function la(na,oa,pa){if(na===n.topClick)return pa;}var ma={eventTypes:o,extractEvents:function(na,oa,pa,qa){var ra,sa;if(t(oa)){if(u){ra=y;}else sa=z;}else if(ca(oa)){if(aa){ra=ha;}else{ra=ja;sa=ia;}}else if(ka(oa))ra=la;if(ra){var ta=ra(na,oa,pa);if(ta){var event=k.getPooled(o.change,ta,qa);i.accumulateTwoPhaseDispatches(event);return event;}}if(sa)sa(na,oa,pa);}};e.exports=ma;});
__d("SyntheticFocusEvent",["SyntheticUIEvent"],function(a,b,c,d,e,f){var g=b('SyntheticUIEvent'),h={relatedTarget:null};function i(j,k,l){g.call(this,j,k,l);}g.augmentClass(i,h);e.exports=i;});
__d("SyntheticKeyboardEvent",["SyntheticUIEvent"],function(a,b,c,d,e,f){var g=b('SyntheticUIEvent'),h={'char':null,key:null,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,charCode:null,keyCode:null,which:null};function i(j,k,l){g.call(this,j,k,l);}g.augmentClass(i,h);e.exports=i;});
__d("SyntheticMutationEvent",["SyntheticEvent"],function(a,b,c,d,e,f){var g=b('SyntheticEvent'),h={relatedNode:null,prevValue:null,newValue:null,attrName:null,attrChange:null};function i(j,k,l){g.call(this,j,k,l);}g.augmentClass(i,h);e.exports=i;});
__d("SyntheticTouchEvent",["SyntheticUIEvent"],function(a,b,c,d,e,f){var g=b('SyntheticUIEvent'),h={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null};function i(j,k,l){g.call(this,j,k,l);}g.augmentClass(i,h);e.exports=i;});
__d("SyntheticWheelEvent",["SyntheticMouseEvent"],function(a,b,c,d,e,f){var g=b('SyntheticMouseEvent'),h={deltaX:function(event){return ('deltaX' in event?event.deltaX:'wheelDeltaX' in event?-event.wheelDeltaX:0);},deltaY:function(event){return ('deltaY' in event?-event.deltaY:'wheelDeltaY' in event?event.wheelDeltaY:'wheelDelta' in event?event.wheelData:0);},deltaZ:null,deltaMode:null};function i(j,k,l){g.call(this,j,k,l);}g.augmentClass(i,h);e.exports=i;});
__d("SimpleEventPlugin",["EventConstants","EventPropagators","SyntheticEvent","SyntheticFocusEvent","SyntheticKeyboardEvent","SyntheticMouseEvent","SyntheticMutationEvent","SyntheticTouchEvent","SyntheticUIEvent","SyntheticWheelEvent","invariant","keyOf"],function(a,b,c,d,e,f){var g=b('EventConstants'),h=b('EventPropagators'),i=b('SyntheticEvent'),j=b('SyntheticFocusEvent'),k=b('SyntheticKeyboardEvent'),l=b('SyntheticMouseEvent'),m=b('SyntheticMutationEvent'),n=b('SyntheticTouchEvent'),o=b('SyntheticUIEvent'),p=b('SyntheticWheelEvent'),q=b('invariant'),r=b('keyOf'),s=g.topLevelTypes,t={blur:{phasedRegistrationNames:{bubbled:r({onBlur:true}),captured:r({onBlurCapture:true})}},click:{phasedRegistrationNames:{bubbled:r({onClick:true}),captured:r({onClickCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:r({onDoubleClick:true}),captured:r({onDoubleClickCapture:true})}},drag:{phasedRegistrationNames:{bubbled:r({onDrag:true}),captured:r({onDragCapture:true})}},dragEnd:{phasedRegistrationNames:{bubbled:r({onDragEnd:true}),captured:r({onDragEndCapture:true})}},dragEnter:{phasedRegistrationNames:{bubbled:r({onDragEnter:true}),captured:r({onDragEnterCapture:true})}},dragExit:{phasedRegistrationNames:{bubbled:r({onDragExit:true}),captured:r({onDragExitCapture:true})}},dragLeave:{phasedRegistrationNames:{bubbled:r({onDragLeave:true}),captured:r({onDragLeaveCapture:true})}},dragOver:{phasedRegistrationNames:{bubbled:r({onDragOver:true}),captured:r({onDragOverCapture:true})}},dragStart:{phasedRegistrationNames:{bubbled:r({onDragStart:true}),captured:r({onDragStartCapture:true})}},drop:{phasedRegistrationNames:{bubbled:r({onDrop:true}),captured:r({onDropCapture:true})}},DOMCharacterDataModified:{phasedRegistrationNames:{bubbled:r({onDOMCharacterDataModified:true}),captured:r({onDOMCharacterDataModifiedCapture:true})}},focus:{phasedRegistrationNames:{bubbled:r({onFocus:true}),captured:r({onFocusCapture:true})}},input:{phasedRegistrationNames:{bubbled:r({onInput:true}),captured:r({onInputCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:r({onKeyDown:true}),captured:r({onKeyDownCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:r({onKeyPress:true}),captured:r({onKeyPressCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:r({onKeyUp:true}),captured:r({onKeyUpCapture:true})}},mouseDown:{phasedRegistrationNames:{bubbled:r({onMouseDown:true}),captured:r({onMouseDownCapture:true})}},mouseMove:{phasedRegistrationNames:{bubbled:r({onMouseMove:true}),captured:r({onMouseMoveCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:r({onMouseUp:true}),captured:r({onMouseUpCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:r({onScroll:true}),captured:r({onScrollCapture:true})}},submit:{phasedRegistrationNames:{bubbled:r({onSubmit:true}),captured:r({onSubmitCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:r({onTouchCancel:true}),captured:r({onTouchCancelCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:r({onTouchEnd:true}),captured:r({onTouchEndCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:r({onTouchMove:true}),captured:r({onTouchMoveCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:r({onTouchStart:true}),captured:r({onTouchStartCapture:true})}},wheel:{phasedRegistrationNames:{bubbled:r({onWheel:true}),captured:r({onWheelCapture:true})}}},u={topBlur:t.blur,topClick:t.click,topDoubleClick:t.doubleClick,topDOMCharacterDataModified:t.DOMCharacterDataModified,topDrag:t.drag,topDragEnd:t.dragEnd,topDragEnter:t.dragEnter,topDragExit:t.dragExit,topDragLeave:t.dragLeave,topDragOver:t.dragOver,topDragStart:t.dragStart,topDrop:t.drop,topFocus:t.focus,topInput:t.input,topKeyDown:t.keyDown,topKeyPress:t.keyPress,topKeyUp:t.keyUp,topMouseDown:t.mouseDown,topMouseMove:t.mouseMove,topMouseUp:t.mouseUp,topScroll:t.scroll,topSubmit:t.submit,topTouchCancel:t.touchCancel,topTouchEnd:t.touchEnd,topTouchMove:t.touchMove,topTouchStart:t.touchStart,topWheel:t.wheel},v={eventTypes:t,executeDispatch:function(event,w,x){var y=w(event,x);if(y===false){event.stopPropagation();event.preventDefault();}},extractEvents:function(w,x,y,z){var aa=u[w];if(!aa)return null;var ba;switch(w){case s.topInput:case s.topSubmit:ba=i;break;case s.topKeyDown:case s.topKeyPress:case s.topKeyUp:ba=k;break;case s.topBlur:case s.topFocus:ba=j;break;case s.topClick:case s.topDoubleClick:case s.topDrag:case s.topDragEnd:case s.topDragEnter:case s.topDragExit:case s.topDragLeave:case s.topDragOver:case s.topDragStart:case s.topDrop:case s.topMouseDown:case s.topMouseMove:case s.topMouseUp:ba=l;break;case s.topDOMCharacterDataModified:ba=m;break;case s.topTouchCancel:case s.topTouchEnd:case s.topTouchMove:case s.topTouchStart:ba=n;break;case s.topScroll:ba=o;break;case s.topWheel:ba=p;break;}q(ba);var event=ba.getPooled(aa,y,z);h.accumulateTwoPhaseDispatches(event);return event;}};e.exports=v;});
__d("ReactDefaultInjection",["ReactDOM","ReactDOMForm","ReactDOMInput","ReactDOMTextarea","DefaultDOMPropertyConfig","DOMProperty","DefaultEventPluginOrder","EnterLeaveEventPlugin","ChangeEventPlugin","EventPluginHub","ReactInstanceHandles","SimpleEventPlugin"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('ReactDOMForm'),i=b('ReactDOMInput'),j=b('ReactDOMTextarea'),k=b('DefaultDOMPropertyConfig'),l=b('DOMProperty'),m=b('DefaultEventPluginOrder'),n=b('EnterLeaveEventPlugin'),o=b('ChangeEventPlugin'),p=b('EventPluginHub'),q=b('ReactInstanceHandles'),r=b('SimpleEventPlugin');function s(){p.injection.injectEventPluginOrder(m);p.injection.injectInstanceHandle(q);p.injection.injectEventPluginsByName({SimpleEventPlugin:r,EnterLeaveEventPlugin:n,ChangeEventPlugin:o});g.injection.injectComponentClasses({form:h,input:i,textarea:j});l.injection.injectDOMPropertyConfig(k);}e.exports={inject:s};});
__d("React",["ReactCompositeComponent","ReactComponent","ReactDOM","ReactMount","ReactProps","ReactServerRendering","ReactDefaultInjection"],function(a,b,c,d,e,f){var g=b('ReactCompositeComponent'),h=b('ReactComponent'),i=b('ReactDOM'),j=b('ReactMount'),k=b('ReactProps'),l=b('ReactServerRendering'),m=b('ReactDefaultInjection');m.inject();var n={DOM:i,Props:k,initializeTouchEvents:function(o){j.useTouchEvents=o;},autoBind:g.autoBind,createClass:g.createClass,constructAndRenderComponent:j.constructAndRenderComponent,constructAndRenderComponentByID:j.constructAndRenderComponentByID,renderComponent:j.renderComponent,renderComponentToString:l.renderComponentToString,unmountAndReleaseReactRootNode:j.unmountAndReleaseReactRootNode,isValidComponent:h.isValidComponent};e.exports=n;});
__d("TrackingNodes",[],function(a,b,c,d,e,f){var g={types:{USER_NAME:2,LIKE_LINK:5,UNLIKE_LINK:6,ATTACHMENT:15,SHARE_LINK:17,USER_MESSAGE:18,SOURCE:21,BLINGBOX:22,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,ADD_COMMENT_BOX:34,UFI:36,DROPDOWN_BUTTON:55,UNHIDE_LINK:71},BASE_CODE_START:58,BASE_CODE_END:126,BASE_CODE_SIZE:69,PREFIX_CODE_START:42,PREFIX_CODE_END:47,PREFIX_CODE_SIZE:6,encodeTrackingInfo:function(h,i){var j=(h-1)%g.BASE_CODE_SIZE,k=parseInt((h-1)/g.BASE_CODE_SIZE,10);if(h<1||k>g.PREFIX_CODE_SIZE)throw Error('Invalid tracking node: '+h);var l="";if(k>0)l+=String.fromCharCode(k-1+g.PREFIX_CODE_START);l+=String.fromCharCode(j+g.BASE_CODE_START);if(typeof i!="undefined"&&i>0)l+=String.fromCharCode(48+Math.min(i,10)-1);return l;},decodeTN:function(h){if(h.length===0)return [0];var i=h.charCodeAt(0),j=1,k,l;if(i>=g.PREFIX_CODE_START&&i<=g.PREFIX_CODE_END){if(h.length==1)return [0];l=i-g.PREFIX_CODE_START+1;k=h.charCodeAt(1);j=2;}else{l=0;k=i;}if(k<g.BASE_CODE_START||k>g.BASE_CODE_END)return [0];var m=l*g.BASE_CODE_SIZE+(k-g.BASE_CODE_START)+1;if(h.length>j&&(h.charAt(j)>='0'&&h.charAt(j)<='9'))return [j+1,[m,parseInt(h.charAt(j),10)+1]];return [j,[m]];},parseTrackingNodeString:function(h){var i=[];while(h.length>0){var j=g.decodeTN(h);if(j.length==1)return [];i.push(j[1]);h=h.substring(j[0]);}return i;},getTrackingInfo:function(h,i){return '{"tn":"'+g.encodeTrackingInfo(h,i)+'"}';}};e.exports=g;});
__d("NumberFormat",["Env"],function(a,b,c,d,e,f){var g=b('Env'),h=/(\d{3})(?=\d)/g,i=10000,j=function(l){return (''+l).split('').reverse().join('');},k={formatIntegerWithDelimiter:function(l,m){if((g.locale=='nb_NO'||g.locale=='nn_NO')&&(Math.abs(l)<i))return l.toString();var n=j(l);return j(n.replace(h,'$1'+m));}};e.exports=k;});
__d("UFIBlingItem.react",["React","NumberFormat","cx","joinClasses"],function(a,b,c,d,e,f){var g=b('React'),h=b('NumberFormat'),i=b('cx'),j=b('joinClasses'),k=g.createClass({displayName:'UFIBlingItem',render:function(){var l=j(this.props.className,this.props.iconClassName,"UFIBlingBoxSprite"),m=h.formatIntegerWithDelimiter(this.props.count,this.props.contextArgs.numberdelimiter||',');return (g.DOM.span(null,g.DOM.i({className:l}),g.DOM.span({className:"UFIBlingBoxText"},m)));}});e.exports=k;});
__d("UFIConstants",[],function(a,b,c,d,e,f){var g={COMMENT_LIKE:'fa-type:comment-like',COMMENT_SET_SPAM:'fa-type:mark-spam',DELETE_COMMENT:'fa-type:delete-comment',LIVE_DELETE_COMMENT:'fa-type:live-delete-comment',LIKE_ACTION:'fa-type:like',REMOVE_PREVIEW:'fa-type:remove-preview',CONFIRM_COMMENT_REMOVAL:'fa-type:confirm-remove',TRANSLATE_COMMENT:'fa-type:translate-comment',SUBSCRIBE_ACTION:'fa-type:subscribe',GIFT_SUGGESTION:'fa-type:gift-suggestion',UNDO_DELETE_COMMENT:'fa-type:undo-delete-comment'},h={DELETED:'status:deleted',SPAM:'status:spam',SPAM_DISPLAY:'status:spam-display',LIVE_DELETED:'status:live-deleted',FAILED_ADD:'status:failed-add',FAILED_EDIT:'status:failed-edit',PENDING_EDIT:'status:pending-edit',PENDING_UNDO_DELETE:'status:pending-undo-delete'},i={MOBILE:1,SMS:3,EMAIL:4},j={PROFILE:0,NEWS_FEED:1,OBJECT:2,MOBILE:3,EMAIL:4,PROFILE_APROVAL:10,TICKER:12,NONE:13,INTERN:14,ADS:15,PHOTOS_SNOWLIFT:17},k={UNKNOWN:0,INITIAL_SERVER:1,LIVE_SEND:2,USER_ACTION:3,COLLAPSED_UFI:4,ENDPOINT_LIKE:10,ENDPOINT_COMMENT_LIKE:11,ENDPOINT_ADD_COMMENT:12,ENDPOINT_EDIT_COMMENT:13,ENDPOINT_DELETE_COMMENT:14,ENDPOINT_UNDO_DELETE_COMMENT:15,ENDPOINT_COMMENT_SPAM:16,ENDPOINT_REMOVE_PREVIEW:17,ENDPOINT_ID_COMMENT_FETCH:18,ENDPOINT_COMMENT_FETCH:19,ENDPOINT_TRANSLATE_COMMENT:20,ENDPOINT_BAN:21,ENDPOINT_SUBSCRIBE:22},l={CHRONOLOGICAL:'chronological',RANKED_THREADED:'ranked_threaded',TOPLEVEL:'toplevel',RECENT_ACTIVITY:'recent_activity'},m=50,n=.6,o=420,p=5,q=80,r=2;e.exports={UFIActionType:g,UFIStatus:h,UFISourceType:i,UFIFeedbackSourceType:j,UFIPayloadSourceType:k,UFICommentOrderingMode:l,defaultPageSize:m,commentTruncationLength:o,commentTruncationPercent:n,commentTruncationMaxLines:p,attachmentTruncationLength:q,minCommentsForOrderingModeSelector:r};});
__d("UFIBlingBox.react",["React","UFIBlingItem.react","UFIConstants","cx","tx"],function(a,b,c,d,e,f){var g=b('React'),h=b('UFIBlingItem.react'),i=b('UFIConstants'),j=b('cx'),k=b('tx'),l=g.createClass({displayName:'UFIBlingBox',render:function(){var m=[],n='';if(this.props.likes){m.push(h({count:this.props.likes,className:((m.length>0?"mls":'')),iconClassName:"UFIBlingBoxLikeIcon",contextArgs:this.props.contextArgs}));n+=(this.props.likes==1)?"1 like":k._("{count} likes",{count:this.props.likes});n+=' ';}if(this.props.comments){m.push(h({count:this.props.comments,className:((m.length>0?"mls":'')),iconClassName:"UFIBlingBoxCommentIcon",contextArgs:this.props.contextArgs}));n+=(this.props.comments==1)?"1 comment":k._("{count} comments",{count:this.props.comments});n+=' ';}if(this.props.reshares){m.push(h({count:this.props.reshares,className:((m.length>0?"mls":'')),iconClassName:"UFIBlingBoxReshareIcon",contextArgs:this.props.contextArgs}));n+=(this.props.reshares==1)?"1 share":k._("{count} shares",{count:this.props.reshares});}var o=g.DOM.a({className:"UFIBlingBox uiBlingBox feedbackBling",href:this.props.permalink,'data-ft':this.props['data-ft'],'aria-label':n},m);if(this.props.comments<i.defaultPageSize){o.props.onClick=this.props.onClick;o.props.rel='ignore';}return o;}});e.exports=l;});
__d("UFICentralUpdates",["Arbiter","ChannelConstants","LiveTimer","ShortProfiles","UFIConstants","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ChannelConstants'),i=b('LiveTimer'),j=b('ShortProfiles'),k=b('UFIConstants'),l=b('copyProperties'),m=b('tx'),n=0,o={},p={},q={},r={},s=[];g.subscribe(h.getArbiterType('live-data'),function(x,y){if(y&&y.obj){var z=y.obj,aa=z.comments||[];aa.forEach(function(ba){ba.timestamp.text="A few seconds ago";});w.handleUpdate(k.UFIPayloadSourceType.LIVE_SEND,z);}});function t(){if(!n){var x=q,y=o,z=p,aa=r;q={};o={};p={};r={};if(Object.keys(x).length)v('feedback-id-changed',x);if(Object.keys(y).length)v('feedback-updated',y);if(Object.keys(z).length)v('comments-updated',z);if(Object.keys(aa).length)v('instance-updated',aa);s.pop();}}function u(){if(s.length){return s[s.length-1];}else return k.UFIPayloadSourceType.UNKNOWN;}function v(event,x){w.inform(event,{updates:x,payloadSource:u()});}var w=l(new g(),{handleUpdate:function(x,y){if(Object.keys(y).length)this.synchronizeInforms(function(){s.push(x);var z=l({payloadsource:u()},y);this.inform('update-feedback',z);this.inform('update-comment-lists',z);this.inform('update-comments',z);this.inform('update-actions',z);(y.profiles||[]).forEach(function(aa){j.set(aa.id,aa);});if(y.servertime)i.restart(y.servertime);}.bind(this));},didUpdateFeedback:function(x){o[x]=true;t();},didUpdateComment:function(x){p[x]=true;t();},didUpdateFeedbackID:function(x,y){q[x]=y;t();},didUpdateInstanceState:function(x,y){if(!r[x])r[x]={};r[x][y]=true;t();},synchronizeInforms:function(x){n++;try{x();}catch(y){throw y;}finally{n--;t();}}});e.exports=w;});
__d("randomInt",["invariant"],function(a,b,c,d,e,f){var g=b('invariant');function h(i,j){var k=arguments.length;g(k>0&&k<=2);if(k===1){j=i;i=0;}g(j>i);var l=this.random||Math.random;return Math.floor(i+l()*(j-i));}e.exports=h;});
__d("ClientIDs",["randomInt"],function(a,b,c,d,e,f){var g=b('randomInt'),h={},i={getNewClientID:function(){var j=Date.now(),k=j+':'+(g(0,4294967295)+1);h[k]=true;return k;},isExistingClientID:function(j){return !!h[j];}};e.exports=i;});
__d("ImmutableObject",["keyMirror","merge","mergeInto","mergeHelpers","throwIf"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=b('merge'),i=b('mergeInto'),j=b('mergeHelpers'),k=b('throwIf'),l=j.checkMergeObjectArgs,m=j.isTerminal,n,o;n=g({INVALID_MAP_SET_ARG:null});o=function(q){i(this,q);};o.set=function(q,r){k(!(q instanceof o),n.INVALID_MAP_SET_ARG);var s=new o(q);i(s,r);return s;};o.setField=function(q,r,s){var t={};t[r]=s;return o.set(q,t);};o.setDeep=function(q,r){k(!(q instanceof o),n.INVALID_MAP_SET_ARG);return p(q,r);};function p(q,r){l(q,r);var s={},t=Object.keys(q);for(var u=0;u<t.length;u++){var v=t[u];if(!r.hasOwnProperty(v)){s[v]=q[v];}else if(m(q[v])||m(r[v])){s[v]=r[v];}else s[v]=p(q[v],r[v]);}var w=Object.keys(r);for(u=0;u<w.length;u++){var x=w[u];if(q.hasOwnProperty(x))continue;s[x]=r[x];}return (q instanceof o||r instanceof o)?new o(s):s;}e.exports=o;});
__d("debounceAcrossTransitions",["debounce"],function(a,b,c,d,e,f){var g=b('debounce');function h(i,j,k){return g(i,j,k,true);}e.exports=h;});
__d("MercuryServerDispatcher",["AsyncRequest","FBAjaxRequest","Env","JSLogger","Run","areObjectsEqual","copyProperties","debounceAcrossTransitions"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('FBAjaxRequest'),i=b('Env'),j=b('JSLogger'),k=b('Run'),l=b('areObjectsEqual'),m=b('copyProperties'),n=b('debounceAcrossTransitions'),o={},p=j.create('mercury_dispatcher'),q=false,r={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',registerEndpoints:function(v){for(var w in v){var x=v[w],y=x.request_user_id||i.user;if(!o[w])o[w]={};if(!o[w][y])o[w][y]={};o[w][y]=new s(w,x);}},trySend:function(v,w,x,y){y=y||i.user;if(v=='/ajax/mercury/client_reliability.php'&&!o[v][y])o[v][y]=o[v][undefined];o[v][y].trySend(w,x);}};function s(v,w){var x=w.mode||r.IMMEDIATE;switch(x){case r.IMMEDIATE:case r.IDEMPOTENT:case r.BATCH_SUCCESSIVE:case r.BATCH_SUCCESSIVE_UNIQUE:case r.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case r.BATCH_DEFERRED_MULTI:case r.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+x);}this._endpoint=v;this._mode=x;this._requestUserID=w.request_user_id;this._combineData=w.batch_function;this._combineDataIf=w.batch_if;this._batchSizeLimit=w.batch_size_limit;this._batches=[];this._handler=w.handler;this._errorHandler=w.error_handler;this._transportErrorHandler=w.transport_error_handler||w.error_handler;this._connectionRetries=w.connection_retries||0;this._timeoutHandler=w.timeout_handler;this._timeout=w.timeout;this._serverDialogCancelHandler=w.server_dialog_cancel_handler||w.error_handler;this._deferredSend=n(this._batchSend,0,this);if(this._batchSizeLimit)k.onUnload(function(){p.bump('unload_batches_count_'+u(this._batches.length));}.bind(this));}m(s.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(v,w){if(q)return;if(typeof v=='undefined')v=null;var x=w||this._mode;if(x==r.IMMEDIATE){this._send(v);}else if(x==r.IDEMPOTENT){if(!this._inFlight)this._send(v);}else if(x==r.BATCH_SUCCESSIVE||x==r.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(v);}else this._batchData(v);}else if(x==r.BATCH_CONDITIONAL){var y=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,v)||this._combineDataIf(y,v))){this._batchData(v);}else this._send(v);}else if(x==r.BATCH_DEFERRED_MULTI){this._batchData(v);this._deferredSend();}else if(x==r.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(v);if(!this._inFlight)this._batchSend();}},_send:function(v){this._inFlight++;this._pendingRequestData=m({},v);if(this._requestUserID!=i.user)v.request_user_id=this._requestUserID;p.log('send',{endpoint:this._endpoint,data:v,inflight_count:this._inFlight});var w=null;if(i.worker_context){w=new h('POST',this._endpoint,v);w.onError=function(x){x.getPayload=function(){return x.errorText;};x.getRequest=function(){var y=x;x.getData=function(){return v;};return y;};x.getError=function(){return x.errorText;};x.getErrorDescription=function(){return x.errorText;};x.isTransient=function(){return false;};this._handleError(x);}.bind(this);w.onJSON=function(x){x.getPayload=function(){return x.json;};x.getRequest=function(){return w;};this._handleResponse(x);}.bind(this);w.getData=function(){return v;};w.send();}else{w=new g(this._endpoint).setData(v).setOption('retries',this._connectionRetries).setHandler(this._handleResponse.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._timeout&&this._timeoutHandler)w.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));w.send();}},_batchData:function(v,w){if(this._mode==r.BATCH_SUCCESSIVE_UNIQUE&&typeof this._pendingRequestData!='undefined'&&l(v,this._pendingRequestData)){return;}else{var x=this._batches.length-1;if(x>=0&&!this._hasReachedBatchLimit(this._batches[x])){w?this._batches[x].combineWithOlder(v,this._combineData):this._batches[x].combineWith(v,this._combineData);}else{this._batches.push(new t(v));p.bump('batches_count_'+u(this._batches.length));}p.debug('batch',{endpoint:this._endpoint,batches:this._batches,batch_limit:this._batchSizeLimit});}},_hasReachedBatchLimit:function(v){return this._batchSizeLimit&&v.getSize()>=this._batchSizeLimit;},_batchSend:function(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function(v){this._inFlight--;p.log('response',{endpoint:this._endpoint,inflight_count:this._inFlight});var w=v.getPayload();q=w&&w.kill_chat;if(q)p.log('killswitch_enabled',{endpoint:this._endpoint,inflight_count:this._inFlight});if(w&&w.error_payload){if(this._errorHandler)this._errorHandler(v);}else this._handler&&this._handler(w,v.getRequest());if(this._mode==r.BATCH_SUCCESSIVE||this._mode==r.BATCH_SUCCESSIVE_UNIQUE||this._mode==r.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==r.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function(){p.error('error',{endpoint:this._endpoint,inflight_count:this._inFlight-1});this._inFlight--;var v=this._mode;if(v==r.BATCH_SUCCESSIVE||v==r.BATCH_SUCCESSIVE_UNIQUE||v==r.BATCH_CONDITIONAL){this._batchSend();}else if(v==r.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_handleError:function(v){this._errorHandler&&this._errorHandler(v);this._postErrorHandler();},_handleTransportError:function(v){this._transportErrorHandler&&this._transportErrorHandler(v);this._postErrorHandler();},_handleTimeout:function(v){this._timeoutHandler&&this._timeoutHandler(v);this._postErrorHandler();},_handleServerDialogCancel:function(v){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(v);this._postErrorHandler();}});function t(v){this._data=v;this._size=1;}m(t.prototype,{getData:function(){return this._data;},getSize:function(){return this._size;},combineWith:function(v,w){this._data=w(this._data,v);this._size++;},combineWithOlder:function(v,w){this._data=w(v,this._data);this._size++;}});function u(v){if(v===1){return 'equals1';}else if(v>=2&&v<=3){return 'between2and3';}else return 'over4';}e.exports=r;});
__d("UFIFeedbackTargets",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","copyProperties"],function(a,b,c,d,e,f){var g=b('ClientIDs'),h=b('KeyedCallbackManager'),i=b('UFICentralUpdates'),j=b('UFIConstants'),k=b('copyProperties'),l=new h();function m(v){var w={};v.forEach(function(x){var y=k({},x);delete y.commentlist;delete y.commentcount;w[x.entidentifier]=y;i.didUpdateFeedback(x.entidentifier);});l.addResourcesAndExecute(w);}function n(v){for(var w=0;w<v.length;w++){var x=v[w];switch(x.actiontype){case j.UFIActionType.LIKE_ACTION:p(x);break;case j.UFIActionType.SUBSCRIBE_ACTION:q(x);break;case j.UFIActionType.GIFT_SUGGESTION:r(x);break;}}}function o(v){for(var w=0;w<v.length;w++){var x=v[w];if(x.orig_ftentidentifier)t(x.orig_ftentidentifier,x.ftentidentifier);}}function p(v){var w=s(v);if(w){v.hasviewerliked=!!v.hasviewerliked;if(v.clientid&&g.isExistingClientID(v.clientid)&&v.hasviewerliked!=w.hasviewerliked)return;w.likecount=v.likecount||0;w.likesentences=v.likesentences;if(v.actorid==w.actorforpost){w.hasviewerliked=v.hasviewerliked;}else if(v.hasviewerliked!=w.hasviewerliked){w.likesentences={current:v.likesentences.alternate,alternate:v.likesentences.current};if(w.hasviewerliked){w.likecount++;}else w.likecount--;}if(v.actorid!=w.actorforpost)w.likesentences.isunseen=true;m([w]);}}function q(v){var w=s(v);if(w){v.hasviewersubscribed=!!v.hasviewersubscribed;if(v.clientid&&g.isExistingClientID(v.clientid)&&v.hasviewersubscribed!=w.hasviewersubscribed)return;if(v.actorid==w.actorforpost)w.hasviewersubscribed=v.hasviewersubscribed;m([w]);}}function r(v){var w=s(v);if(!w)return;if(v.clientid&&g.isExistingClientID(v.clientid)&&v.hasviewerliked!=w.hasviewerliked)return;w.giftdata=v.giftdata;m([w]);}function s(v){if(v.orig_entidentifier)t(v.orig_entidentifier,v.entidentifier);return l.getResource(v.entidentifier);}function t(v,w){var x=l.getResource(v);if(x){l.setResource(v,null);x.entidentifier=w;l.setResource(w,x);i.didUpdateFeedbackID(v,w);}}var u={getFeedbackTarget:function(v,w){var x=l.executeOrEnqueue(v,w),y=l.getUnavailableResources(x);if(!y.length)return;}};i.subscribe('update-feedback',function(v,w){var x=w.feedbacktargets;if(x&&x.length)m(x);});i.subscribe('update-actions',function(v,w){if(w.actions&&w.actions.length)n(w.actions);});i.subscribe('update-comments',function(v,w){if(w.comments&&w.comments.length)o(w.comments);});e.exports=u;});
__d("UFIInstanceState",["UFICentralUpdates"],function(a,b,c,d,e,f){var g=b('UFICentralUpdates'),h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function(k,l){i(k);return h[k][l];},updateState:function(k,l,m){i(k);h[k][l]=m;g.didUpdateInstanceState(k,l);},updateStateField:function(k,l,m,n){var o=this.getKeyForInstance(k,l)||{};o[m]=n;this.updateState(k,l,o);}};e.exports=j;});
__d("UFIComments",["ClientIDs","ImmutableObject","JSLogger","KeyedCallbackManager","MercuryServerDispatcher","UFICentralUpdates","UFIConstants","UFIFeedbackTargets","UFIInstanceState","URI","keyMirror","merge","randomInt","throwIf"],function(a,b,c,d,e,f){var g=b('ClientIDs'),h=b('ImmutableObject'),i=b('JSLogger'),j=b('KeyedCallbackManager'),k=b('MercuryServerDispatcher'),l=b('UFICentralUpdates'),m=b('UFIConstants'),n=b('UFIFeedbackTargets'),o=b('UFIInstanceState'),p=b('URI'),q=b('keyMirror'),r=b('merge'),s=b('randomInt'),t=b('throwIf'),u=q({INVALID_COMMENT_TYPE:null}),v=i.create('UFIComments'),w={},x={},y={},z={},aa={},ba={},ca='unavailable_comment_key';function da(ab){return ab in ba?ba[ab]:ab;}function ea(ab,bb){if(!x[ab])x[ab]={};if(!x[ab][bb])x[ab][bb]=new j();return x[ab][bb];}function fa(ab){var bb=[];if(x[ab])for(var cb in x[ab])bb.push(x[ab][cb]);return bb;}function ga(ab){if(!y[ab])y[ab]=new j();return y[ab];}function ha(ab){var bb=fa(ab);bb.forEach(function(cb){cb.reset();});}function ia(ab,bb){ab.forEach(function(cb){var db=cb.ftentidentifier,eb=cb.parentcommentid||db;n.getFeedbackTarget(db,function(fb){var gb=m.UFIPayloadSourceType,hb=cb.clientid,ib=false,jb=r({},cb);if(hb){delete jb.clientid;ib=g.isExistingClientID(hb);if(ib&&ba[hb])return;}if(bb===gb.LIVE_SEND&&cb.parentcommentid&&z[eb]===undefined)return;if((bb===gb.LIVE_SEND)||(bb===gb.USER_ACTION)||(bb===gb.ENDPOINT_ADD_COMMENT)||(bb===gb.ENDPOINT_EDIT_COMMENT))jb.isunseen=true;if(bb===gb.ENDPOINT_COMMENT_FETCH||bb===gb.ENDPOINT_ID_COMMENT_FETCH)jb.fromfetch=true;if(ib){if(w[hb].ufiinstanceid)o.updateStateField(w[hb].ufiinstanceid,'locallycomposed',cb.id,true);jb.ufiinstanceid=w[hb].ufiinstanceid;ba[hb]=cb.id;w[cb.id]=w[hb];delete w[hb];l.didUpdateComment(hb);}var kb,lb;if(cb.parentcommentid){lb=[ga(eb)];}else lb=fa(eb);var mb=false;lb.forEach(function(qb){var rb=qb.getAllResources(),sb={};for(var tb in rb){var ub=rb[tb];sb[ub]=tb;}if(ib)if(hb in sb){sb[cb.id]=sb[hb];var vb=sb[hb];qb.setResource(vb,cb.id);}if(sb[cb.id]){mb=true;}else{var wb=z[eb]||0;sb[cb.id]=wb;qb.setResource(wb,cb.id);}kb=sb[cb.id];});if(!mb){var nb=z[eb]||0;z[eb]=nb+1;qa(eb);}if(cb.status===m.UFIStatus.FAILED_ADD)aa[eb]=aa[eb]+1;var ob=z[eb];jb.replycount=(z[cb.id]||0)-(aa[cb.id]||0);var pb=ja(kb,ob);if(cb.parentcommentid&&w[cb.parentcommentid]){jb.permalink=p(fb.permalink).addQueryData({comment_id:w[cb.parentcommentid].legacyid,reply_comment_id:cb.legacyid,total_comments:ob}).toString();}else jb.permalink=p(fb.permalink).addQueryData({comment_id:cb.legacyid,offset:pb,total_comments:ob}).toString();za.setComment(cb.id,new h(jb));l.didUpdateComment(cb.id);l.didUpdateFeedback(db);});});}function ja(ab,bb){return Math.floor((bb-ab-1)/m.defaultPageSize)*m.defaultPageSize;}function ka(ab){for(var bb=0;bb<ab.length;bb++){var cb=ab[bb];switch(cb.actiontype){case m.UFIActionType.COMMENT_LIKE:na(cb);break;case m.UFIActionType.DELETE_COMMENT:ra(cb);break;case m.UFIActionType.LIVE_DELETE_COMMENT:sa(cb);break;case m.UFIActionType.UNDO_DELETE_COMMENT:ta(cb);break;case m.UFIActionType.REMOVE_PREVIEW:ua(cb);break;case m.UFIActionType.COMMENT_SET_SPAM:va(cb);break;case m.UFIActionType.CONFIRM_COMMENT_REMOVAL:wa(cb);break;case m.UFIActionType.TRANSLATE_COMMENT:oa(cb);break;}}}function la(ab,bb,cb){var db=bb.range,eb=bb.values;if(!db){v.error('nullrange',{target:ab,commentList:bb});return;}var fb={};for(var gb=0;gb<db.length;gb++)fb[db.offset+gb]=eb[gb]||ca;var hb,ib;if(cb){hb=ea(ab,cb);ib=ab;}else{hb=ga(ab);ib=bb.ftentidentifier;if(bb.count!==undefined){z[ab]=bb.count;aa[ab]=0;}}hb.addResourcesAndExecute(fb);l.didUpdateFeedback(ib);}function ma(ab){ab.forEach(function(bb){z[bb.entidentifier]=bb.commentcount;aa[bb.entidentifier]=0;l.didUpdateFeedback(bb.entidentifier);});}function na(ab){var bb=za.getComment(ab.commentid);if(bb){var cb={},db=ab.clientid&&g.isExistingClientID(ab.clientid);if(!db){cb.hasviewerliked=ab.viewerliked;cb.likecount=ab.likecount;}cb.likeconfirmhash=s(0,1024);ya(ab.commentid,cb);}}function oa(ab){var bb=ab.commentid,cb=za.getComment(ab.commentid);if(cb)ya(bb,{translatedtext:ab.translatedtext});}function pa(ab){var bb={reportLink:ab.reportLink,commenterIsFOF:ab.commenterIsFOF,userIsMinor:ab.userIsMinor};if(ab.undoData)bb.undoData=ab.undoData;return bb;}function qa(ab,bb){if(ab){if(bb!==undefined){var cb=(aa[ab]||0)+(bb?1:-1);aa[ab]=Math.max(cb,0);}var db=za.getComment(ab);if(db){var eb={replycount:za.getDisplayedCommentCount(ab)};ya(ab,eb);}}}function ra(ab){var bb=za.getComment(ab.commentid);if(bb.status!==m.UFIStatus.DELETED){var cb=bb.parentcommentid||bb.ftentidentifier;if(bb.status===m.UFIStatus.FAILED_ADD){qa(cb);}else qa(cb,true);}xa(bb,m.UFIStatus.DELETED);}function sa(ab){var bb=za.getComment(ab.commentid);if(bb&&bb.status!==m.UFIStatus.DELETED)xa(bb,m.UFIStatus.LIVE_DELETED);}function ta(ab){var bb=za.getComment(ab.commentid);if(bb.status===m.UFIStatus.DELETED){var cb=bb.parentcommentid||bb.ftentidentifier;qa(cb,false);}xa(bb,m.UFIStatus.PENDING_UNDO_DELETE);}function ua(ab){ya(ab.commentid,{attachment:null});}function va(ab){var bb=za.getComment(ab.commentid),cb=ab.shouldHideAsSpam?m.UFIStatus.SPAM_DISPLAY:null;xa(bb,cb);}function wa(ab){ya(ab.commentid,pa(ab));}function xa(ab,bb){ya(ab.id,{priorstatus:ab.status,status:bb});}function ya(ab,bb){var cb=za.getComment(ab)||new h({});za.setComment(ab,h.set(cb,bb));l.didUpdateComment(cb.id);l.didUpdateFeedback(cb.ftentidentifier);}var za={getComments:function(ab){var bb={};for(var cb=0;cb<ab.length;cb++)bb[ab[cb]]=za.getComment(ab[cb]);return bb;},getComment:function(ab){return w[da(ab)];},setComment:function(ab,bb){w[da(ab)]=bb;},resetFeedbackTarget:function(ab){var bb=fa(ab),cb={};bb.forEach(function(eb){var fb=eb.getAllResources();for(var gb in fb){var hb=fb[gb];cb[hb]=1;}});for(var db in cb)delete w[da(db)];ha(ab);},getCommentsInRange:function(ab,bb,cb,db,eb){var fb=ea(ab,cb);n.getFeedbackTarget(ab,function(gb){var hb=[];for(var ib=0;ib<bb.length;ib++)hb.push(bb.offset+ib);var jb=function(pb){var qb=[],rb=bb.offset,sb=bb.offset+bb.length-1;for(var tb=0;tb<bb.length;tb++){var ub=gb.isranked?sb-tb:rb+tb;if(pb[ub]!=ca){var vb=this.getComment(pb[ub]);if(vb)qb.push(vb);}}eb(qb);},kb=fb.getUnavailableResourcesFromRequest(hb);if(kb.length){var lb=Math.min.apply(Math,kb),mb=Math.max.apply(Math,kb),nb=lb,ob=mb-lb+1;k.trySend('/ajax/ufi/comment_fetch.php',{ft_ent_identifier:gb.entidentifier,viewas:db,source:null,offset:nb,length:ob,orderingmode:cb});}else fb.deferredExecuteOrEnqueue(hb).addCallback(jb,this);}.bind(this));},getRepliesInRanges:function(ab,bb,cb){var db={},eb={},fb={},gb=false;n.getFeedbackTarget(ab,function(hb){for(var ib in bb){var jb=ga(ib),kb=bb[ib],lb=[];for(var mb=0;mb<kb.length;mb++)lb.push(kb.offset+mb);db[ib]=jb.executeOrEnqueue(lb,function(wb){var xb=[];for(var yb=0;yb<kb.length;yb++){var zb=kb.offset+yb;if(wb[zb]!=ca){var ac=this.getComment(wb[zb]);if(ac)xb.push(ac);}}eb[ib]=xb;}.bind(this));fb[ib]=jb.getUnavailableResources(db[ib]);if(fb[ib].length){gb=true;jb.unsubscribe(db[ib]);}}if(!gb){cb(eb);}else{var nb=[],ob=[],pb=[];for(var qb in fb){var rb=fb[qb];if(rb.length){var sb=Math.min.apply(Math,rb),tb=Math.max.apply(Math,rb),ub=sb,vb=tb-sb+1;nb.push(qb);ob.push(ub);pb.push(vb);}}k.trySend('/ajax/ufi/reply_fetch.php',{ft_ent_identifier:hb.entidentifier,parent_comment_ids:nb,source:null,offsets:ob,lengths:pb});}}.bind(this));return db;},getCommentCount:function(ab){return z[ab]||0;},getDeletedCount:function(ab){return aa[ab]||0;},getDisplayedCommentCount:function(ab){return (z[ab]||0)-(aa[ab]||0);},_dump:function(){var ab={_comments:w,_commentLists:x,_replyLists:y,_commentCounts:z,_deletedCounts:aa,_localIDMap:ba};return JSON.stringify(ab);}};k.registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:k.IMMEDIATE,handler:l.handleUpdate.bind(l,m.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)},'/ajax/ufi/reply_fetch.php':{mode:k.IMMEDIATE,handler:l.handleUpdate.bind(l,m.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)}});l.subscribe('update-comments',function(ab,bb){if(bb.comments&&bb.comments.length)ia(bb.comments,bb.payloadsource);});l.subscribe('update-actions',function(ab,bb){if(bb.actions&&bb.actions.length)ka(bb.actions);});l.subscribe('update-comment-lists',function(ab,bb){var cb=bb.commentlists;if(cb&&Object.keys(cb).length){if(cb.comments)for(var db in cb.comments)for(var eb in cb.comments[db])la(db,cb.comments[db][eb],eb);if(cb.replies)for(var fb in cb.replies)la(fb,cb.replies[fb]);}});l.subscribe('update-feedback',function(ab,bb){var cb=bb.feedbacktargets;if(cb&&cb.length)ma(cb);});e.exports=za;});
__d("UFILikeLink.react",["React","TrackingNodes","tx"],function(a,b,c,d,e,f){var g=b('React'),h=b('TrackingNodes'),i=b('tx'),j=g.createClass({displayName:'UFILikeLink',render:function(){var k=this.props.likeAction?"Like":"Unlike",l=h.getTrackingInfo(this.props.likeAction?h.types.LIKE_LINK:h.types.UNLIKE_LINK),m=this.props.likeAction?"Like this":"Unlike this";return (g.DOM.a({className:"UFILikeLink",href:"#",role:"button",'aria-live':"polite",title:m,onClick:this.props.onClick,'data-ft':l},k));}});e.exports=j;});
__d("UFISubscribeLink.react",["React","tx"],function(a,b,c,d,e,f){var g=b('React'),h=b('tx'),i=g.createClass({displayName:'UFISubscribeLink',render:function(){var j=this.props.subscribeAction?"Follow Post":"Unfollow Post",k=this.props.subscribeAction?"Get notified when someone comments":"Stop getting notified when someone comments";return (g.DOM.a({className:"UFISubscribeLink",href:"#",role:"button",'aria-live':"polite",title:k,onClick:this.props.onClick},j));}});e.exports=i;});
__d("ProfileBrowserLink",["URI"],function(a,b,c,d,e,f){var g=b('URI'),h='/ajax/browser/dialog/',i='/browse/',j=function(l,m,n){return new g(l+m).setQueryData(n);},k={constructPageURI:function(l,m){return j(i,l,m);},constructDialogURI:function(l,m){return j(h,l,m);}};e.exports=k;});
__d("ProfileBrowserTypes",[],function(a,b,c,d,e,f){var g={LIKES:'likes',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends'};e.exports=g;});
__d("UFITimelineBlingBox.react",["ProfileBrowserLink","ProfileBrowserTypes","React","UFIBlingItem.react","URI","cx","fbt"],function(a,b,c,d,e,f){var g=b('ProfileBrowserLink'),h=b('ProfileBrowserTypes'),i=b('React'),j=b('UFIBlingItem.react'),k=b('URI'),l=b('cx'),m=b('fbt'),n=i.createClass({displayName:'UFITimelineBlingBox',render:function(){var o=[];if(this.props.likes&&this.props.enableShowLikes){var p=this._getProfileBrowserURI(),q="See who likes this",r=i.DOM.a({ajaxify:p.dialog,className:this._getItemClassName(o),'data-ft':this.props['data-ft'],'data-gt':this.props['data-gt'],'data-hover':"tooltip",'data-tooltip-alignh':"right",'data-tooltip-uri':this._getLikeToolTipURI(),href:p.page,rel:"dialog",role:"button",title:q},j({contextArgs:this.props.contextArgs,count:this.props.likes,iconClassName:"UFIBlingBoxTimelineLikeIcon"}));o.push(r);}if(this.props.comments&&this.props.enableShowComments){var s="Show comments",t=i.DOM.a({'aria-label':s,className:this._getItemClassName(o),'data-ft':this.props['data-ft'],'data-hover':"tooltip",'data-tooltip-alignh':"right",href:"#",onClick:this.props.commentOnClick},j({contextArgs:this.props.contextArgs,count:this.props.comments,iconClassName:"UFIBlingBoxTimelineCommentIcon"}));o.push(t);}if(this.props.reshares){var u="Show shares",v=this._getShareViewURI(),w=i.DOM.a({ajaxify:v.dialog,'aria-label':u,className:this._getItemClassName(o),'data-ft':this.props['data-ft'],'data-hover':"tooltip",'data-tooltip-alignh':"right",href:v.page,rel:"async"},j({contextArgs:this.props.contextArgs,count:this.props.reshares,iconClassName:"UFIBlingBoxTimelineReshareIcon"}));o.push(w);}return (i.DOM.span(null,o));},_getItemClassName:function(o){return ((o.length>0?"mls":'')+(' '+"UFIBlingBoxTimelineItem"));},_getLikeToolTipURI:function(){if(this.props.feedbackFBID){var o=new k('/ajax/timeline/likestooltip.php').setQueryData({obj_fbid:this.props.feedbackFBID});return o.toString();}else return null;},_getProfileBrowserURI:function(){if(this.props.feedbackFBID){var o=h.LIKES,p={id:this.props.feedbackFBID},q=g.constructDialogURI(o,p),r=g.constructPageURI(o,p),s={dialog:q.toString(),page:r.toString()};return s;}},_getShareViewURI:function(){if(this.props.feedbackFBID){var o=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.feedbackFBID}),p=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.feedbackFBID}),q={dialog:o.toString(),page:p.toString()};return q;}}});e.exports=n;});
__d("UFIUserActions",["AsyncResponse","CLoggerX","ClientIDs","ImmutableObject","JSLogger","Nectar","UFICentralUpdates","UFIComments","UFIConstants","UFIFeedbackTargets","MercuryServerDispatcher","collectDataAttributes","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('AsyncResponse'),h=b('CLoggerX'),i=b('ClientIDs'),j=b('ImmutableObject'),k=b('JSLogger'),l=b('Nectar'),m=b('UFICentralUpdates'),n=b('UFIComments'),o=b('UFIConstants'),p=b('UFIFeedbackTargets'),q=b('MercuryServerDispatcher'),r=b('collectDataAttributes'),s=b('copyProperties'),t=b('tx'),u=k.create('UFIUserActions'),v={BAN:'ban',UNDO_BAN:'undo_ban'},w={changeCommentLike:function(ka,la,ma){var na=n.getComment(ka);if(na.hasviewerliked!=la){var oa=x(ma.target),pa=la?1:-1,qa={commentid:ka,actiontype:o.UFIActionType.COMMENT_LIKE,viewerliked:la,likecount:na.likecount+pa};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});q.trySend('/ajax/ufi/comment_like.php',s({comment_id:ka,legacy_id:na.legacyid,like_action:la,ft_ent_identifier:na.ftentidentifier,source:ma.source,client_id:i.getNewClientID()},oa));}},addComment:function(ka,la,ma,na){p.getFeedbackTarget(ka,function(oa){var pa=x(na.target),qa=i.getNewClientID();if(!oa.actorforpost)return;var ra={ftentidentifier:ka,body:{text:la},author:oa.actorforpost,id:qa,islocal:true,ufiinstanceid:na.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:na.replyid,photo_comment:na.attachedphoto,timestamp:{time:Date.now(),text:"A few seconds ago"}},sa={actiontype:o.UFIActionType.SUBSCRIBE_ACTION,actorid:oa.actorforpost,hasviewersubscribed:true,entidentifier:ka};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[ra],actions:[sa]});var ta=null;if(na.replyid)ta=(n.getComment(na.replyid)).fbid;var ua=h.getCLParamsForTarget(na.target,ta);q.trySend('/ajax/ufi/add_comment.php',s({ft_ent_identifier:oa.entidentifier,comment_text:ma,source:na.source,client_id:qa,reply_fbid:ta,parent_comment_id:na.replyid,timeline_log_data:na.timelinelogdata,rootid:na.rootid,clp:ua,attached_photo_fbid:na.attachedphoto?na.attachedphoto.fbid:0,giftoccasion:na.giftoccasion},pa));});},editComment:function(ka,la,ma,na){var oa=x(na.target),pa=n.getComment(ka);pa=j.set(pa,{status:o.UFIStatus.PENDING_EDIT,body:{text:la},timestamp:{time:Date.now(),text:"A few seconds ago"},originalTimestamp:pa.timestamp.time,editnux:null,attachment:null});m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});q.trySend('/ajax/ufi/edit_comment.php',s({ft_ent_identifier:pa.ftentidentifier,comment_text:ma,source:na.source,comment_id:pa.id,parent_comment_id:pa.parentcommentid,attached_photo_fbid:na.attachedPhoto?na.attachedPhoto.fbid:0},oa));},translateComment:function(ka,la){q.trySend('/ajax/ufi/translate_comment.php',{ft_ent_identifier:ka.ftentidentifier,comment_ids:[ka.id],source:la.source});},setHideAsSpam:function(ka,la,ma){var na=x(ma.target),oa=n.getComment(ka),pa={commentid:ka,actiontype:o.UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:la};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});q.trySend('/ajax/ufi/comment_spam.php',s({comment_id:ka,spam_action:la,ft_ent_identifier:oa.ftentidentifier,source:ma.source},na));},removeComment:function(ka,la){var ma=x(la.target),na=n.getComment(ka),oa={actiontype:o.UFIActionType.DELETE_COMMENT,commentid:ka,oneclick:la.oneclick};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});q.trySend('/ajax/ufi/delete_comment.php',s({comment_id:na.id,comment_legacyid:na.legacyid,ft_ent_identifier:na.ftentidentifier,one_click:la.oneclick,source:la.source,client_id:i.getNewClientID(),timeline_log_data:la.timelinelogdata},ma));},undoRemoveComment:function(ka,la,ma){var na=n.getComment(ka);if(!na.undoData){u.error('noundodata',{comment:ka});return;}var oa=x(ma.target),pa={actiontype:o.UFIActionType.UNDO_DELETE_COMMENT,commentid:ka};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});var qa=na.undoData;qa.page_admin=la;var ra=s(oa,qa);q.trySend('/ajax/ufi/undo_delete_comment.php',ra);},banUser:function(ka,la,ma,na){var oa=ma?v.BAN:v.UNDO_BAN;q.trySend('/ajax/ufi/ban_user.php',{page_id:la,commenter_id:ka.author,action:oa,comment_id:ka.id,client_side:true});},changeLike:function(ka,la,ma){p.getFeedbackTarget(ka,function(na){var oa=x(ma.target);if(na.hasviewerliked!==la){var pa=la?1:-1,qa={actiontype:o.UFIActionType.LIKE_ACTION,actorid:na.actorforpost,hasviewerliked:la,likecount:na.likecount+pa,entidentifier:ka,likesentences:{current:na.likesentences.alternate,alternate:na.likesentences.current}};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});q.trySend('/ajax/ufi/like.php',s({like_action:la,ft_ent_identifier:ka,source:ma.source,client_id:i.getNewClientID(),rootid:ma.rootid,giftoccasion:ma.giftoccasion},oa));}});},changeSubscribe:function(ka,la,ma){p.getFeedbackTarget(ka,function(na){var oa=x(ma.target);if(na.hasviewersubscribed!==la){var pa={actiontype:o.UFIActionType.SUBSCRIBE_ACTION,actorid:na.actorforpost,hasviewersubscribed:la,entidentifier:ka};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});q.trySend('/ajax/ufi/subscribe.php',s({subscribe_action:la,ft_ent_identifier:ka,source:ma.source,client_id:i.getNewClientID(),rootid:ma.rootid,comment_expand_mode:ma.commentexpandmode},oa));}});},fetchSpamComments:function(ka,la,ma,na){q.trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ka,viewas:na,comment_ids:la,parent_comment_id:ma,source:null});},removePreview:function(ka,la){var ma=x(la.target),na={commentid:ka.id,actiontype:o.UFIActionType.REMOVE_PREVIEW};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[na]});q.trySend('/ajax/ufi/remove_preview.php',s({comment_id:ka.id,ft_ent_identifier:ka.ftentidentifier,source:la.source},ma));}};function x(ka){if(!ka)return {ft:{}};var la={ft:r(ka,['ft']).ft};l.addModuleData(la,ka);return la;}function y(ka){var la=ka.request.data;g.defaultErrorHandler(ka);var ma=la.client_id||la.comment_id,na=n.getComment(ma),oa=(na.status===o.UFIStatus.PENDING_EDIT)?o.UFIStatus.FAILED_EDIT:o.UFIStatus.FAILED_ADD;na=j.setDeep(na,{status:oa,allowRetry:z(ka),body:{mentionstext:la.comment_text}});m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[na]});}function z(ka){var la=ka.getError();if(la===1404102)return false;if(ka.silentError)return true;if(la===1357012||la===1357006)return false;return true;}function aa(ka){var la=ka.request.data,ma=la.comment_id,na=n.getComment(ma);na=j.set(na,{status:na.priorstatus||null,priorstatus:undefined});m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[na]});}function ba(ka){var la=ka.request.data,ma=la.comment_id,na=n.getComment(ma);if(la.like_action===na.hasviewerliked){var oa=na.hasviewerliked?-1:1,pa={commentid:ma,actiontype:o.UFIActionType.COMMENT_LIKE,viewerliked:!na.hasviewerliked,likecount:na.likecount+oa};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});}g.defaultErrorHandler(ka);}function ca(ka){var la=ka.request.data,ma=la.ft_ent_identifier;p.getFeedbackTarget(ma,function(na){if(na.hasviewerliked===la.like_action){var oa=na.hasviewerliked?-1:1,pa={actiontype:o.UFIActionType.LIKE_ACTION,actorid:na.actorforpost,hasviewerliked:!na.hasviewerliked,likecount:na.likecount+oa,entidentifier:ma,likesentences:{current:na.likesentences.alternate,alternate:na.likesentences.current}};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});}});g.defaultErrorHandler(ka);}function da(ka){var la=ka.request.data,ma=la.ft_ent_identifier;p.getFeedbackTarget(ma,function(na){if(na.hasviewersubscribed===la.subscribe_action){var oa={actiontype:o.UFIActionType.SUBSCRIBE_ACTION,actorid:na.actorforpost,hasviewersubscribed:!na.hasviewersubscribed,entidentifier:ma};m.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});}});g.defaultErrorHandler(ka);}var ea=function(ka){return m.handleUpdate.bind(m,ka);},fa=o.UFIPayloadSourceType;q.registerEndpoints({'/ajax/ufi/comment_like.php':{mode:q.BATCH_CONDITIONAL,handler:ea(fa.ENDPOINT_COMMENT_LIKE),error_handler:ba,batch_if:ga,batch_function:ja},'/ajax/ufi/comment_spam.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_COMMENT_SPAM),error_handler:aa},'/ajax/ufi/add_comment.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_ADD_COMMENT),error_handler:y},'/ajax/ufi/delete_comment.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_DELETE_COMMENT),error_handler:aa},'/ajax/ufi/undo_delete_comment.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_UNDO_DELETE_COMMENT),error_handler:aa},'/ajax/ufi/ban_user.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_BAN)},'/ajax/ufi/edit_comment.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_EDIT_COMMENT),error_handler:y},'/ajax/ufi/like.php':{mode:q.BATCH_CONDITIONAL,handler:ea(fa.ENDPOINT_LIKE),error_handler:ca,batch_if:ha,batch_function:ja},'/ajax/ufi/subscribe.php':{mode:q.BATCH_CONDITIONAL,handler:ea(fa.ENDPOINT_SUBSCRIBE),error_handler:da,batch_if:ia,batch_function:ja},'/ajax/ufi/id_comment_fetch.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_ID_COMMENT_FETCH)},'/ajax/ufi/remove_preview.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_REMOVE_PREVIEW)},'/ajax/ufi/translate_comment.php':{mode:q.IMMEDIATE,handler:ea(fa.ENDPOINT_TRANSLATE_COMMENT)}});function ga(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier&&ka.comment_id==la.comment_id;}function ha(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier;}function ia(ka,la){return ka&&ka.ft_ent_identifier==la.ft_ent_identifier;}function ja(ka,la){return la;}e.exports=w;});
__d("UFIActionLinkController",["Arbiter","ClickTTIIdentifiers","CSS","DOMQuery","Parent","React","TrackingNodes","UFIBlingBox.react","UFICentralUpdates","UFIComments","UFIConstants","UFIFeedbackTargets","UFILikeLink.react","UFISubscribeLink.react","UFITimelineBlingBox.react","UFIUserActions","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ClickTTIIdentifiers'),i=b('CSS'),j=b('DOMQuery'),k=b('Parent'),l=b('React'),m=b('TrackingNodes'),n=b('UFIBlingBox.react'),o=b('UFICentralUpdates'),p=b('UFIComments'),q=b('UFIConstants'),r=b('UFIFeedbackTargets'),s=b('UFILikeLink.react'),t=b('UFISubscribeLink.react'),u=b('UFITimelineBlingBox.react'),v=b('UFIUserActions'),w=b('copyProperties');function x(z,aa,ba){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var ca=j.scry(z,aa)[0];if(ca){var da=document.createElement('span');ca.parentNode.replaceChild(da,ca);da.appendChild(ca);if(typeof ba==="function")ba(da);}else var ea=g.subscribe('PhotoSnowlift.DATA_CHANGE',function(){g.unsubscribe(ea);x(z,aa,ba);},g.SUBSCRIBE_NEW);}var y=function(z,aa,ba){this._id=aa.ftentidentifier;this._ftFBID=ba.targetfbid;this._source=aa.source;this._contextArgs=aa;this._ufiRoot=z;if(this._isSourceProfile(this._contextArgs.source)){this._attemptInitializeTimelineBling();}else this._attemptInitializeBling();if(ba.viewercanlike)this._attemptInitializeLike();if(ba.viewercansubscribetopost)this._attemptInitializeSubscribe();o.subscribe('feedback-updated',function(ca,da){var ea=da.updates;if(this._id in ea)this.render();}.bind(this));o.subscribe('feedback-id-changed',function(ca,da){var ea=da.updates;if(this._id in ea)this._id=ea[this._id];}.bind(this));};w(y.prototype,{_attemptInitializeBling:function(){x(this._ufiRoot,'^form .uiBlingBox',function(z){this._blingRoot=z;if(this._dataReady)this._renderBling();}.bind(this));},_attemptInitializeTimelineBling:function(){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var z=j.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions span')[0];if(z){i.addClass(z,"UFIBlingBoxTimeline");var aa=j.scry(z,'.fbTimelineFeedbackLikes')[0];this._enableShowLikes=aa?true:false;var ba=j.scry(z,'.fbTimelineFeedbackComments')[0];this._enableShowComments=ba?true:false;}this._blingTimelineRoot=z;if(this._dataReady)this._renderTimelineBling();},_attemptInitializeLike:function(){x(this._ufiRoot,'^form .like_link',function(z){this._likeRoot=z;if(this._dataReady)this._renderLike();}.bind(this));},_attemptInitializeSubscribe:function(){x(this._ufiRoot,'^form .unsub_link',function(z){this._subscribeRoot=z;if(this._dataReady)this._renderSubscribe();}.bind(this));},render:function(){this._dataReady=true;if(this._isSourceProfile(this._contextArgs.source)){this._renderTimelineBling();}else this._renderBling();this._renderLike();this._renderSubscribe();},_renderBling:function(){if(this._blingRoot)r.getFeedbackTarget(this._id,function(z){var aa=function(event){var da=k.byTag(event.target,"form");i.toggleClass(da,"collapsed_comments");i.toggleClass(da,"hidden_add_comment");event.preventDefault();}.bind(this),ba=m.getTrackingInfo(m.types.BLINGBOX),ca=n({likes:z.likecount,comments:p.getDisplayedCommentCount(this._id),reshares:z.sharecount,permalink:z.permalink,contextArgs:this._contextArgs,onClick:aa,'data-ft':ba});this._blingBox=l.renderComponent(ca,this._blingRoot);}.bind(this));},_renderTimelineBling:function(){if(this._blingTimelineRoot)r.getFeedbackTarget(this._id,function(z){var aa=m.getTrackingInfo(m.types.BLINGBOX),ba=h.getUserActionID(h.types.TIMELINE_SEE_LIKERS),ca=function(event){var ea=k.byTag(event.target,"form");i.removeClass(ea,"collapsed_comments");var fa=j.scry(ea,'a.UFIPagerLink');if(fa.length)fa[0].click();event.preventDefault();}.bind(this),da=u({comments:p.getDisplayedCommentCount(this._id),commentOnClick:ca,contextArgs:this._contextArgs,'data-ft':aa,'data-gt':ba,enableShowComments:this._enableShowComments,enableShowLikes:this._enableShowLikes,feedbackFBID:this._ftFBID,likes:z.likecount,reshares:z.sharecount});l.renderComponent(da,this._blingTimelineRoot);}.bind(this));},_renderLike:function(){if(this._likeRoot)r.getFeedbackTarget(this._id,function(z){var aa=!z.hasviewerliked,ba=function(event){v.changeLike(this._id,aa,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,giftoccasion:this._contextArgs.giftoccasion});event.preventDefault();}.bind(this),ca=s({onClick:ba,likeAction:aa});this._likeLink=l.renderComponent(ca,this._likeRoot);}.bind(this));},_renderSubscribe:function(){if(this._subscribeRoot)r.getFeedbackTarget(this._id,function(z){var aa=!z.hasviewersubscribed,ba=function(event){v.changeSubscribe(this._id,aa,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,commentexpandmode:z.commentexpandmode});event.preventDefault();}.bind(this),ca=t({onClick:ba,subscribeAction:aa});this._subscribeLink=l.renderComponent(ca,this._subscribeRoot);}.bind(this));},_isSourceProfile:function(z){return z===q.UFIFeedbackSourceType.PROFILE;}});e.exports=y;});
__d("MentionsInputUtils",[],function(a,b,c,d,e,f){var g={generateDataFromTextWithEntities:function(h){var i=h.text,j=[];(h.ranges||[]).forEach(function(l){var m=l.entities[0];if(!m.external)j.push({uid:m.id,text:i.substr(l.offset,l.length),offset:l.offset,length:l.length,weakreference:!!m.weakreference});});var k={value:i,mentions:j};return k;}};e.exports=g;});
__d("ClipboardPhotoUploader",["ArbiterMixin","AsyncRequest","copyProperties"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('AsyncRequest'),i=b('copyProperties');function j(k,l){this.uploadURIString=k;this.data=l;}i(j.prototype,g,{handlePaste:function(event){if(!event.clipboardData)return;var k=event.clipboardData.items;if(!k)return;for(var l=0;l<k.length;++l){var m=k[l];if(m.kind==='file'&&m.type.indexOf('image/')!==-1){var n=new FormData();n.append('pasted_file',m.getAsFile());var o=new h();o.setURI(this.uploadURIString).setData(this.data).setRawData(n).setHandler(function(p){this.inform('upload_success',p);}.bind(this)).setErrorHandler(function(p){this.inform('upload_error',p);}.bind(this));this.inform('upload_start');o.send();break;}}}});e.exports=j;});
__d("CloseButton.react",["React","cx"],function(a,b,c,d,e,f){var g=b('React'),h=b('cx'),i=g.createClass({displayName:'CloseButton',render:function(){var j=this.props,k=j.size||'medium',l=j.appearance||'normal',m=k==='small',n=k==='huge',o=l==='dark',p=l==='inverted',q=(("uiCloseButton")+(m?' '+"uiCloseButtonSmall":'')+(n?' '+"uiCloseButtonHuge":'')+(m&&o?' '+"uiCloseButtonSmallDark":'')+(m&&p?' '+"uiCloseButtonSmallInverted":'')+(!m&&o?' '+"uiCloseButtonDark":'')+(!m&&p?' '+"uiCloseButtonInverted":''));return this.transferPropsTo(g.DOM.a({href:"#",role:"button",'aria-label':j.tooltip,'data-hover':j.tooltip&&'tooltip','data-tooltip-alignh':j.tooltip&&'center',className:q}));}});e.exports=i;});
__d("LoadingIndicator.react",["React","joinClasses","keyMirror","merge"],function(a,b,c,d,e,f){var g=b('React'),h=b('joinClasses'),i=b('keyMirror'),j=b('merge'),k=i({white:true,blue:true,black:true}),l=i({small:true,medium:true,large:true}),m={white:{large:'/images/loaders/indicator_blue_large.gif',medium:'/images/loaders/indicator_blue_medium.gif',small:'/images/loaders/indicator_blue_small.gif'},blue:{large:'/images/loaders/indicator_white_large.gif',small:'/images/loaders/indicator_white_small.gif'},black:{large:'/images/loaders/indicator_black.gif'}},n=g.createClass({displayName:'LoadingIndicator',render:function(){var o=this.props.color,p=this.props.size;if(!m[o])return g.DOM.span(null);if(!m[o][p])return g.DOM.span(null);var q=((this.props.showonasync?'uiLoadingIndicatorAsync':''));if(this.props.className)q=h(this.props.className,q);var r=m[o][p],s=g.DOM.img({src:r,className:q});s.props=j(this.props,s.props);return s;}});n.SIZES=l;n.COLORS=k;e.exports=n;});
__d("LegacyMentionsInput.react",["PlaceholderListener","Bootloader","Event","Keys","React","cx"],function(a,b,c,d,e,f){b('PlaceholderListener');var g=b('Bootloader'),h=b('Event'),i=b('Keys'),j=b('React'),k=b('cx'),l=j.createClass({displayName:'ReactLegacyMentionsInput',componentDidMount:function(m){this.props.initialData&&this._initializeTextarea(m);},hasEnteredText:function(){return !!(this._mentionsInput&&this._mentionsInput.getValue().trim());},_handleKeydown:function(event){var m=event.nativeEvent,n=this.props.onEnterSubmit,o=h.getKeyCode(m)==i.RETURN&&!h.$E(m).getModifiers().any,p=this._mentionsInput&&this._mentionsInput.getTypeahead().getView().getSelection();if(n&&o&&!p){if(this.props.isLoadingPhoto)return false;var q=event.target,r=q.value&&q.value.trim();if(r||this.props.acceptEmptyInput){var s={visibleValue:r,encodedValue:r,attachedPhoto:null};if(this._mentionsInput){s.encodedValue=this._mentionsInput.getRawValue().trim();this._mentionsInput.reset();}n(s,event);}event.preventDefault();}},_handleFocus:function(){this.props.onFocus&&this.props.onFocus();this._initializeTextarea(this.refs.root.getDOMNode());},_handleBlur:function(){this.props.onBlur&&this.props.onBlur();},_initializeTextarea:function(m){if(this._mentionsInput||this._bootloadingMentions)return;this._bootloadingMentions=true;g.loadModules(['CompactTypeaheadRenderer','ContextualTypeaheadView','InputSelection','MentionsInput','TextAreaControl','Typeahead','TypeaheadAreaCore','TypeaheadBestName','TypeaheadHoistFriends','TypeaheadMetrics','TypingDetector'],function(n,o,p,q,r,s,t,u,v,w,x){var y=this.refs.textarea.getDOMNode();new r(y);if(this.props.onTypingStateChange){var z=new x(y);z.init();z.subscribe('change',this.props.onTypingStateChange);}var aa={autoSelect:true,renderer:n,causalElement:y};if(this.props.viewOptionsTypeObjects)aa.typeObjects=this.props.viewOptionsTypeObjects;if(this.props.viewOptionsTypeObjectsOrder)aa.typeObjectsOrder=this.props.viewOptionsTypeObjectsOrder;var ba=new s(this.props.datasource,{ctor:o,options:aa},{ctor:t},this.refs.typeahead.getDOMNode()),ca=[u,v],da=new w({extraData:{event_name:'mentions'}});s.initNow(ba,ca,da);this._mentionsInput=new q(m,ba,y,{hashtags:this.props.sht});this._mentionsInput.init({max:6},this.props.initialData);if(this.props.initialData)p.set(y,y.value.length);if(this.props.onPaste)h.listen(y,'paste',this.props.onPaste);this._bootloadingMentions=false;}.bind(this));},focus:function(){try{this.refs.textarea.getDOMNode().focus();}catch(m){}},render:function(){var m=(("textInput")+(' '+"mentionsTextarea")+(' '+"uiTextareaAutogrow")+(' '+"uiTextareaNoResize")+(' '+"UFIAddCommentInput")+(' '+"DOMControl_placeholder"));return (j.DOM.div({ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput"},j.DOM.div({className:"highlighter"},j.DOM.div(null,j.DOM.span({className:"highlighterContent hidden_elem"}))),j.DOM.div({ref:"typeahead",className:"uiTypeahead mentionsTypeahead"},j.DOM.div({className:"wrap"},j.DOM.input({type:"hidden",autocomplete:"off",className:"hiddenInput"}),j.DOM.div({className:"innerWrap"},j.DOM.textarea({ref:"textarea",name:"add_comment_text",className:m,title:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeydown,defaultValue:this.props.placeholder})))),j.DOM.input({type:"hidden",autocomplete:"off",className:"mentionsHidden",defaultValue:""})));}});e.exports=l;});
__d("UFIClassNames",["cx"],function(a,b,c,d,e,f){var g=b('cx');e.exports={ACTOR_IMAGE:"img UFIActorImage _54ru",ROW:"UFIRow",UNSEEN_ITEM:"UFIUnseenItem"};});
__d("LeftRight.react",["React","cx","keyMirror","throwIf"],function(a,b,c,d,e,f){var g=b('React'),h=b('cx'),i=b('keyMirror'),j=b('throwIf'),k=i({left:true,right:true,both:true});function l(n){j(!n.children||n.children.length<1||n.children.length>2,'LeftRight component must have one or two children.');}var m=g.createClass({displayName:'LeftRight',render:function(){l(this.props);var n=this.props.direction||k.both,o=(n===k.both),p=g.DOM.div({key:"left",className:((o||n===k.left?"lfloat":''))},this.props.children[0]),q=(this.props.children.length<2)?null:g.DOM.div({key:"right",className:((o||n===k.right?"rfloat":''))},this.props.children[1]),r=(n===k.right&&q)?[q,p]:[p,q];return this.transferPropsTo(g.DOM.div({className:"clearfix"},r));}});m.DIRECTION=k;e.exports=m;});
__d("ImageBlock.react",["LeftRight.react","React","cx","joinClasses","throwIf"],function(a,b,c,d,e,f){var g=b('LeftRight.react'),h=b('React'),i=b('cx'),j=b('joinClasses'),k=b('throwIf');function l(p){k(!p.children||p.children.length>3||p.children.length<1,"ImageBlock requires two or three children.");}function m(p){return (("img")+(' '+"_8o")+(p==='small'?' '+"_8r":'')+(p==='medium'?' '+"_8s":'')+(p==='large'?' '+"_8t":''));}function n(p,q,r){p.props.className=j(m(q),p.props.className,r);}var o=h.createClass({displayName:'ImageBlock',render:function(){l(this.props);var p=this.props.children[0],q=this.props.children[1],r=this.props.children[2],s=this.props.spacing||'small';n(p,s,this.props.imageClassName);var t=j(this.props.contentClassName,(("_42ef")+(s==='small'?' '+"_8u":'')));if(p.tagName=='IMG'){if(p.props.alt===undefined)p.props.alt='';}else if((p.tagName=='A'||p.tagName=='LINK')&&p.props.tabIndex===undefined&&p.props.title===undefined&&p.props['aria-label']===undefined){p.props.tabIndex='-1';p.props['aria-hidden']='true';}var u;if(!r){u=h.DOM.div({className:t},q);}else u=g({className:t,direction:g.DIRECTION.right},q,r);return this.transferPropsTo(g({direction:g.DIRECTION.left},p,u));}});e.exports=o;});
__d("UFIImageBlock.react",["ImageBlock.react","React","cx"],function(a,b,c,d,e,f){var g=b('ImageBlock.react'),h=b('React'),i=b('cx'),j=h.createClass({displayName:'UFIImageBlock',render:function(){return this.transferPropsTo(g({imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent"},this.props.children));}});e.exports=j;});
__d("UFIAddComment.react",["Bootloader","CLogConfig","ClipboardPhotoUploader","CloseButton.react","Event","Keys","LoadingIndicator.react","React","LegacyMentionsInput.react","TrackingNodes","Run","UFIClassNames","UFIImageBlock.react","cx","joinClasses","tx"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('CLogConfig'),i=b('ClipboardPhotoUploader'),j=b('CloseButton.react'),k=b('Event'),l=b('Keys'),m=b('LoadingIndicator.react'),n=b('React'),o=b('LegacyMentionsInput.react'),p=b('TrackingNodes'),q=b('Run'),r=b('UFIClassNames'),s=b('UFIImageBlock.react'),t=b('cx'),u=b('joinClasses'),v=b('tx'),w="Write a comment...",x="Write a reply...",y="fcg fss UFICommentTip",z=19,aa='/ajax/ufi/upload/',ba=n.createClass({displayName:'UFIAddComment',getInitialState:function(){if(this.props.attachedPhoto)this.props.contextArgs.attachedphoto=this.props.attachedPhoto;return {attachedPhoto:this.props.attachedPhoto?this.props.attachedPhoto:null,isCommenting:false,isLoadingPhoto:false,isOnBeforeUnloadListenerAdded:false};},_onKeyDown:function(event){if(this.props.isEditing&&k.getKeyCode(event.nativeEvent)===l.ESC)this.props.onCancel();if(this.isMounted()&&!this.state.isOnBeforeUnloadListenerAdded){q.onBeforeUnload(this._handleUnsavedChanges);this.setState({isOnBeforeUnloadListenerAdded:true});}},_handleUnsavedChanges:function(){var ca=a.PageTransitions;if(ca){var da=ca.getNextURI(),ea=ca.getMostRecentURI();if(da.getQueryData().hasOwnProperty('theater')||ea.getQueryData().hasOwnProperty('theater'))return;}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return "You haven't finished your comment yet. Do you want to leave without finishing?";},_blur:function(){if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false});},_onPaste:function(event){var ca=new i(aa,this._getPhotoUploadData());this._cancelCurrentSubscriptions();this._subscriptions=[ca.subscribe('upload_start',this._prepareForAttachedPhotoPreview),ca.subscribe('upload_error',this._onRemoveAttachedPhotoPreviewClicked),ca.subscribe('upload_success',function(da,ea){this._onPhotoUploadComplete(ea);}.bind(this))];ca.handlePaste(event);},_cancelCurrentSubscriptions:function(){if(this._subscriptions)this._subscriptions.forEach(function(ca){ca.unsubscribe();});},componentWillUnmount:function(){this._cancelCurrentSubscriptions();},focus:function(){if(this.refs&&this.refs.mentionsinput)this.refs.mentionsinput.focus();},render:function(){var ca=!this.props.contextArgs.collapseaddcomment||this.state.isCommenting,da=null;if(this.props.isEditing){da=n.DOM.span({className:y},"Press Esc to cancel.");}else if(this.props.showSendOnEnterTip){da=n.DOM.span({className:y},"Press Enter to post.");}else if(this.props.subtitle)da=n.DOM.span({className:y},this.props.subtitle);var ea=null,fa=this.state.attachedPhoto,ga=null;if(this.props.allowPhotoAttachments){ga=this._onPaste;var ha=n.DOM.input({ref:"PhotoInput",accept:"image/*",className:"_n",name:"file[]",type:"file",multiple:false}),ia=fa?"UFICommentPhotoAttachedIcon":"UFICommentPhotoIcon",ja="UFIPhotoAttachLinkWrapper _m";ea=n.DOM.div({ref:"PhotoInputContainer",className:ja,'data-hover':"tooltip",'data-tooltip-alignh':"center",'aria-label':"Attach a Photo"},n.DOM.i({ref:"PhotoInputControl",className:ia}),ha);}var ka=p.getTrackingInfo(p.types.ADD_COMMENT_BOX),la=u(r.ACTOR_IMAGE,((!ca?"hidden_elem":''))),ma=n.DOM.div({className:"UFIReplyActorPhotoWrapper"},n.DOM.img({className:la,src:this.props.viewerActor.thumbSrc})),na=u(r.ROW,((this.props.hide?"noDisplay":'')+(' '+"UFIAddComment")+(this.props.allowPhotoAttachments?' '+"UFIAddCommentWithPhotoAttacher":'')+(this.props.withoutSeparator?' '+"UFIAddCommentWithoutSeparator":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),oa=!!this.props.replyCommentID?x:w,pa=this.props.contextArgs.entstream?this._blur:null,qa=this.props.contextArgs.viewoptionstypeobjects,ra=this.props.contextArgs.viewoptionstypeobjectsorder,sa=null,ta=this.props.onCommentSubmit;if(fa){sa=n.DOM.div({isStatic:true,dangerouslySetInnerHTML:this.state.attachedPhoto.markupPreview?this.state.attachedPhoto.markupPreview:this.state.attachedPhoto.markup});da=null;}else if(this.state.isLoadingPhoto)sa=m({color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"});var ua;if(sa!=null){ua=n.DOM.div({className:"UFICommentPhotoAttachedPreview pas"},sa,j({onClick:this._onRemoveAttachedPhotoPreviewClicked}));ta=function(va,event){this.setState({isLoadingPhoto:false,attachedPhoto:null});va.attachedPhoto=this.props.contextArgs.attachedphoto;this.props.onCommentSubmit(va,event);}.bind(this);}return (n.DOM.li({className:na,onKeyDown:this._onKeyDown,'data-ft':ka},s({className:"UFIMentionsInputWrap"},ma,n.DOM.div(null,o({initialData:this.props.initialData,placeholder:oa,ref:"mentionsinput",datasource:this.props.mentionsDataSource,acceptEmptyInput:this.props.isEditing||this.props.contextArgs.attachedphoto,onEnterSubmit:ta,onFocus:this.setState.bind(this,{isCommenting:true}),viewOptionsTypeObjects:qa,viewOptionsTypeObjectsOrder:ra,onBlur:pa,onTypingStateChange:this.props.onTypingStateChange,onPaste:ga,sht:this.props.contextArgs.sht,isLoadingPhoto:this.state.isLoadingPhoto}),ea,ua,da))));},componentDidMount:function(ca){if(h.gkResults){var da=this.props.replyCommentID;if(this.refs&&this.refs.mentionsinput){var ea=this.refs.mentionsinput.refs.textarea.getDOMNode();g.loadModules(['CLoggerX','UFIComments'],function(ja,ka){var la=ka.getComment(da),ma=la?la.fbid:null;ja.trackMentionsInput(ea,ma);});}}if(!this.props.allowPhotoAttachments)return;var fa=this.refs.PhotoInputContainer.getDOMNode(),ga=this.refs.PhotoInputControl.getDOMNode(),ha=this.refs.PhotoInput.getDOMNode(),ia=k.listen(fa,'click',function(event){g.loadModules(['FileInput','FileInputUploader','Input'],function(ja,ka,la){var ma=new ja(fa,ga,ha),na=new ka().setURI(aa).setData(this._getPhotoUploadData());ma.subscribe('change',function(event){if(ma.getValue()){this._prepareForAttachedPhotoPreview();na.setInput(ma.getInput()).send();}}.bind(this));na.subscribe('success',function(oa,pa){ma.clear();this._onPhotoUploadComplete(pa.response);}.bind(this));}.bind(this));ia.remove();}.bind(this));},_getPhotoUploadData:function(){return {profile_id:this.props.viewerActor.id,source:z};},_onPhotoUploadComplete:function(ca){if(!this.state.isLoadingPhoto)return;var da=ca.getPayload();if(da&&da.fbid){this.props.contextArgs.attachedphoto=da;this.setState({attachedPhoto:da,isLoadingPhoto:false});}},_onRemoveAttachedPhotoPreviewClicked:function(event){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:false});},_prepareForAttachedPhotoPreview:function(){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:true});}});e.exports=ba;});
__d("UFIAddCommentController",["Arbiter","copyProperties","MentionsInputUtils","Parent","UFIAddComment.react","React","ShortProfiles","UFICentralUpdates","UFIComments","UFIFeedbackTargets","UFIInstanceState","UFIUserActions"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('copyProperties'),i=b('MentionsInputUtils'),j=b('Parent'),k=b('UFIAddComment.react'),l=b('React'),m=b('ShortProfiles'),n=b('UFICentralUpdates'),o=b('UFIComments'),p=b('UFIFeedbackTargets'),q=b('UFIInstanceState'),r=b('UFIUserActions');function s(t,u,v,w){this.id=u;this._ufiInstanceID=w.instanceid;this._contextArgs=w;this._replyCommentID=v;if(t){this.root=t;if(!this._contextArgs.rootid)this._contextArgs.rootid=t.id;this.render();n.subscribe('instance-updated',function(x,y){var z=y.updates;if(this._ufiInstanceID in z)this.render();}.bind(this));}n.subscribe('feedback-id-changed',function(x,y){var z=y.updates;if(this.id in z)this.id=z[this.id];}.bind(this));}h(s.prototype,{_onCommentSubmit:function(t,event){r.addComment(this.id,t.visibleValue,t.encodedValue,{source:this._contextArgs.source,ufiinstanceid:this._ufiInstanceID,target:event.target,replyid:this._replyCommentID,timelinelogdata:this._contextArgs.timelinelogdata,rootid:this._contextArgs.rootid,attachedphoto:this._contextArgs.attachedphoto,giftoccasion:this._contextArgs.giftoccasion});this._contextArgs.attachedphoto=null;p.getFeedbackTarget(this.id,function(u){var v=j.byTag(this.root,'form');if(v)g.inform('ufi/comment',{form:v,isranked:u.isranked});}.bind(this));return false;},_onTypingStateChange:function(t,u){},renderAddComment:function(t,u,v,w,x,y,z){var aa=this._contextArgs.logtyping?this._onTypingStateChange.bind(this):null,ba=null,ca=q.getKeyForInstance(this._ufiInstanceID,'isediting')&&!this._replyCommentID;return (k({hide:ca,replyCommentID:this._replyCommentID,viewerActor:t,initialData:ba,ref:w,withoutSeparator:x,onCommentSubmit:this._onCommentSubmit.bind(this),mentionsDataSource:u,onTypingStateChange:aa,showSendOnEnterTip:v,allowPhotoAttachments:y,source:this._contextArgs.source,contextArgs:this._contextArgs,subtitle:z}));},renderEditComment:function(t,u,v,w,x,y){var z=o.getComment(u),aa=i.generateDataFromTextWithEntities(z.body);return (k({viewerActor:t,initialData:aa,onCommentSubmit:w,onCancel:x,mentionsDataSource:v,source:this._contextArgs.source,contextArgs:this._contextArgs,isEditing:true,editingCommentID:u,attachedPhoto:z.photo_comment,allowPhotoAttachments:y}));},render:function(){if(!this.root)throw new Error('render called on UFIAddCommentController with no root');p.getFeedbackTarget(this.id,function(t){if(t.cancomment&&t.actorforpost)m.get(t.actorforpost,function(u){var v=this.renderAddComment(u,t.mentionsdatasource,t.showsendonentertip,null,null,t.allowphotoattachments,t.subtitle);this._addComment=l.renderComponent(v,this.root);}.bind(this));}.bind(this));}});e.exports=s;});
__d("Scrollable",["Event","Parent","UserAgent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Parent'),i=b('UserAgent'),j=function(event){var m=h.byClass(event.getTarget(),'scrollable');if(!m)return;if((typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS)||(event.wheelDeltaX&&!event.wheelDeltaY)||(event.deltaX&&!event.deltaY))return;var n=event.wheelDelta||-event.deltaY||-event.detail,o=m.scrollHeight,p=m.clientHeight;if(o>p){var q=m.scrollTop;if((n>0&&q===0)||(n<0&&q>=o-p)){event.prevent();}else if(i.ie()<9)if(m.currentStyle){var r=m.currentStyle.fontSize;if(r.indexOf('px')<0){var s=document.createElement('div');s.style.fontSize=r;s.style.height='1em';r=s.style.pixelHeight;}else r=parseInt(r,10);m.scrollTop=q-Math.round(n/120*r);event.prevent();}}},k=document.documentElement;if(i.firefox()){var l=('WheelEvent' in window)?'wheel':'DOMMouseScroll';k.addEventListener(l,j,false);}else g.listen(k,'mousewheel',j);});
__d("LegacyScrollableArea.react",["Scrollable","Bootloader","React","Style","cx"],function(a,b,c,d,e,f){b('Scrollable');var g=b('Bootloader'),h=b('React'),i=b('Style'),j=b('cx'),k="uiScrollableArea native",l="uiScrollableAreaWrap scrollable",m="uiScrollableAreaBody",n="uiScrollableAreaContent",o=h.createClass({displayName:'ReactLegacyScrollableArea',render:function(){var p={height:this.props.height?this.props.height+'px':'auto'};return (h.DOM.div({className:k,ref:"root",style:p},h.DOM.div({className:l},h.DOM.div({className:m,ref:"body"},h.DOM.div({className:n},this.props.children)))));},getArea:function(){return this._area;},componentDidMount:function(){g.loadModules(['ScrollableArea'],this._loadScrollableArea);},_loadScrollableArea:function(p){this._area=p.fromNative(this.refs.root.getDOMNode(),{fade:this.props.fade,persistent:this.props.persistent});var q=this.refs.body.getDOMNode();i.set(q,'width',this.props.width+'px');this.props.onScroll&&this._area.subscribe('scroll',this.props.onScroll);}});e.exports=o;});
__d("UFIAddCommentLink.react",["React","UFIClassNames","cx","joinClasses","tx"],function(a,b,c,d,e,f){var g=b('React'),h=b('UFIClassNames'),i=b('cx'),j=b('joinClasses'),k=b('tx'),l=g.createClass({displayName:'UFIAddCommentLink',render:function(){var m=j(h.ROW,(("UFIAddCommentLink")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),n="Write a comment...";return (g.DOM.li({className:m,'data-ft':this.props['data-ft']},g.DOM.a({className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},n)));}});e.exports=l;});
__d("HovercardLink",["Bootloader","URI"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('URI'),i={getBaseURI:function(){return h('/ajax/hovercard/hovercard.php');},constructEndpoint:function(j,k){return i.constructEndpointWithGroupAndLocation(j,k,null);},constructEndpointWithLocation:function(j,k){return i.constructEndpointWithGroupAndLocation(j,null,k);},constructEndpointWithGroupAndLocation:function(j,k,l){g.loadModules(['Hovercard'],function(){});var m=new h(i.getBaseURI()).setQueryData({id:j.id}),n={};if(j.weakreference&&k)n.group_id=k;if(l)n.hc_location=l;m.addQueryData({extragetparams:JSON.stringify(n)});return m;}};e.exports=i;});
__d("UntrustedLink",["DOM","Event","URI","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Event'),i=b('URI'),j=b('UserAgent'),k=b('copyProperties');function l(m,n,o,p){this.dom=m;this.url=m.href;this.hash=n;this.func_get_params=p||function(){return {};};h.listen(this.dom,'click',this.onclick.bind(this));h.listen(this.dom,'mousedown',this.onmousedown.bind(this));h.listen(this.dom,'mouseup',this.onmouseup.bind(this));h.listen(this.dom,'mouseout',this.onmouseout.bind(this));this.onmousedown(h.$E(o));}l.bootstrap=function(m,n,o,p){if(m.__untrusted)return;m.__untrusted=true;new l(m,n,o,p);};l.prototype.getRewrittenURI=function(){var m=k({u:this.url,h:this.hash},this.func_get_params(this.dom)),n=new i('/l.php');return n.setQueryData(m).setSubdomain('www').setProtocol('http');};l.prototype.onclick=function(){(function(){this.setHref(this.url);}).bind(this).defer(100);this.setHref(this.getRewrittenURI());};l.prototype.onmousedown=function(m){if(m.button==2)this.setHref(this.getRewrittenURI());};l.prototype.onmouseup=function(){this.setHref(this.getRewrittenURI());};l.prototype.onmouseout=function(){this.setHref(this.url);};l.prototype.setHref=function(m){if(j.ie()<9){var n=g.create('span');g.appendContent(this.dom,n);this.dom.href=m;g.remove(n);}else this.dom.href=m;};e.exports=l;});
__d("Link.react",["React","UntrustedLink","mergeInto"],function(a,b,c,d,e,f){var g=b('React'),h=b('UntrustedLink'),i=b('mergeInto'),j=g.createClass({displayName:'Link',_installLinkshimOnMouseDown:function(event){var k=this.props.href;if(k.shimhash)h.bootstrap(this.getDOMNode(),k.shimhash);this.props.onMouseDown&&this.props.onMouseDown(event);},render:function(){var k=this.props.href,l=g.DOM.a(null);i(l.props,this.props);if(k){l.props.href=k.url;var m=!!k.shimhash;if(m){l.props.rel=l.props.rel?(l.props.rel+' nofollow'):'nofollow';l.props.onMouseDown=this._installLinkshimOnMouseDown;}}else l.props.href='#';return l;}});e.exports=j;});
__d("PubContentTypes",[],function(a,b,c,d,e,f){var g={HASHTAG:'hashtag',TOPIC:'topic',URL:'url'};e.exports=g;});
__d("HovercardLinkInterpolator",["Bootloader","CSS","Event","HovercardLink","Link.react","Parent","PubContentTypes","React","URI","cx"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('CSS'),i=b('Event'),j=b('HovercardLink'),k=b('Link.react'),l=b('Parent'),m=b('PubContentTypes'),n=b('React'),o=b('URI'),p=b('cx');function q(r,s,t,u,v){var w=s.entities[0],x=t||(w.external?'_blank':null),y,z=((!w.external?"profileLink":'')+(w.weakreference?' '+"weakReference":''));if(w.hashtag){var aa=h.hasClass(document.body,"_6nw"),ba=function(ea){if(i.$E(ea.nativeEvent).isDefaultRequested())return;ea.preventDefault();var fa=l.byTag(ea.target,'A');if(aa){g.loadModules(['EntstreamPubContentOverlay'],function(ga){ga.pubClick(fa);});}else g.loadModules(['HashtagLayerPageController'],function(ga){ga.click(fa);});},ca=null;if(aa){ca={type:m.HASHTAG,id:w.id,source:'comment'};}else ca={id:w.id};var da=new o(w.url).setSubdomain('www');y=n.DOM.a({className:"_58cn",'data-pub':JSON.stringify(ca),href:da.toString(),onClick:ba},n.DOM.span({className:"_58cl"},r.substring(0,1)),n.DOM.span({className:"_58cm"},r.substring(1)));}else if(w.weakreference){y=k({className:z,href:w,target:x},n.DOM.i({className:"UFIWeakReferenceIcon"}),r);}else y=k({className:z,href:w,target:x},r);if(!w.external&&!w.hashtag)y.props['data-hovercard']=j.constructEndpointWithGroupAndLocation(w,u,v).toString();return y;}e.exports=q;});
__d("LinkButton",["cx","React"],function(a,b,c,d,e,f){var g=b('cx'),h=b('React'),i=function(j){var k=j.name&&j.value?j.name+'['+encodeURIComponent(j.value)+']':null;return (h.DOM.label({className:(("uiLinkButton")+(j.subtle?' '+"uiLinkButtonSubtle":'')+(j.showSaving?' '+"async_throbber":''))},h.DOM.input({type:j.inputType||'button',name:k,value:j.label,className:((j.showSaving?"stat_elem":''))})));};e.exports=i;});
__d("Timestamp.react",["LiveTimer","React"],function(a,b,c,d,e,f){var g=b('LiveTimer'),h=b('React'),i=h.createClass({displayName:'Timestamp',render:function(){var j=g.renderRelativeTimeToServer(this.props.time);return this.transferPropsTo(h.DOM.abbr({className:"livetimestamp",title:this.props.verbose,'data-utime':this.props.time},j.text||this.props.text));}});e.exports=i;});
__d("EmoteTypes",[],function(a,b,c,d,e,f){f.TEXT='text';f.EMOTE='emote';f.EMOTE_FBID='emote_fbid';});
__d("EmoticonsList",[],function(a,b,c,d,e,f){e.exports={emotes:{":)":"smile",":-)":"smile",":]":"smile","=)":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=D":"grin",":-D":"grin",":D":"grin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8)":"glasses","8-)":"glasses","B)":"glasses","B-)":"glasses","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel",":*":"kiss",":-*":"kiss","<3":"heart","&lt;3":"heart","♥":"heart","^_^":"kiki","-_-":"squint","o.O":"confused","O.o":"confused_rev",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",":v":"pacman",":|]":"robot",":3":"colonthree","<(\")":"penguin",":putnam:":"putnam","(^^^)":"shark","(y)":"like",":like:":"like","(Y)":"like",":poop:":"poop"},symbols:{smile:":)",frown:":(",tongue:":P",grin:"=D",gasp:":o",wink:";)",glasses:"8)",sunglasses:"B|",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",heart:"<3",kiki:"^_^",squint:"-_-",confused:"o.O",confused_rev:"O.o",upset:">:o",pacman:":v",robot:":|]",colonthree:":3",penguin:"<(\")",putnam:":putnam:",shark:"(^^^)",like:"(y)",poop:":poop:"},regexp:/(^|[\s'".])(:\)|:\-\)|:\]|=\)|:\(|:\-\(|:\[|=\(|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)|;\-\)|8\)|8\-\)|B\)|B\-\)|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:'\(|3:\)|3:\-\)|O:\)|O:\-\)|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:\|\]|:3|<\("\)|:putnam:|\(\^\^\^\)|\(y\)|:like:|\(Y\)|:poop:)([\s'".,!?]|<br>|$)/};});
__d("createEmoteTokenizer",["EmoteTypes"],function(a,b,c,d,e,f){var g=b('EmoteTypes'),h=40;function i(j){return function(k){var l=k,m=[],n=h;while(n--){var o=j.regexp.exec(l);if(!o||!o.length)break;var p=o[2],q=o.index+o[1].length,r=l.substring(0,q);if(r)m.push({type:g.TEXT,text:r});var s=j.emotes[p];if(s){m.push({type:g.EMOTE,text:p,emote:s});}else m.push({type:g.TEXT,text:p});l=l.substring(q+p.length);}if(l)m.push({type:g.TEXT,text:l});return m;};}e.exports=i;});
__d("emoteFBIDTokenizer",["EmoteTypes"],function(a,b,c,d,e,f){var g=b('EmoteTypes'),h=/\[\[([a-z\d\.]+)\]\]/gi;function i(j){return j.split(h).map(function(k,l){if(l%2===0){return {type:g.TEXT,text:k};}else return {type:g.EMOTE_FBID,text:'[['+k+']]',value:k};});}e.exports=i;});
__d("Emote",["DOM","EmoteTypes","EmoticonsList","createEmoteTokenizer","emoteFBIDTokenizer","flattenArray","htmlize"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('EmoteTypes'),i=b('EmoticonsList'),j=b('createEmoteTokenizer'),k=b('emoteFBIDTokenizer'),l=b('flattenArray'),m=b('htmlize'),n=j(i),o=e.exports={};o.htmlEmoteWithoutFBID=function(p,q){if(typeof q!='function')q=m;return l(n(p).map(function(r){if(r.type===h.TEXT){return q(r.text);}else if(r.type===h.EMOTE)return ['<span class="emoticon_text" aria-hidden="true">',r.text,'</span>',g.create('span',{},g.create('span',{title:r.text,className:'emoticon emoticon_'+r.emote})).innerHTML];})).join('');};o.htmlEmote=function(p,q){if(typeof q!='function')q=m;return l(k(p).map(function(r){if(r.type===h.TEXT){return o.htmlEmoteWithoutFBID(r.text,q);}else if(r.type===h.EMOTE_FBID)return ['<span class="emoticon_text" aria-hidden="true">',r.text,'</span>',g.create('span',{},g.create('img',{alt:r.text,className:'emoticon emoticon_custom',src:window.location.protocol+'//graph.facebook.com/'+encodeURIComponent(r.value)+'/picture'})).innerHTML];})).join('');};});
__d("SupportedEmoji",["cx"],function(a,b,c,d,e,f){var g=b('cx');e.exports={utf16Regex:/[\u203C\u2049\u2100-\u21FF\u2300-\u27FF\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF]/,emoji:{127744:"_2b_",127746:"_2c0",127754:"_2c1",127769:"_2c2",127775:"_2c3",127793:"_2c4",127796:"_2c5",127797:"_2c6",127799:"_2c7",127800:"_2c8",127801:"_2c9",127802:"_2ca",127803:"_2cb",127806:"_2cc",127808:"_2cd",127809:"_2ce",127810:"_2cf",127811:"_2cg",127818:"_2ch",127822:"_2ci",127827:"_2cj",127828:"_2ck",127864:"_2cl",127866:"_2cm",127873:"_2cn",127875:"_2co",127876:"_2cp",127877:"_2cq",127880:"_2cr",127881:"_2cs",127885:"_2ct",127886:"_2cu",127887:"_2cv",127888:"_2cw",127891:"_2cx",127925:"_2cy",127926:"_2cz",127932:"_2c-",128013:"_2c_",128014:"_2d0",128017:"_2d1",128018:"_2d2",128020:"_2d3",128023:"_2d4",128024:"_2d5",128025:"_2d6",128026:"_2d7",128027:"_2d8",128031:"_2d9",128032:"_2da",128033:"_2db",128037:"_2dc",128038:"_2dd",128039:"_2de",128040:"_2df",128041:"_2dg",128043:"_2dh",128044:"_2di",128045:"_2dj",128046:"_2dk",128047:"_2dl",128048:"_2dm",128049:"_2dn",128051:"_2do",128052:"_2dp",128053:"_2dq",128054:"_491",128055:"_2dr",128056:"_2ds",128057:"_2dt",128058:"_2du",128059:"_2dv",128062:"_2dw",128064:"_2dx",128066:"_2dy",128067:"_2dz",128068:"_2d-",128069:"_2d_",128070:"_2e0",128071:"_2e1",128072:"_2e2",128073:"_2e3",128074:"_2e4",128075:"_2e5",128076:"_2e6",128077:"_2e7",128078:"_2e8",128079:"_2e9",128080:"_2ea",128102:"_2eb",128103:"_2ec",128104:"_2ed",128105:"_2ee",128107:"_2ef",128110:"_2eg",128111:"_2eh",128113:"_2ei",128114:"_2ej",128115:"_2ek",128116:"_2el",128117:"_2em",128118:"_2en",128119:"_2eo",128120:"_2ep",128123:"_2eq",128124:"_2er",128125:"_2es",128126:"_2et",128127:"_2eu",128128:"_2ev",128130:"_2ew",128131:"_2ex",128133:"_2ey",128139:"_2ez",128143:"_2e-",128144:"_2e_",128145:"_2f0",128147:"_2f1",128148:"_2f2",128150:"_2f3",128151:"_2f4",128152:"_2f5",128153:"_2f6",128154:"_2f7",128155:"_2f8",128156:"_2f9",128157:"_2fa",128162:"_2fb",128164:"_2fc",128166:"_2fd",128168:"_2fe",128169:"_2ff",128170:"_2fg",128187:"_2fh",128189:"_2fi",128190:"_2fj",128191:"_2fk",128192:"_2fl",128222:"_2fm",128224:"_2fn",128241:"_2fo",128242:"_2fp",128250:"_2fq",128276:"_2fr",128293:"_492",128513:"_2fs",128514:"_2ft",128515:"_2fu",128516:"_2fv",128518:"_2fw",128521:"_2fx",128523:"_2fy",128524:"_2fz",128525:"_2f-",128527:"_2f_",128530:"_2g0",128531:"_2g1",128532:"_2g2",128534:"_2g3",128536:"_2g4",128538:"_2g5",128540:"_2g6",128541:"_2g7",128542:"_2g8",128544:"_2g9",128545:"_2ga",128546:"_2gb",128547:"_2gc",128548:"_2gd",128549:"_2ge",128552:"_2gf",128553:"_2gg",128554:"_2gh",128555:"_2gi",128557:"_2gj",128560:"_2gk",128561:"_2gl",128562:"_2gm",128563:"_2gn",128565:"_2go",128567:"_2gp",128568:"_2gq",128569:"_2gr",128570:"_2gs",128571:"_2gt",128572:"_2gu",128573:"_2gv",128575:"_2gw",128576:"_2gx",128587:"_2gy",128588:"_2gz",128589:"_2g-",128591:"_2g_",9757:"_2h0",9786:"_2h1",9889:"_2h2",9924:"_2h3",9994:"_2h4",9995:"_2h5",9996:"_2h6",9728:"_2h7",9729:"_2h8",9748:"_2h9",9749:"_2ha",10024:"_2hb",10084:"_2hc"}};});
__d("Utf16",[],function(a,b,c,d,e,f){var g={decode:function(h){switch(h.length){case 1:return h.charCodeAt(0);case 2:return 65536|((h.charCodeAt(0)-55296)*1024)|(h.charCodeAt(1)-56320);}},encode:function(h){if(h<65536){return String.fromCharCode(h);}else return String.fromCharCode(55296+((h-65536)>>10))+String.fromCharCode(56320+(h%1024));}};e.exports=g;});
__d("Emoji",["cx","DOM","Emote","SupportedEmoji","htmlize","Utf16"],function(a,b,c,d,e,f){var g=b('cx'),h=b('DOM'),i=b('Emote'),j=b('SupportedEmoji'),k=b('htmlize'),l=b('Utf16'),m=40,n=e.exports={htmlEmojiAndEmote:function(o,p){return n.htmlEmoji(o,function(q){return i.htmlEmote(q,p);});},htmlEmoji:function(o,p){if(typeof p!='function')p=k;var q=o,r=[],s=m;while(s--){var t=j.utf16Regex.exec(q);if(!t||!t.length)break;var u=t[0],v=t.index;r.push(p(q.substring(0,v)));var w=l.decode(u);if(j.emoji[w]){var x="_1az _1a-"+' '+j.emoji[w],y=h.create('span',{className:x});r.push(h.create('span',{},y).innerHTML);}else r.push(p(u));q=q.substring(v+u.length);}r.push(p(q));return r.join('');}};});
__d("TextWithEmoticons.react",["Emoji","Emote","React"],function(a,b,c,d,e,f){var g=b('Emoji'),h=b('Emote'),i=b('React'),j=i.createClass({displayName:'ReactTextWithEmoticons',render:function(){if(!this.props.renderEmoticons&&!this.props.renderEmoji)return i.DOM.span(null,this.props.text);var k;if(this.props.renderEmoticons&&this.props.renderEmoji){k=g.htmlEmoji(this.props.text,h.htmlEmoteWithoutFBID);}else if(this.props.renderEmoticons){k=h.htmlEmoteWithoutFBID(this.props.text);}else k=g.htmlEmoji(this.props.text);return i.DOM.span({dangerouslySetInnerHTML:{__html:k}});}});e.exports=j;});
__d("TextWithEntities.react",["Link.react","React","TextWithEmoticons.react"],function(a,b,c,d,e,f){var g=b('Link.react'),h=b('React'),i=b('TextWithEmoticons.react');function j(o){return (o).replace(/<3\b|&hearts;/g,'\u2665');}function k(o,p){return (g({href:p.entities[0]},o));}function l(o,p){return o.offset-p.offset;}var m=/(\r\n|[\r\n])/,n=h.createClass({displayName:'ReactTextWithEntities',_formatStandardText:function(o){var p=o.split(m),q=[];for(var r=0;r<p.length;r++){var s=p[r];if(s)if(m.test(s)){q.push(h.DOM.br(null));}else if(this.props.renderEmoticons||this.props.renderEmoji){q.push(i({text:s,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}));}else q.push(j(s));}return q;},render:function(){var o=0,p=this.props.ranges,q=this.props.aggregatedRanges,r=this.props.text,s=null;if(p){s=q?p.concat(q):p.slice();}else if(q)s=q.slice();if(s)s.sort(l);var t=[],u=s?s.length:0;for(var v=0,w=u;v<w;v++){var x=s[v];if(x.offset<o)continue;if(x.offset>o)t=t.concat(this._formatStandardText(r.substring(o,x.offset)));var y=r.substr(x.offset,x.length);t=t.concat([this.props.interpolator?this.props.interpolator(y,x):k(y,x)]);o=x.offset+x.length;}if(r.length>o)t=t.concat(this._formatStandardText(r.substr(o)));return h.DOM.span(null,t);}});e.exports=n;});
__d("SeeMore.react",["React","tx"],function(a,b,c,d,e,f){var g=b('React'),h=b('tx'),i=g.createClass({displayName:'SeeMore',getInitialState:function(){return {isCollapsed:true};},handleClick:function(){this.setState({isCollapsed:false});},render:function(){var j=this.state.isCollapsed,k=!j?null:g.DOM.span(null,"..."),l=this.props.children[0],m=j?null:g.DOM.span(null,this.props.children[1]),n=!j?null:g.DOM.a({className:"SeeMoreLink fss",onClick:this.handleClick,href:"#",role:"button"},"See More");return (g.DOM.span({className:this.props.className},l,k,n,m));}});e.exports=i;});
__d("TruncatedTextWithEntities.react",["React","TextWithEntities.react","SeeMore.react"],function(a,b,c,d,e,f){var g=b('React'),h=b('TextWithEntities.react'),i=b('SeeMore.react');function j(n,o){var p=n.offset+n.length;return o>n.offset&&o<p;}function k(n,o){for(var p=0;p<n.length;p++){var q=n[p];if(j(q,o))return q.offset;}return o;}var l=function(n,o,p){var q=[],r=[],s=k(o,p);for(var t=0;t<o.length;t++){var u=o[t];if(u.offset<s){q.push(u);}else r.push({offset:u.offset-s,length:u.length,entities:u.entities});}return {first:{ranges:q,text:n.substr(0,s)},second:{ranges:r,text:n.substr(s)}};},m=g.createClass({displayName:'TruncatedTextWithEntities',render:function(){var n=this.props.maxLines,o=this.props.maxLength,p=this.props.truncationPercent||.6,q=Math.floor(p*o),r=this.props.text||'',s=this.props.ranges||[],t=r.split('\n'),u=t.length-1,v=o&&r.length>o,w=n&&u>n;if(w)q=Math.min(t.slice(0,n).join('\n').length,q);if(v||w){var x=l(r,s,q);return (g.DOM.span({'data-ft':this.props['data-ft'],dir:this.props.dir},i({className:this.props.className},h({interpolator:this.props.interpolator,ranges:x.first.ranges,text:x.first.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}),h({interpolator:this.props.interpolator,ranges:x.second.ranges,text:x.second.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}))));}else return (g.DOM.span({'data-ft':this.props['data-ft'],dir:this.props.dir},h({className:this.props.className,interpolator:this.props.interpolator,ranges:s,text:r,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})));}});e.exports=m;});
__d("UFICommentAttachment.react",["DOM","React"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('React'),i=h.createClass({displayName:'UFICommentAttachment',_attachmentFromCommentData:function(j){return j.photo_comment||j.attachment;},componentDidMount:function(j){var k=this._attachmentFromCommentData(this.props.comment);if(k)this.renderAttachment(k);},shouldComponentUpdate:function(j,k){var l=this._attachmentFromCommentData(this.props.comment),m=this._attachmentFromCommentData(j.comment);if(!l&&!m)return false;if(!l||!m||l.markup!=m.markup){return true;}else return false;},componentDidUpdate:function(j){var k=this._attachmentFromCommentData(this.props.comment);this.renderAttachment(k);},renderAttachment:function(j){if(j&&this.refs.contents)g.setContent(this.refs.contents.getDOMNode(),j.markup);},render:function(){if(this._attachmentFromCommentData(this.props.comment)){return h.DOM.div({ref:"contents"});}else return h.DOM.span(null);}});e.exports=i;});
__d("UFIReplyLink.react",["React","tx"],function(a,b,c,d,e,f){var g=b('React'),h=b('tx'),i=g.createClass({displayName:'UFIReplyLink',render:function(){return (g.DOM.a({className:"UFIReplyLink",href:"#",onClick:this.props.onClick},"Reply"));}});e.exports=i;});
__d("UFISpamCount",["UFISpamCountImpl"],function(a,b,c,d,e,f){e.exports=b('UFISpamCountImpl').module||{enabled:false};});
__d("UFIComment.react",["function-extensions","Bootloader","CloseButton.react","Env","Focus","HovercardLink","HovercardLinkInterpolator","LinkButton","NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","Timestamp.react","TrackingNodes","TruncatedTextWithEntities.react","UFIClassNames","UFICommentAttachment.react","UFIConfig","UFIConstants","UFIImageBlock.react","UFIInstanceState","UFIReplyLink.react","UFISpamCount","URI","cx","keyMirror","joinClasses","tx"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Bootloader'),h=b('CloseButton.react'),i=b('Env'),j=b('Focus'),k=b('HovercardLink'),l=b('HovercardLinkInterpolator'),m=b('LinkButton'),n=b('NumberFormat'),o=b('ProfileBrowserLink'),p=b('ProfileBrowserTypes'),q=b('React'),r=b('Timestamp.react'),s=b('TrackingNodes'),t=b('TruncatedTextWithEntities.react'),u=b('UFIClassNames'),v=b('UFICommentAttachment.react'),w=b('UFIConfig'),x=b('UFIConstants'),y=b('UFIImageBlock.react'),z=b('UFIInstanceState'),aa=b('UFIReplyLink.react'),ba=b('UFISpamCount'),ca=b('URI'),da=b('cx'),ea=b('keyMirror'),fa=b('joinClasses'),ga=b('tx'),ha=x.UFIStatus,ia=' \u00b7 ',ja=ea({edit:true,hide:true,remove:true}),ka="UFICommentBody",la="UFICommentActorName",ma="UFICommentNotSpamLink",na="fsm fwn fcg UFICommentActions",oa="UFIDeletedMessageIcon",pa="UFIDeletedMessage",qa="UFIFailureMessageIcon",ra="UFIFailureMessage",sa="UFICommentLikeButton",ta="UFICommentLikeIcon",ua="UFITranslateLink",va="UFITranslatedText",wa="uiLinkSubtle",xa="stat_elem",ya="pls",za="fcg",ab=27,bb=null,cb=function(kb,lb){var mb=new ca('/ajax/like/tooltip.php').setQueryData({comment_fbid:kb.fbid,comment_from:kb.author,cache_buster:kb.likeconfirmhash||0});if(lb)mb.addQueryData({viewas:lb});return mb;},db=function(kb){var lb=kb.status;return lb===ha.FAILED_ADD||lb===ha.FAILED_EDIT;};function eb(kb){return kb.commenterIsFOF!==undefined&&kb.userIsMinor!==undefined&&kb.reportLink!==undefined;}var fb=q.createClass({displayName:'UFICommentLikeCount',render:function(){var kb=this.props.comment,lb=n.formatIntegerWithDelimiter(kb.likecount||0,this.props.contextArgs.numberdelimiter),mb=p.LIKES,nb={id:kb.fbid},ob=cb(this.props.comment,this.props.viewas),pb=q.DOM.i({className:ta}),qb=q.DOM.span(null,lb);return (q.DOM.a({className:sa,role:"button",rel:"dialog",'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':ob.toString(),ajaxify:o.constructDialogURI(mb,nb).toString(),href:o.constructPageURI(mb,nb).toString()},pb,qb));}}),gb=q.createClass({displayName:'UFICommentActions',render:function(){var kb=this.props,lb=kb.comment,mb=kb.feedback,nb=kb.markedAsSpamHere,ob=lb.status===ha.SPAM_DISPLAY,pb=this.props.showReplyLink,qb=this.props.hideAsSpamForPageAdmin,rb,sb,tb,ub,vb,wb,xb=!lb.islocal&&lb.status!==ha.LIVE_DELETED;if(xb){if(ob&&!nb){if(kb.viewerCanMarkNotSpam)rb=q.DOM.a({onClick:kb.onMarkAsNotSpam,className:ma,href:"#",role:"button"},"Unhide");if(qb&&mb.isthreaded&&mb.cancomment&&pb)vb=aa({comment:lb,onClick:kb.onCommentReply,contextArgs:kb.contextArgs});}else{if(mb.viewercanlike){var yb=s.getTrackingInfo(lb.hasviewerliked?s.types.UNLIKE_LINK:s.types.LIKE_LINK),zb=lb.hasviewerliked?"Unlike this comment":"Like this comment";sb=q.DOM.a({className:"UFILikeLink",href:"#",role:"button",onClick:kb.onCommentLikeToggle,'data-ft':yb,title:zb},lb.hasviewerliked?"Unlike":"Like");}if(mb.isthreaded&&mb.cancomment&&pb)vb=aa({comment:lb,onClick:kb.onCommentReply,contextArgs:kb.contextArgs});if(lb.likecount>0)tb=fb({comment:lb,viewas:this.props.viewas,contextArgs:this.props.contextArgs});if(lb.spamcount&&ba.enabled)ub=ba({count:lb.spamcount});}if(lb.attachment&&lb.canremove)wb=q.DOM.a({onClick:kb.onPreviewRemove,href:"#",role:"button"},"Remove Preview");}var ac=hb({comment:lb,onRetrySubmit:kb.onRetrySubmit,showPermalink:kb.showPermalink}),bc;if(kb.contextArgs.entstream){bc=[ac,sb,tb,vb,ub,rb,wb];}else if(mb.isthreaded){bc=[sb,vb,rb,wb,tb,ub,ac];}else bc=[ac,sb,tb,ub,vb,rb,wb];if(lb.status===ha.LIVE_DELETED){var cc=q.DOM.span({className:pa},q.DOM.i({className:oa,'data-hover':"tooltip",'aria-label':"Comment deleted"}));bc.push(cc);}var dc=[];for(var ec=0;ec<bc.length;ec++)if(bc[ec]){dc.push(ia);dc.push(bc[ec]);}dc.shift();return (q.DOM.div({className:na},dc));}}),hb=q.createClass({displayName:'UFICommentMetadata',render:function(){var kb=this.props.comment,lb=this.props.onRetrySubmit,mb,nb;if(db(kb)){mb=[q.DOM.span({className:ra},q.DOM.i({className:qa}),"Unable to post comment."),kb.allowRetry&&lb?[' ',q.DOM.a({onClick:lb,href:"#",role:"button"},"Try again")]:null];}else{var ob=this.props.showPermalink?kb.permalink:null,pb=s.getTrackingInfo(s.types.SOURCE),qb=q.DOM.a({className:wa,href:ob,'data-ft':pb},r({time:kb.timestamp.time,text:kb.timestamp.text,verbose:kb.timestamp.verbose})),rb;switch(kb.source){case x.UFISourceType.MOBILE:rb=q.DOM.a({className:wa,href:new ca('/mobile/').setSubdomain('www').toString()},"mobile");break;case x.UFISourceType.SMS:rb=q.DOM.a({className:wa,href:new ca('/mobile/?v=texts').setSubdomain('www').toString()},"text message");break;case x.UFISourceType.EMAIL:rb=m({subtle:true,label:"email",inputType:"submit",name:"email_explain",value:true,className:xa});break;}nb=rb?ga._("{time} via {source}",{time:qb,source:rb}):qb;}var sb=null;if(kb.originalTimestamp){var tb=new ca('/ajax/edits/browser/comment').addQueryData({comment_token:kb.id}).toString();sb=[ia,q.DOM.a({ref:"EditLink",href:"#",role:"button",rel:"dialog",className:"uiLinkSubtle",ajaxify:tb,'data-hover':"tooltip",'aria-label':"Show edit history",title:"Show edit history"},"Edited")];}return (q.DOM.span(null,nb,mb,sb));},componentWillUpdate:function(kb){var lb=this.props.comment,mb=kb.comment;if(!lb.editnux&&!!mb.editnux)g.loadModules(['LegacyContextualDialog'],function(nb){var ob=new nb();ob.init(mb.editnux).setContext(this.refs.EditLink.getDOMNode()).setWidth(300).setPosition('below').show();}.bind(this));}}),ib=q.createClass({displayName:'UFISocialContext',render:function(){var kb=this.props.topMutualFriend,lb=this.props.otherMutualCount,mb=this.props.commentAuthor,nb=k.constructEndpoint(kb).toString(),ob=q.DOM.a({href:kb.uri,'data-hovercard':nb},kb.name),pb=mb.name.length+kb.name.length,qb;if(lb===0){qb=ga._("Friends with {name}",{name:ob});}else if(pb<ab){var rb;if(lb==1){rb="1 other";}else rb=ga._("{count} others",{count:lb});qb=ga._("Friends with {name} and {others}",{name:ob,others:this.getOthersLink(rb,mb,kb)});}else{var sb=ga._("{count} mutual friends",{count:lb+1});qb=this.getOthersLink(sb,mb);}return (q.DOM.span({className:"UFICommentSocialContext"},ia,qb));},getOthersLink:function(kb,lb,mb){var nb=p.MUTUAL_FRIENDS,ob={uid:lb.id},pb=new ca('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:lb.id});if(mb)pb.addQueryData({exclude_id:mb.id});var qb=o.constructDialogURI(nb,ob).toString();return (q.DOM.a({rel:"dialog",'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':pb.toString(),ajaxify:qb,href:o.constructPageURI(nb,ob).toString()},kb));}}),jb=q.createClass({displayName:'UFIComment',getInitialState:function(){return {isHighlighting:this.props.comment.highlightcomment,wasHighlighted:this.props.comment.highlightcomment,markedAsSpamHere:false,oneClickRemovedHere:false,isInlinePageDeleted:false,isInlineBanned:false};},_onHideAsSpam:function(event){this.props.onHideAsSpam(event);this.setState({markedAsSpamHere:true});},_onMarkAsNotSpam:function(event){this.props.onMarkAsNotSpam(event);this.setState({markedAsSpamHere:false});},_onDeleteSpam:function(event){this.props.onOneClickRemove(event);this.setState({isInlinePageDeleted:true});},_onUndoDeleteSpam:function(event){this.props.onUndoOneClickRemove(event);this.setState({isInlinePageDeleted:false});},_onInlineBan:function(event){this.props.onInlineBan(event);this.setState({isInlineBanned:true});},_onUndoInlineBan:function(event){this.props.onUndoInlineBan(event);this.setState({isInlineBanned:false});},_onOneClickRemove:function(event){this.props.onOneClickRemove(event);this.setState({oneClickRemovedHere:true});},_onUndoOneClickRemove:function(event){this.props.onUndoOneClickRemove(event);this.setState({oneClickRemovedHere:false});},_onAction:function(event,kb){if(kb===ja.remove){this.props.onRemove(event);}else if(kb===ja.edit){this.props.onEdit(event);}else if(kb===ja.hide)this._onHideAsSpam(event);},_createRemoveReportMenu:function(event){if(this._removeReportMenu)return;var kb=[{label:"Delete Comment...",value:ja.remove},{label:"Hide Comment",value:ja.hide}];if(event.persist){event.persist();}else event=event.constructor.persistentCloneOf(event);g.loadModules(['LegacyMenuUtils'],function(lb){this._removeReportMenu=lb.createAndShowPopoverMenu(event.target,kb,this._onAction.bind(this,event));}.bind(this));},_createEditDeleteMenu:function(event){if(event.persist){event.persist();}else event=event.constructor.persistentCloneOf(event);if(this._editDeleteMenu)return;var kb=[{label:"Edit...",value:ja.edit},{label:"Delete...",value:ja.remove}];g.loadModules(['LegacyMenuUtils'],function(lb){this._editDeleteMenu=lb.createAndShowPopoverMenu(event.target,kb,this._onAction.bind(this,event));}.bind(this));},_renderCloseButton:function(){var kb=this.props.comment,lb=this.props.feedback,mb=null,nb=null,ob=false;if(kb.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor){if(kb.canedit){nb="Edit or Delete";mb=this._createEditDeleteMenu;ob=true;}else{nb="Remove";mb=this.props.onRemove;}}else if(lb.canremoveall)if(this.props.showRemoveReportMenu){nb="Remove or Report";mb=this._createRemoveReportMenu;}else{nb="Remove";mb=this._onOneClickRemove;}}else if(kb.canreport){nb="Hide";mb=this._onHideAsSpam;}var pb=(("UFICommentCloseButton")+(ob?' '+"UFIEditButton":'')+(mb===null?' '+"hdn":''));return (h({onClick:mb,tooltip:nb,className:pb}));},componentDidMount:function(kb){var lb=this.props.comment.ufiinstanceid;if(this.state.isHighlighting){g.loadModules(['UFIScrollHighlight'],function(nb){nb.actOn.curry(kb).defer();});this.setState({isHighlighting:false});}var mb=z.getKeyForInstance(lb,'autofocus');if(mb){j.setWithoutOutline(this.refs.AuthorName.getDOMNode());z.updateState(lb,'autofocus',false);}},shouldComponentUpdate:function(kb){var lb=this.props;return (kb.comment!==lb.comment||kb.showReplyLink!==lb.showReplyLink||kb.showReplies!==lb.showReplies||kb.isFirst!==lb.isFirst||kb.isLast!==lb.isLast||kb.isFirstCommentComponent!==lb.isFirstCommentComponent||kb.isLastCommentComponent!==lb.isLastCommentComponent||kb.isFirstComponent!==lb.isFirstComponent||kb.isLastComponent!==lb.isLastComponent||kb.isFeaturedComment!==lb.isFeaturedComment||kb.hasPartialBorder!==lb.hasPartialBorder);},render:function(){var kb=this.props.comment,lb=this.props.feedback,mb=kb.status===ha.DELETED,nb=kb.status===ha.LIVE_DELETED,ob=kb.status===ha.SPAM_DISPLAY,pb=kb.status===ha.PENDING_UNDO_DELETE,qb=this.state.markedAsSpamHere,rb=this.state.oneClickRemovedHere,sb=this.state.isInlinePageDeleted,tb=this.props.hideAsSpamForPageAdmin,ub=this.state.isInlineBanned,vb=eb(kb),wb=!kb.status&&(kb.isunseen||kb.islocal);if(!kb.status&&lb.lastseentime){var xb=kb.originalTimestamp||kb.timestamp.time;wb=wb||xb>lb.lastseentime;}var yb=this.props.contextArgs.markedcomments;if(yb&&yb[kb.legacyid])wb=true;if(vb)if(bb){var zb,ac=null,bc=null,cc=null;if(tb){bc=ub?this._onUndoInlineBan:this._onInlineBan;if(sb){ac=this._onUndoDeleteSpam;var dc=q.DOM.a({href:"#",onClick:ac},"Undo");zb=ga._("You've deleted this comment so no one can see it. {undo}.",{undo:dc});}else if(qb){zb="Now this is only visible to the person who wrote it and their friends.";cc=this._onDeleteSpam;ac=this._onMarkAsNotSpam;}}else if(qb){zb="This comment has been hidden.";cc=this._onDeleteSpam;ac=this._onMarkAsNotSpam;}else if(rb){zb="This comment has been removed.";ac=this._onUndoOneClickRemove;}if(zb)return (q.DOM.li({className:fa(u.ROW,"UFIHide")},bb({notice:zb,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:ac,onBanAction:bc,onDeleteAction:cc,isInlineBanned:ub,hideAsSpamForPageAdmin:tb})));}else g.loadModules(['UFICommentRemovalControls.react'],function(gc){bb=gc;setTimeout(function(){this.forceUpdate();}.bind(this));}.bind(this));var ec=fa(u.ROW,(("UFIComment")+(db(kb)?' '+"UFICommentFailed":'')+(mb||nb||ob||pb?' '+"UFITranslucentComment":'')+(this.state.isHighlighting?' '+"highlightComment":'')+(mb&&!rb?' '+"noDisplay":'')+(this.props.isFirst&&!this.props.isReply?' '+"UFIFirstComment":'')+(this.props.isLast&&!this.props.isReply?' '+"UFILastComment":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":'')+(this.props.isFeatured?' '+"UFIFeaturedComment":'')+(this.props.hasPartialBorder&&!this.props.contextArgs.entstream?' '+"UFIPartialBorder":''))),fc=this.renderComment();if(wb)if(this.props.contextArgs.snowliftredesign){fc=q.DOM.div({className:"_5cis"},q.DOM.div({className:"_5cit"}),fc);}else if(this.props.contextArgs.entstream&&!this.props.isReply){fc=q.DOM.div({className:"_52mp"},q.DOM.div({className:"_52mq"}),fc);}else ec=fa(ec,u.UNSEEN_ITEM);return (q.DOM.li({className:ec,'data-ft':this.props['data-ft']},fc));},renderComment:function(){var kb=this.props,lb=kb.comment,mb=kb.feedback,nb=kb.authorProfiles[lb.author],ob=lb.status===ha.SPAM_DISPLAY,pb=lb.status===ha.LIVE_DELETED,qb=!(ob||pb),rb=mb.canremoveall||lb.hiddenbyviewer,sb=null,tb=null;if(!kb.isLocallyComposed&&!this.state.wasHighlighted&&!lb.fromfetch){tb=x.commentTruncationLength;sb=x.commentTruncationMaxLines;}var ub=s.getTrackingInfo(s.types.SMALL_ACTOR_PHOTO),vb=s.getTrackingInfo(s.types.USER_NAME),wb=s.getTrackingInfo(s.types.USER_MESSAGE),xb=null,yb=null;if(lb.istranslatable&&(lb.translatedtext===undefined))xb=q.DOM.a({href:"#",role:"button",title:"Translate this comment",className:ua,onClick:kb.onCommentTranslate},"See Translation");if(lb.translatedtext){var zb=new ca('http://bing.com/translator').addQueryData({text:lb.body.text});yb=q.DOM.span({className:va},lb.translatedtext,q.DOM.span({className:ya}," (",q.DOM.a({href:zb.toString(),className:za},"Translated by Bing"),") "));}var ac;if(i.rtl&&lb.body.dir==='ltr'){ac='rtl';}else if(!i.rtl&&lb.body.dir==='rtl')ac='ltr';var bc=k.constructEndpointWithLocation(nb,'ufi').toString(),cc=q.DOM.a({ref:"AuthorName",className:la,href:nb.uri,'data-hovercard':bc,'data-ft':vb,dir:ac},nb.name),dc=function(ic,jc){return l(ic,jc,'_blank',mb.grouporeventid,'ufi');},ec=t({className:ka,interpolator:dc,ranges:lb.body.ranges,text:lb.body.text,truncationPercent:x.commentTruncationPercent,maxLength:tb,maxLines:sb,renderEmoticons:w.renderEmoticons,renderEmoji:w.renderEmoji,'data-ft':wb,dir:lb.body.dir}),fc;if(lb.socialcontext){var gc=lb.socialcontext,hc=ib({topMutualFriend:kb.authorProfiles[gc.topmutualid],otherMutualCount:gc.othermutualcount,commentAuthor:nb});fc=[cc,hc,q.DOM.div(null,ec)];}else fc=[cc,' ',ec];return (y({spacing:"medium"},q.DOM.a({href:nb.uri,'data-hovercard':bc,'data-ft':ub},q.DOM.img({src:nb.thumbSrc,className:u.ACTOR_IMAGE,alt:""})),q.DOM.div(null,q.DOM.div({className:"UFICommentContent"},fc,xb,yb,v({comment:kb.comment})),gb({comment:lb,feedback:mb,onBlingBoxClick:kb.onBlingBoxClick,onCommentLikeToggle:kb.onCommentLikeToggle,onCommentReply:kb.onCommentReply,onPreviewRemove:kb.onPreviewRemove,onRetrySubmit:kb.onRetrySubmit,onMarkAsNotSpam:this._onMarkAsNotSpam,viewerCanMarkNotSpam:rb,viewas:kb.contextArgs.viewas,showPermalink:kb.showPermalink,showReplyLink:kb.showReplyLink,showReplies:kb.showReplies,contextArgs:kb.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:kb.hideAsSpamForPageAdmin})),qb?this._renderCloseButton():null));}});e.exports=jb;});
__d("UFIContainer.react",["React","TrackingNodes","cx"],function(a,b,c,d,e,f){var g=b('React'),h=b('TrackingNodes'),i=b('cx'),j=g.createClass({displayName:'UFIContainer',render:function(){var k=null;if(this.props.hasNub)k=g.DOM.li({className:"UFIArrow"},g.DOM.i(null));var l=((!this.props.isReplyList?"UFIList":'')+(this.props.isReplyList?' '+"UFIReplyList":'')+(this.props.isParentLiveDeleted?' '+"UFITranslucentReplyList":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));return (g.DOM.ul({className:l,'data-ft':h.getTrackingInfo(h.types.UFI)},k,this.props.children));}});e.exports=j;});
__d("GiftOpportunityLogger",["AsyncRequest","Event"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Event'),i={init:function(k,l,m){var n=false;h.listen(k,'click',function(o){if(n)return true;n=true;i.send(l,m);});},send:function(k,l){if(j[k.opportunity_id])return;j[k.opportunity_id]=true;return new g().setURI('/ajax/gifts/log/opportunity').setData({data:k,entry_point:l}).send();}},j={};e.exports=i;});
__d("InlineBlock.react",["ReactProps","React","cx","joinClasses"],function(a,b,c,d,e,f){var g=b('ReactProps'),h=b('React'),i=b('cx'),j=b('joinClasses'),k={baseline:null,bottom:"_6d",middle:"_6b",top:"_6e"},l=h.createClass({displayName:'InlineBlock',props:{alignv:g.oneOf(['baseline','bottom','middle','top']),height:g.number},getDefaultProps:function(){return {alignv:'baseline'};},render:function(){var m=k[this.props.alignv],n=h.DOM.div({className:j("_6a",m)},this.props.children);if(this.props.height!=null){var o=h.DOM.div({className:j("_6a",m),style:{height:this.props.height+'px'}});n=h.DOM.div({className:"_6a",height:null},o,n);}return this.transferPropsTo(n);}});e.exports=l;});
__d("Image.react",["React","invariant","joinClasses"],function(a,b,c,d,e,f){var g=b('React'),h=b('invariant'),i=b('joinClasses'),j=g.createClass({displayName:'ReactImage',props:{src:function(k,l,m){var n=k[l];h(typeof n==='string'||(typeof n==='object'&&((n.sprited&&n.spriteMapCssClass&&n.spriteCssClass)||(!n.sprited&&n.uri))));}},render:function(){var k,l,m=this.props.src,n='img';l=true;if(typeof m==='string'){k=g.DOM.img({className:n,src:m});}else if(m.sprited){n=i(n,m.spriteMapCssClass,m.spriteCssClass);k=g.DOM.i({className:n,src:null});l=false;}else{k=g.DOM.img({className:n,src:m.uri});if(typeof this.props.width==='undefined'&&typeof this.props.height==='undefined'){k.props.width=m.width;k.props.height=m.height;}}if(this.props.alt)if(l){k.props.alt=this.props.alt;}else k.props.children=g.DOM.u(null,this.props.alt);return this.transferPropsTo(k);}});e.exports=j;});
__d("UFIGiftSentence.react",["AsyncRequest","CloseButton.react","GiftOpportunityLogger","ImageBlock.react","InlineBlock.react","LeftRight.react","Link.react","React","Image.react","UFIClassNames","UFIImageBlock.react","URI","DOM","ix","tx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('CloseButton.react'),i=b('GiftOpportunityLogger'),j=b('ImageBlock.react'),k=b('InlineBlock.react'),l=b('LeftRight.react'),m=b('Link.react'),n=b('React'),o=b('Image.react'),p=b('UFIClassNames'),q=b('UFIImageBlock.react'),r=b('URI'),s=b('DOM'),t=b('ix'),u=b('tx'),v=n.createClass({displayName:'UFIGiftSentence',_entry_point:'detected_gift_worthy_story_inline',render:function(){var w=this.props.recipient,x=this.props.giftdata,y=x?x.giftproductid:null,z=this._getURI(y).toString();this._log();return (n.DOM.li({className:p.ROW,ref:"UFIGiftSentence"},l({direction:"right"},x?this._renderGiftSuggestion(z,w,x):this._renderGiftLink(z,w),h({size:"small",onClick:function(){var aa=this.refs.UFIGiftSentence.getDOMNode();s.remove(aa);this._requestClose();}.bind(this)}))));},_renderGiftSuggestion:function(w,x,y){return (q(null,o({src:t('/images/group_gifts/icons/gift_icon_red-13px.png'),alt:"invite"}),n.DOM.div(null,n.DOM.span({className:"fwb"},u._("Surprise {name} with a gift",{name:x.firstName})),j({spacing:"medium",className:"mvs"},m({className:"fwb",rel:"async-post",ajaxify:w,href:{url:'#'}},o({className:"UFIGiftProductImg",src:y.giftproductimgsrc,alt:"product image"})),k({alignv:"middle",height:79},n.DOM.p({className:"mvs"},m({className:"fwb",rel:"async-post",ajaxify:w,href:{url:'#'}},y.giftproductname)),n.DOM.p({className:"mvs fcg"},y.giftproductpricerange),n.DOM.p({className:"mvs"},m({rel:"async-post",ajaxify:w,href:{url:'#'}},'Give This Gift')," · ",m({rel:"async-post",ajaxify:this._getURI().toString(),href:{url:'#'}},'See All Gifts')))))));},_renderGiftLink:function(w,x){return (q(null,m({className:"UFIGiftIcon",tabIndex:"-1",href:{url:'#'},rel:"async-post",ajaxify:w},o({src:t('/images/group_gifts/icons/gift_icon_red-13px.png'),alt:"invite"})),m({rel:"async-post",href:{url:'#'},ajaxify:w},u._("Surprise {name} with a gift",{name:x.firstName}))));},_log:function(){var w=this.props.giftdata,x={opportunity_id:this.props.contextArgs.ftentidentifier,sender_id:this.props.sender.id,recipient_id:this.props.recipient.id,link_description:'UFIGiftSentence',product_id:w?w.giftproductid:null,custom:{gift_occasion:this.props.contextArgs.giftoccasion,ftentidentifier:this.props.contextArgs.ftentidentifier}};i.send([x],this._entry_point);},_getURI:function(w){return r('/ajax/gifts/send').addQueryData({gift_occasion:this.props.contextArgs.giftoccasion,recipient_id:this.props.recipient.id,entry_point:this._entry_point,product_id:w});},_requestClose:function(){var w=r('/ajax/gifts/moments/close/');new g().setMethod('POST').setReadOnly(false).setURI(w).setData({action:'hide',data:JSON.stringify({type:'detected_moment',friend_id:this.props.recipient.id,ftentidentifier:this.props.contextArgs.ftentidentifier})}).send();}});e.exports=v;});
__d("UFILikeSentenceText.react",["HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","TextWithEntities.react","URI"],function(a,b,c,d,e,f){var g=b('HovercardLinkInterpolator'),h=b('ProfileBrowserLink'),i=b('ProfileBrowserTypes'),j=b('React'),k=b('TextWithEntities.react'),l=b('URI');function m(p,q,r,s){if(s.count!=null){var t=i.LIKES,u={id:p.targetfbid};return (j.DOM.a({href:h.constructPageURI(t,u).toString(),target:"_blank"},r));}else return g(r,s,'_blank',null,'ufi');}function n(p,q,r,s){if(s.count!=null){var t=i.LIKES,u={id:p.targetfbid},v=[];for(var w=0;w<q.length;w++)if(!q[w].count)v.push(q[w].entities[0].id);var x=new l('/ajax/like/tooltip.php').setQueryData({comment_fbid:p.targetfbid,comment_from:p.actorforpost,seen_user_fbids:v.length?v:true});return (j.DOM.a({rel:"dialog",ajaxify:h.constructDialogURI(t,u).toString(),href:h.constructPageURI(t,u).toString(),'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':x.toString()},r));}else return g(r,s,null,null,'ufi');}var o=j.createClass({displayName:'UFILikeSentenceText',render:function(){var p=this.props.feedback,q=this.props.likeSentenceData,r;if(this.props.contextArgs.embedded){r=m;}else r=n;r=r.bind(null,p,q.ranges);return (k({interpolator:r,ranges:q.ranges,aggregatedRanges:q.aggregatedranges,text:q.text}));}});e.exports=o;});
__d("UFILikeSentence.react",["Bootloader","LeftRight.react","ProfileBrowserLink","ProfileBrowserTypes","React","UFIClassNames","UFIImageBlock.react","UFILikeSentenceText.react","URI","cx","joinClasses","tx"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('LeftRight.react'),i=b('ProfileBrowserLink'),j=b('ProfileBrowserTypes'),k=b('React'),l=b('UFIClassNames'),m=b('UFIImageBlock.react'),n=b('UFILikeSentenceText.react'),o=b('URI'),p=b('cx'),q=b('joinClasses'),r=b('tx'),s=k.createClass({displayName:'UFILikeSentence',getInitialState:function(){return {selectorModule:null,bootloadedSelectorModule:false};},componentWillMount:function(){this._bootloadSelectorModule(this.props);},componentWillReceiveProps:function(t){this._bootloadSelectorModule(t);},_bootloadSelectorModule:function(t){if(t.showOrderingModeSelector&&!this.state.bootloadedSelectorModule){var u=function(v){this.setState({selectorModule:v});}.bind(this);if(t.contextArgs.entstream){g.loadModules(['UFIEntStreamOrderingModeSelector.react'],u);}else g.loadModules(['UFIOrderingModeSelector.react'],u);this.setState({bootloadedSelectorModule:true});}},render:function(){var t=this.props.feedback,u=t.likesentences.current,v=this.props.contextArgs.entstream,w=q(l.ROW,t.likesentences.isunseen?l.UNSEEN_ITEM:'',(("UFILikeSentence")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),x=null,y=null;if(u.text)y=k.DOM.div({className:"UFILikeSentenceText"},n({contextArgs:this.props.contextArgs,feedback:t,likeSentenceData:u}));if(y&&!v){x=k.DOM.i({className:"UFILikeIcon"});if(t.viewercanlike&&!t.hasviewerliked)x=k.DOM.a({className:"UFILikeThumb",href:"#",tabIndex:"-1",title:"Like this",onClick:this.props.onTargetLikeToggle},x);}var z=y,aa=null;if(t.seencount>0&&!v){var ba=j.GROUP_MESSAGE_VIEWERS,ca={id:t.targetfbid},da=i.constructDialogURI(ba,ca),ea=i.constructPageURI(ba,ca),fa=new o('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:t.entidentifier,displayed_count:t.seencount}),ga;if(t.seenbyall){ga="Seen by everyone";}else ga=t.seencount==1?"Seen by 1":r._("Seen by {count}",{count:t.seencount});aa=k.DOM.a({rel:"dialog",ajaxify:da.toString(),href:ea.toString(),tabindex:"-1",'data-hover':"tooltip",'data-tooltip-alignh':"left",'data-tooltip-uri':fa.toString(),className:(("UFISeenCount")+(!!u.text?' '+"UFISeenCountRight":''))},k.DOM.span({className:"UFISeenCountIcon"}),ga);}else if(this.props.showOrderingModeSelector&&this.state.selectorModule){var ha=this.state.selectorModule;aa=ha({currentOrderingMode:this.props.orderingMode,entstream:v,orderingmodes:t.orderingmodes,onOrderChanged:this.props.onOrderingModeChange});if(!z)z=k.DOM.div(null);}var ia=null;if(x&&y){ia=m(null,x,y,aa);}else if(z){ia=h(null,z,aa);}else ia=aa;return (k.DOM.li({className:w},ia));}});e.exports=s;});
__d("UFIPager.react",["LeftRight.react","React","UFIClassNames","UFIImageBlock.react","cx","joinClasses"],function(a,b,c,d,e,f){var g=b('LeftRight.react'),h=b('React'),i=b('UFIClassNames'),j=b('UFIImageBlock.react'),k=b('cx'),l=b('joinClasses'),m=h.createClass({displayName:'UFIPager',onPagerClick:function(n){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();n.nativeEvent.prevent();},render:function(){var n=this.onPagerClick,o=((this.props.isLoading?"ufiPagerLoading":'')),p=l(i.ROW,this.props.isUnseen?i.UNSEEN_ITEM:'',(("UFIPagerRow")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),q=h.DOM.a({className:"UFIPagerLink",onClick:n,href:"#",role:"button"},h.DOM.span({className:o},this.props.pagerLabel)),r=(("fcg")+(' '+"UFIPagerCount")),s=h.DOM.span({className:r},this.props.countSentence),t;if(this.props.contextArgs.entstream){t=(g({direction:g.DIRECTION.right},q,s));}else t=(j(null,h.DOM.a({className:"UFIPagerIcon",onClick:n,href:"#",role:"button"}),q,s));return (h.DOM.li({className:p,'data-ft':this.props['data-ft']},t));}});e.exports=m;});
__d("UFIReplySocialSentence.react",["LiveTimer","React","Timestamp.react","UFIClassNames","UFIConstants","UFIImageBlock.react","cx","joinClasses","tx"],function(a,b,c,d,e,f){var g=b('LiveTimer'),h=b('React'),i=b('Timestamp.react'),j=b('UFIClassNames'),k=b('UFIConstants'),l=b('UFIImageBlock.react'),m=b('cx'),n=b('joinClasses'),o=b('tx'),p=' \u00b7 ',q=43200,r=h.createClass({displayName:'UFIReplySocialSentence',render:function(){var s=((this.props.isLoading?"UFIReplySocialSentenceLoading":'')),t=n(j.ROW,(("UFIReplySocialSentenceRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),u,v;if(this.props.isExpanded){u=this.props.replies>1?o._("Hide {count} Replies",{count:this.props.replies}):"Hide 1 Reply";}else{u=this.props.replies>1?o._("{count} Replies",{count:this.props.replies}):"1 Reply";if(this.props.timestamp){var w=g.getApproximateServerTime()/1000-this.props.timestamp.time;if(w<q||this.props.orderingMode==k.UFICommentOrderingMode.RECENT_ACTIVITY)v=h.DOM.span({className:"fcg"},p,i({time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose}));}}var x=Object.keys(this.props.authors),y=x.length&&!this.props.isExpanded,z,aa;if(y){var ba=this.props.authors[x[0]];z=h.DOM.img({alt:"",src:ba.thumbSrc,className:j.ACTOR_IMAGE});aa=[o._("{author} replied",{author:ba.name}),p,u];}else{z=h.DOM.i({className:((!this.props.isExpanded?"UFIPagerIcon":'')+(this.props.isExpanded?' '+"UFICollapseIcon":''))});aa=u;}return (h.DOM.li({className:t,'data-ft':this.props['data-ft']},h.DOM.a({className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},l(null,h.DOM.div({className:((y?"UFIReplyActorPhotoWrapper":''))},z),h.DOM.span({className:s},h.DOM.span({className:"UFIReplySocialSentenceLinkText"},aa),v)))));}});e.exports=r;});
__d("UFIShareRow.react",["NumberFormat","React","UFIClassNames","UFIImageBlock.react","URI","cx","joinClasses","tx"],function(a,b,c,d,e,f){var g=b('NumberFormat'),h=b('React'),i=b('UFIClassNames'),j=b('UFIImageBlock.react'),k=b('URI'),l=b('cx'),m=b('joinClasses'),n=b('tx'),o=h.createClass({displayName:'UFIShareRow',render:function(){var p=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.targetID}),q=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.targetID}),r;if(this.props.shareCount>1){var s=g.formatIntegerWithDelimiter(this.props.shareCount,this.props.contextArgs.numberdelimiter||',');r=n._("{count} shares",{count:s});}else r="1 share";var t=m(i.ROW,((this.props.isFirstComponent?"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":'')));return (h.DOM.li({className:t},j(null,h.DOM.a({className:"UFIShareIcon",rel:"dialog",ajaxify:p.toString(),href:q.toString()}),h.DOM.a({className:"UFIShareLink",rel:"dialog",ajaxify:p.toString(),href:q.toString()},r))));}});e.exports=o;});
__d("UFISpamPlaceholder.react",["React","UFIClassNames","cx","tx"],function(a,b,c,d,e,f){var g=b('React'),h=b('UFIClassNames'),i=b('cx'),j=b('tx'),k=g.createClass({displayName:'UFISpamPlaceholder',render:function(){var l=(("UFISpamCommentWrapper")+(this.props.isLoading?' '+"UFISpamCommentLoading":''));return (g.DOM.li({className:h.ROW},g.DOM.a({href:"#",role:"button",className:"UFISpamCommentLink",onClick:this.props.onClick},g.DOM.span({'data-hover':"tooltip",'data-tooltip-alignh':"center",'aria-label':j._("{count} hidden",{count:this.props.numHidden}),className:l},g.DOM.i({className:"placeholderIcon"})))));}});e.exports=k;});
__d("UFI.react",["NumberFormat","React","LegacyScrollableArea.react","TrackingNodes","UFIAddCommentController","UFIAddCommentLink.react","UFIComment.react","UFIConstants","UFIContainer.react","UFIGiftSentence.react","UFIInstanceState","UFILikeSentence.react","UFIPager.react","UFIReplySocialSentence.react","UFIShareRow.react","UFISpamPlaceholder.react","copyProperties","isEmpty","tx"],function(a,b,c,d,e,f){var g=b('NumberFormat'),h=b('React'),i=b('LegacyScrollableArea.react'),j=b('TrackingNodes'),k=b('UFIAddCommentController'),l=b('UFIAddCommentLink.react'),m=b('UFIComment.react'),n=b('UFIConstants'),o=b('UFIContainer.react'),p=b('UFIGiftSentence.react'),q=b('UFIInstanceState'),r=b('UFILikeSentence.react'),s=b('UFIPager.react'),t=b('UFIReplySocialSentence.react'),u=b('UFIShareRow.react'),v=b('UFISpamPlaceholder.react'),w=b('copyProperties'),x=b('isEmpty'),y=b('tx'),z=h.createClass({displayName:'UFI',getInitialState:function(){return {requestRanges:w({},this.props.availableRanges),instanceShowRepliesMap:{},instanceShowReplySocialSentenceMap:{},loadingSpamIDs:{},isActiveLoading:false,hasPagedToplevel:false};},componentWillReceiveProps:function(aa){if(this.state.isActiveLoading){var ba=this.props.availableRanges[this.props.id],ca=aa.availableRanges[this.props.id];if(ba.offset!=ca.offset||ba.length!=ca.length){var da=(ca.offset<ba.offset)?0:ba.length;if(da<aa.availableComments.length){var ea=aa.availableComments[da].ufiinstanceid;q.updateState(ea,'autofocus',true);}}this.setState({isActiveLoading:false});}if(aa.orderingMode!=this.props.orderingMode)this.setState({requestRanges:w({},aa.availableRanges)});},render:function(){var aa=this.props,ba=aa.feedback,ca=aa.contextArgs,da=aa.source!=n.UFIFeedbackSourceType.ADS,ea=ba.orderingmodes&&aa.commentCounts[aa.id]>=n.minCommentsForOrderingModeSelector,fa=(!x(ba.likesentences.current)||(ba.seencount>0&&!ca.entstream)||ea)&&da,ga=null;if(fa)ga=r({contextArgs:ca,feedback:ba,onTargetLikeToggle:aa.onTargetLikeToggle,onOrderingModeChange:aa.onOrderingModeChange,orderingMode:aa.orderingMode,showOrderingModeSelector:ea});var ha=null;if(aa.feedback.hasviewerliked&&this._shouldShowGiftSentence())ha=p({contextArgs:ca,recipient:aa.giftRecipient,sender:aa.authorProfiles[ba.actorforpost],giftdata:aa.feedback.giftdata});var ia=aa.availableComments&&aa.availableComments.length&&da,ja=null;if(ia)ja=this.renderCommentMap(aa.availableComments,aa.availableRanges[aa.id].offset);var ka=null,la=ba.cancomment,ma=la&&ca.showaddcomment&&ba.actorforpost;if(ma){var na=new k(null,aa.id,null,ca),oa=aa.authorProfiles[ba.actorforpost];ka=na.renderAddComment(oa,ba.mentionsdatasource,ba.showsendonentertip,'toplevelcomposer',null,ba.allowphotoattachments,ba.subtitle);}var pa=null,qa=ca.showshares&&ba.sharecount&&da;if(qa&&!ca.entstream)pa=u({targetID:ba.targetfbid,shareCount:ba.sharecount,contextArgs:ca});var ra=fa||qa||ia||la,sa=this.renderPagers();this.applyToUFIComponents([sa.topPager],ja,[sa.bottomPager],{isFirstCommentComponent:true},{isLastCommentComponent:true});var ta=ba.commentboxhoisted?ka:null,ua=ba.commentboxhoisted?null:ka,va=null;if(ma&&ba.hasaddcommentlink&&this.state.hasPagedToplevel)va=l({onClick:this.onComment});this.applyToUFIComponents([ga,pa,ta,sa.topPager],ja,[sa.bottomPager,ua,va],{isFirstComponent:true},{isLastComponent:true});var wa=[sa.topPager,ja,sa.bottomPager];if(ca.scrollcomments&&ca.scrollwidth)wa=h.DOM.li(null,i({width:ca.scrollwidth},h.DOM.ul(null,wa)));return (o({hasNub:ca.shownub&&ra},ga,ha,pa,ta,wa,ua,va));},applyToUFIComponents:function(aa,ba,ca,da,ea){var fa=Object.keys(ba||{}).map(function(ha){return ba[ha];}),ga=[].concat(aa,fa,ca);this._applyToFirstComponent(ga,da);ga.reverse();this._applyToFirstComponent(ga,ea);},_applyToFirstComponent:function(aa,ba){for(var ca=0;ca<(aa||[]).length;ca++)if(aa[ca]){w(aa[ca].props,ba);return;}},renderCommentMap:function(aa,ba){var ca=this.props,da={},ea=aa.length;if(!ea)return da;var fa=aa[0].parentcommentid,ga=[],ha=function(){if(ga.length>0){var qa=function(ra,sa){this.state.loadingSpamIDs[ra[0]]=true;this.forceUpdate();ca.onSpamFetch(ra,sa);}.bind(this,ga,fa);da['spam'+ga[0]]=v({onClick:qa,numHidden:ga.length,isLoading:!!this.state.loadingSpamIDs[ga[0]]});ga=[];}}.bind(this),ia=ca.instanceid,ja=q.getKeyForInstance(ia,'editcommentid'),ka=!!aa[0].parentcommentid,la=false;for(var ma=0;ma<ea;ma++)if(aa[ma].status==n.UFIStatus.SPAM){ga.push(aa[ma].id);}else{ha();var na=Math.max(ca.loggingOffset-ma-ba,0),oa=aa[ma],pa;if(oa.id==ja){pa=this.renderEditCommentBox(oa);}else{pa=this.renderComment(oa,na);pa.props.isFirst=ma===0;pa.props.isLast=ma===ea-1;if(!ka)pa.props.showReplyLink=true;}da['comment'+oa.id]=pa;if(ca.feedback.actorforpost===oa.author&&!la&&!ca.feedback.hasviewerliked&&this._shouldShowGiftSentence()){da['gift'+oa.id]=p({contextArgs:ca.contextArgs,recipient:ca.giftRecipient,sender:ca.authorProfiles[ca.feedback.actorforpost],giftdata:ca.feedback.giftdata});la=true;}if(oa.status!==n.UFIStatus.DELETED)da['replies'+oa.id]=this.renderReplyContainer(oa);}ha();return da;},_shouldShowGiftSentence:function(){var aa=this.props;return aa.contextArgs.giftoccasion&&!aa.contextArgs.entstream;},renderReplyContainer:function(aa){var ba=this.props,ca={};for(var da=0;da<(aa.replyauthors||[]).length;da++){var ea=ba.authorProfiles[aa.replyauthors[da]];if(ea)ca[ea.id]=ea;}var fa=ba.repliesMap&&ba.repliesMap[aa.id]&&this._shouldShowCommentReplies(aa.id),ga,ha=Math.max(aa.replycount-aa.spamreplycount,0);if(ha&&this._shouldShowReplySocialSentence(aa.id)){var ia=this._shouldShowCommentReplies(aa.id)&&(this.isLoadingPrev(aa.id)||this.isLoadingNext(aa.id));ga=t({authors:ca,replies:ha,timestamp:aa.recentreplytimestamp,onClick:this.onToggleReplies.bind(this,aa),isLoading:ia,isExpanded:fa,orderingMode:this.props.orderingMode});}var ja,ka,la,ma;if(fa){var na=this.renderPagers(aa.id);ja=na.topPager;la=na.bottomPager;ka=this.renderCommentMap(ba.repliesMap[aa.id],ba.availableRanges[aa.id].offset);var oa=Object.keys(ka);for(var pa=0;pa<oa.length;pa++){var qa=ka[oa[pa]];if(qa)qa.props.hasPartialBorder=pa!==0;}if(ba.feedback.cancomment){var ra=false,sa=Object.keys(ka);for(var da=sa.length-1;da>=0;da--){var ta=sa[da];if(ta&&ka[ta]){ra=ka[ta].props.isAuthorReply;break;}}ma=this.renderReplyComposer(aa,!ra);}}var ua;if(ga||ja||ka||la||ma){this.applyToUFIComponents([ga,ja],ka,[la,ma],{isFirstComponent:true},{isLastComponent:true});var va=aa.status===n.UFIStatus.LIVE_DELETED;ua=o({isParentLiveDeleted:va,isReplyList:true},ga,ja,ka,la,ma);}return ua;},renderReplyComposer:function(aa,ba){var ca=this.props;return (new k(null,ca.id,aa.id,ca.contextArgs)).renderAddComment(ca.authorProfiles[ca.feedback.actorforpost],ca.feedback.mentionsdatasource,false,'replycomposer-'+aa.id,ba,ca.feedback.allowphotoattachments);},renderEditCommentBox:function(aa){var ba=new k(null,this.props.id,null,{}),ca=ba.renderEditComment(this.props.authorProfiles[this.props.feedback.actorforpost],aa.id,this.props.feedback.mentionsdatasource,this.props.onEditAttempt.bind(null,aa),this.props.onCancelEdit,this.props.feedback.allowphotoattachments);return ca;},_shouldShowCommentReplies:function(aa){if(aa in this.state.instanceShowRepliesMap){return this.state.instanceShowRepliesMap[aa];}else if(aa in this.props.showRepliesMap)return this.props.showRepliesMap[aa];return false;},_shouldShowReplySocialSentence:function(aa){if(aa in this.state.instanceShowReplySocialSentenceMap){return this.state.instanceShowReplySocialSentenceMap[aa];}else if(aa in this.props.showReplySocialSentenceMap)return this.props.showReplySocialSentenceMap[aa];return false;},renderComment:function(aa,ba){var ca=this.props,da=ca.feedback,ea=da.actorforpost===aa.author,fa=q.getKeyForInstance(this.props.instanceid,'locallycomposed'),ga=aa.islocal||fa&&fa[aa.id],ha=da.showremovemenu||(da.viewerid===aa.author),ia=da.canremoveall&&da.isownerpage&&!ea,ja=ca.source!=n.UFIFeedbackSourceType.INTERN,ka=j.getTrackingInfo(j.types.COMMENT,ba),la=!!aa.parentcommentid,ma=this._shouldShowCommentReplies(aa.id),na=!!aa.isfeatured;return (m({comment:aa,authorProfiles:this.props.authorProfiles,viewerIsAuthor:ea,feedback:da,'data-ft':ka,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:ia,isLocallyComposed:ga,isReply:la,isFeatured:na,showPermalink:ja,showRemoveReportMenu:ha,showReplies:ma,onCommentLikeToggle:ca.onCommentLikeToggle.bind(null,aa),onCommentReply:this.onCommentReply.bind(this,aa),onCommentTranslate:ca.onCommentTranslate.bind(null,aa),onEdit:ca.onCommentEdit.bind(null,aa),onHideAsSpam:ca.onCommentHideAsSpam.bind(null,aa),onInlineBan:ca.onCommentInlineBan.bind(null,aa),onMarkAsNotSpam:ca.onCommentMarkAsNotSpam.bind(null,aa),onOneClickRemove:ca.onCommentOneClickRemove.bind(null,aa),onPreviewRemove:ca.onPreviewRemove.bind(null,aa),onRemove:ca.onCommentRemove.bind(null,aa),onRetrySubmit:ca.onRetrySubmit.bind(null,aa),onUndoInlineBan:ca.onCommentUndoInlineBan.bind(null,aa),onUndoOneClickRemove:ca.onCommentUndoOneClickRemove.bind(null,aa)}));},_updateRepliesState:function(aa,ba,ca){var da=this.state.instanceShowRepliesMap;da[aa]=ba;var ea=this.state.instanceShowReplySocialSentenceMap;ea[aa]=ca;this.setState({instanceShowRepliesMap:da,instanceShowReplySocialSentenceMap:ea});},onToggleReplies:function(aa){var ba=!this._shouldShowCommentReplies(aa.id),ca=this._shouldShowReplySocialSentence(aa.id)&&!(ba&&aa.replycount<=this.props.replySocialSentenceMaxReplies);this._updateRepliesState(aa.id,ba,ca);var da=this.props.availableRanges[aa.id].length;if(aa.id in this.state.requestRanges)da=this.state.requestRanges[aa.id].length;da-=this.props.deletedCounts[aa.id];if(ba&&da===0){var ea=this.props.commentCounts[aa.id],fa=Math.min(ea,this.props.pageSize);this.onPage(aa.id,{offset:ea-fa,length:fa});}},onPage:function(aa,ba){var ca=this.state.requestRanges;ca[aa]=ba;var da=this.state.hasPagedToplevel||aa===this.props.id;this.setState({requestRanges:ca,isActiveLoading:true,hasPagedToplevel:da});this.props.onChangeRange(aa,ba);},isLoadingPrev:function(aa){var ba=this.props;aa=aa||ba.id;if(!this.state.requestRanges[aa])this.state.requestRanges[aa]=ba.availableRanges[aa];var ca=this.state.requestRanges[aa].offset,da=ba.availableRanges[aa].offset;return ca<da;},isLoadingNext:function(aa){var ba=this.props;aa=aa||ba.id;if(!this.state.requestRanges[aa])this.state.requestRanges[aa]=ba.availableRanges[aa];var ca=this.state.requestRanges[aa].offset,da=this.state.requestRanges[aa].length,ea=ba.availableRanges[aa].offset,fa=ba.availableRanges[aa].length;return ca+da>ea+fa;},renderPagers:function(aa){var ba=this.props;aa=aa||ba.id;var ca=ba.availableRanges[aa].offset,da=ba.availableRanges[aa].length,ea=ba.deletedCounts[aa],fa=ba.commentCounts[aa],ga=fa-ea,ha=da-ea,ia=ba.contextArgs.numberdelimiter||',',ja=aa!==ba.id,ka={topPager:null,bottomPager:null};if(ba.source==n.UFIFeedbackSourceType.ADS)return ka;var la=this.isLoadingPrev(aa),ma=this.isLoadingNext(aa);if(da==fa)return ka;var na=(ca+da)==fa;if((fa<ba.pageSize&&na)||ha===0){var oa=Math.min(fa,ba.pageSize),pa=this.onPage.bind(this,aa,{offset:fa-oa,length:oa}),qa,ra;if(ha===0){if(ga==1){qa=ja?"View 1 reply":"View 1 comment";}else{ra=g.formatIntegerWithDelimiter(ga,ia);qa=ja?y._("View all {count} replies",{count:ra}):y._("View all {count} comments",{count:ra});}}else if(ga-ha==1){qa=ja?"View 1 more reply":"View 1 more comment";}else{ra=g.formatIntegerWithDelimiter(ga-ha,ia);qa=ja?y._("View {count} more replies",{count:ra}):y._("View {count} more comments",{count:ra});}var sa=j.getTrackingInfo(j.types.VIEW_ALL_COMMENTS),ta=s({contextArgs:ba.contextArgs,isUnseen:ba.feedback.hasunseencollapsed,isLoading:la,pagerLabel:qa,onPagerClick:pa,'data-ft':sa});if(ba.feedback.isranked&&!ja){ka.bottomPager=ta;}else ka.topPager=ta;return ka;}if(ca>0){var ua=Math.max(ca-ba.pageSize,0),oa=ca+da-ua,va=this.onPage.bind(this,aa,{offset:ua,length:oa}),wa=g.formatIntegerWithDelimiter(ha,ia),xa=g.formatIntegerWithDelimiter(ga,ia),ya=y._("{countshown} of {totalcount}",{countshown:wa,totalcount:xa});if(ba.feedback.isranked&&!ja){ka.bottomPager=s({contextArgs:ba.contextArgs,isLoading:la,pagerLabel:"View more comments",onPagerClick:va,countSentence:ya});}else{var za=ja?"View previous replies":"View previous comments";ka.topPager=s({contextArgs:ba.contextArgs,isLoading:la,pagerLabel:za,onPagerClick:va,countSentence:ya});}}if(ca+da<fa){var ab=Math.min(da+ba.pageSize,fa-ca),bb=this.onPage.bind(this,aa,{offset:ca,length:ab});if(ba.feedback.isranked&&!ja){ka.topPager=s({contextArgs:ba.contextArgs,isLoading:ma,pagerLabel:"View previous comments",onPagerClick:bb});}else{var cb=ja?"View more replies":"View more comments";ka.bottomPager=s({contextArgs:ba.contextArgs,isLoading:ma,pagerLabel:cb,onPagerClick:bb});}}return ka;},onCommentReply:function(aa){var ba=aa.parentcommentid||aa.id;if(!this._shouldShowCommentReplies(ba))this.onToggleReplies(aa);if(this.refs&&this.refs['replycomposer-'+ba])this.refs['replycomposer-'+ba].focus();},onComment:function(){if(this.refs&&this.refs.toplevelcomposer)this.refs.toplevelcomposer.focus();}});e.exports=z;});
__d("UFIController",["Arbiter","Bootloader","CSS","DOM","DOMQuery","ImmutableObject","LayerRemoveOnHide","LiveTimer","Parent","React","ReactMount","ShortProfiles","UFI.react","UFIActionLinkController","UFICentralUpdates","UFIComments","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFIUserActions","URI","copyProperties","isEmpty","tx","UFICommentTemplates"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Bootloader'),i=b('CSS'),j=b('DOM'),k=b('DOMQuery'),l=b('ImmutableObject'),m=b('LayerRemoveOnHide'),n=b('LiveTimer'),o=b('Parent'),p=b('React'),q=b('ReactMount'),r=b('ShortProfiles'),s=b('UFI.react'),t=b('UFIActionLinkController'),u=b('UFICentralUpdates'),v=b('UFIComments'),w=b('UFIConstants'),x=b('UFIFeedbackTargets'),y=b('UFIInstanceState'),z=b('UFIUserActions'),aa=b('URI'),ba=b('copyProperties'),ca=b('isEmpty'),da=b('tx'),ea=b('UFICommentTemplates'),fa=function(ia,ja,ka,la){var ma=ia.offset+ia.length===ja;return {offset:ia.offset,length:(ma&&ga(la))?ka-ia.offset:ia.length};},ga=function(ia){return ia==w.UFIPayloadSourceType.USER_ACTION||ia==w.UFIPayloadSourceType.LIVE_SEND;};function ha(ia,ja,ka){this.root=ia;this.id=ja.ftentidentifier;this.source=ja.source;this._ufiInstanceID=ja.instanceid;this._contextArgs=ja;this._contextArgs.rootid=this.root.id;this._verifiedCommentsExpanded=false;var la=ka.feedbacktargets[0];this.actionLink=new t(ia,this._contextArgs,la);this.orderingMode=la.defaultcommentorderingmode;var ma=ka.commentlists.comments[this.id][this.orderingMode];this.replyRanges={};this.repliesMap={};this.showRepliesMap={};this.showReplySocialSentenceMap={};this.commentcounts={};this.commentcounts[this.id]=v.getCommentCount(this.id);var na={},oa=la.orderingmodes||[{value:this.orderingMode}];oa.forEach(function(sa){na[sa.value]=ba({},ma.range);});this.ranges=na;if(ka.commentlists.replies)for(var pa=0;pa<ma.values.length;pa++){var qa=ma.values[pa],ra=ka.commentlists.replies[qa];if(ra){this.commentcounts[qa]=v.getCommentCount(qa);this.replyRanges[qa]=ba({},ra.range);}}this._loggingOffset=null;this._ufi=null;this.ufiCentralUpdatesSubscriptions=[u.subscribe('feedback-updated',function(sa,ta){var ua=ta.updates,va=ta.payloadSource;if(va!=w.UFIPayloadSourceType.COLLAPSED_UFI&&this.id in ua)this.fetchAndUpdate(this.render.bind(this),va);}.bind(this)),u.subscribe('feedback-id-changed',function(sa,ta){var ua=ta.updates;if(this.id in ua)this.id=ua[this.id];}.bind(this)),u.subscribe('instance-updated',function(sa,ta){var ua=ta.updates;if(this._ufiInstanceID in ua){var va=ua[this._ufiInstanceID];if(va.editcommentid)this.render(ta.payloadSource);}}.bind(this)),u.subscribe('update-comment-lists',function(sa,ta){if(ta.commentlists&&ta.commentlists.replies){var ua=ta.commentlists.replies;for(var va in ua)if(this.id!=va&&ua[va]&&ua[va].ftentidentifier==this.id&&!this.replyRanges[va])this.replyRanges[va]=ua[va].range;}}.bind(this))];this.clearPageletSubscription=g.subscribe('pagelet/destroy',this.onPageletDestroy.bind(this));this.clearPageSubscription=g.subscribe('ufi/page_cleared',this._onDestroy.bind(this));u.handleUpdate(w.UFIPayloadSourceType.INITIAL_SERVER,ka);if(this._contextArgs.viewas)this.viewasUFICleanSubscription=g.subscribe('pre_page_transition',function(sa,ta){if(this._contextArgs.viewas!==aa(ta.to).getQueryData('viewas'))v.resetFeedbackTarget(this.id);}.bind(this));h.loadModules(['ScrollAwareDOM'],function(sa){q.scrollMonitor=sa.monitor;});}ba(ha.prototype,{_getParentForm:function(){if(!this._form)this._form=o.byTag(this.root,'form');return this._form;},_onTargetLikeToggle:function(event){var ia=!this.feedback.hasviewerliked;z.changeLike(this.id,ia,{source:this.source,target:event.target,rootid:this._contextArgs.rootid});event.preventDefault();},_onCommentLikeToggle:function(ia,event){var ja=!ia.hasviewerliked;z.changeCommentLike(ia.id,ja,{source:this.source,target:event.target});},_onCommentEdit:function(ia){y.updateState(this._ufiInstanceID,'isediting',true);y.updateState(this._ufiInstanceID,'editcommentid',ia.id);},_onEditAttempt:function(ia,ja,event){if(!ja.visibleValue&&!ja.attachedPhoto){this._onCommentRemove(ia,event);}else z.editComment(ia.id,ja.visibleValue,ja.encodedValue,{source:this._contextArgs.source,target:event.target,attachedPhoto:ja.attachedPhoto});y.updateStateField(this._ufiInstanceID,'locallycomposed',ia.id,true);this._onEditReset();},_onEditReset:function(){y.updateState(this._ufiInstanceID,'isediting',false);y.updateState(this._ufiInstanceID,'editcommentid',null);},_onCommentRemove:function(ia,event){var ja=ea[':fb:ufi:hide-dialog-template'].build();j.setContent(ja.getNode('body'),"Are you sure you want to delete this comment?");j.setContent(ja.getNode('title'),"Delete Comment");h.loadModules(['DialogX'],function(ka){var la=new ka({modal:true,width:465,addedBehaviors:[m]},ja.getRoot());la.subscribe('confirm',function(){z.removeComment(ia.id,{source:this.source,oneclick:false,target:event.target,timelinelogdata:this._contextArgs.timelinelogdata});la.hide();}.bind(this));la.show();}.bind(this));},_onCommentOneClickRemove:function(ia,event){z.removeComment(ia.id,{source:this.source,oneclick:true,target:event.target,timelinelogdata:this._contextArgs.timelinelogdata});},_onCommentUndoOneClickRemove:function(ia,event){var ja=this.feedback.canremoveall&&this.feedback.isownerpage&&this.feedback.actorforpost!==this.authorProfiles[ia.author];z.undoRemoveComment(ia.id,ja,{source:this.source,target:event.target});},_onCommentHideAsSpam:function(ia,event){z.setHideAsSpam(ia.id,true,{source:this.source,target:event.target});},_onCommentMarkAsNotSpam:function(ia,event){z.setHideAsSpam(ia.id,false,{source:this.source,target:event.target});},_onCommentTranslate:function(ia,event){z.translateComment(ia,{source:this.source,target:event.target});},_onCommentInlineBanChange:function(ia,ja,event){z.banUser(ia,this.feedback.ownerid,ja,{source:this.source,target:event.target});},_onCommentInlineBan:function(ia,event){this._onCommentInlineBanChange(ia,true,event);},_onCommentUndoInlineBan:function(ia,event){this._onCommentInlineBanChange(ia,false,event);},_fetchSpamComments:function(ia,ja){z.fetchSpamComments(this.id,ia,ja,this._contextArgs.viewas);},_removePreview:function(ia,event){z.removePreview(ia,{source:this.source,target:event.target});},_retrySubmit:function(ia){h.loadModules(['UFIRetryActions'],function(ja){ja.retrySubmit(ia,{source:this.source});}.bind(this));},_ensureCommentsExpanded:function(){if(this._verifiedCommentsExpanded)return;var ia=o.byTag(this.root,'form');if(ia){i.removeClass(ia,'collapsed_comments');this._verifiedCommentsExpanded=true;}},render:function(ia){var ja=this.comments.length||!ca(this.feedback.likesentences.current);if(ja&&ga(ia))this._ensureCommentsExpanded();if(this._loggingOffset===null)this._loggingOffset=this.ranges[this.orderingMode].offset+this.comments.length-1;var ka=this.feedback.replysocialsentencemaxreplies||-1,la={};la[this.id]=v.getDeletedCount(this.id);this.comments.forEach(function(oa){la[oa.id]=v.getDeletedCount(oa.id);});var ma=ba({},this.replyRanges);ma[this.id]=this.ranges[this.orderingMode];ma=new l(ma);var na=s({feedback:this.feedback,id:this.id,onTargetLikeToggle:this._onTargetLikeToggle.bind(this),onCommentLikeToggle:this._onCommentLikeToggle.bind(this),onCommentRemove:this._onCommentRemove.bind(this),onCommentHideAsSpam:this._onCommentHideAsSpam.bind(this),onCommentMarkAsNotSpam:this._onCommentMarkAsNotSpam.bind(this),onCommentEdit:this._onCommentEdit.bind(this),onCommentOneClickRemove:this._onCommentOneClickRemove.bind(this),onCommentUndoOneClickRemove:this._onCommentUndoOneClickRemove.bind(this),onCommentTranslate:this._onCommentTranslate.bind(this),onCommentInlineBan:this._onCommentInlineBan.bind(this),onCommentUndoInlineBan:this._onCommentUndoInlineBan.bind(this),onEditAttempt:this._onEditAttempt.bind(this),onCancelEdit:this._onEditReset.bind(this),onChangeRange:this._changeRange.bind(this),onSpamFetch:this._fetchSpamComments.bind(this),onPreviewRemove:this._removePreview.bind(this),onRetrySubmit:this._retrySubmit.bind(this),onOrderingModeChange:this._onOrderingModeChange.bind(this),contextArgs:this._contextArgs,repliesMap:this.repliesMap,showRepliesMap:this.showRepliesMap,showReplySocialSentenceMap:this.showReplySocialSentenceMap,commentCounts:this.commentcounts,deletedCounts:la,availableComments:this.comments,source:this.source,availableRanges:ma,pageSize:w.defaultPageSize,authorProfiles:this.authorProfiles,instanceid:this._ufiInstanceID,loggingOffset:this._loggingOffset,replySocialSentenceMaxReplies:ka,giftRecipient:this._giftRecipient,orderingMode:this.orderingMode});this._ufi=p.renderComponent(na,this.root);n.updateTimeStamps();if(this._getParentForm())g.inform('ufi/changed',{form:this._getParentForm()});if(ia!=w.UFIPayloadSourceType.INITIAL_SERVER&&ia!=w.UFIPayloadSourceType.COLLAPSED_UFI)g.inform('reflow');},fetchAndUpdate:function(ia,ja){x.getFeedbackTarget(this.id,function(ka){var la=v.getCommentCount(this.id),ma=fa(this.ranges[this.orderingMode],this.commentcounts[this.id],la,ja);v.getCommentsInRange(this.id,ma,this.orderingMode,this._contextArgs.viewas,function(na){var oa=[],pa={},qa={};if(ka.actorforpost)oa.push(ka.actorforpost);for(var ra=0;ra<na.length;ra++){if(na[ra].author)oa.push(na[ra].author);if(na[ra].socialcontext)oa.push(na[ra].socialcontext.topmutualid);if(na[ra].replyauthors&&na[ra].replyauthors.length)for(var sa=0;sa<na[ra].replyauthors.length;sa++)oa.push(na[ra].replyauthors[sa]);if(ka.isthreaded){var ta=na[ra].id,ua=v.getCommentCount(ta),va;if(this.replyRanges[ta]){va=fa(this.replyRanges[ta],this.commentcounts[ta],ua,ja);}else va={offset:0,length:Math.min(ua,2)};pa[ta]=va;qa[ta]=ua;}}v.getRepliesInRanges(this.id,pa,function(wa){for(var xa=0;xa<na.length;xa++){var ya=na[xa].id,za=wa[ya]||[];for(var ab=0;ab<za.length;ab++){if(za[ab].author)oa.push(za[ab].author);if(za[ab].socialcontext)oa.push(za[ab].socialcontext.topmutualid);}}if(this._contextArgs.giftoccasion)oa.push(ka.actorid);r.getMulti(oa,function(bb){if(this._contextArgs.giftoccasion)this._giftRecipient=bb[ka.actorid];this.authorProfiles=bb;this.feedback=ka;this.commentcounts[this.id]=la;this.comments=na;this.ranges[this.orderingMode]=ma;for(var cb=0;cb<na.length;cb++){var db=na[cb].id,eb=pa[db];this.repliesMap[db]=wa[db];this.replyRanges[db]=eb;this.commentcounts[db]=qa[db];this.showRepliesMap[db]=eb&&eb.length>0;if(this.showReplySocialSentenceMap[db]===undefined&&qa[db]>0)this.showReplySocialSentenceMap[db]=!this.showRepliesMap[db];}ia(ja);if(ja==w.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)g.inform('CommentUFI.Pager');}.bind(this));}.bind(this));}.bind(this));}.bind(this));},_changeRange:function(ia,ja){if(ia==this.id){this.ranges[this.orderingMode]=ja;}else this.replyRanges[ia]=ja;this.fetchAndUpdate(this.render.bind(this),w.UFIPayloadSourceType.USER_ACTION);},onPageletDestroy:function(ia,ja){if(k.contains(ja.root,this.root))this._onDestroy();},_onDestroy:function(){p.unmountAndReleaseReactRootNode(this.root);this.ufiCentralUpdatesSubscriptions.forEach(u.unsubscribe.bind(u));g.unsubscribe(this.clearPageletSubscription);g.unsubscribe(this.clearPageSubscription);this.viewasUFICleanSubscription&&g.unsubscribe(this.viewasUFICleanSubscription);},_onOrderingModeChange:function(ia){this.orderingMode=ia;this.fetchAndUpdate(this.render.bind(this),w.UFIPayloadSourceType.USER_ACTION);}});e.exports=ha;});
__d("Ease",[],function(a,b,c,d,e,f){var g={makePowerOut:function(h){return function(i){var j=1-Math.pow(1-i,h);return (j*10000|0)/10000;};},makePowerIn:function(h){return function(i){var j=Math.pow(i,h);return (j*10000|0)/10000;};},makePowerInOut:function(h){return function(i){var j=((i*=2)<1)?Math.pow(i,h)*.5:1-Math.abs(Math.pow(2-i,h))*.5;return (j*10000|0)/10000;};},sineOut:function(h){return Math.sin(h*Math.PI*.5);},sineIn:function(h){return 1-Math.cos(h*Math.PI*.5);},sineInOut:function(h){return -.5*(Math.cos(Math.PI*h)-1);},circOut:function(h){return Math.sqrt(1-(--h)*h);},circIn:function(h){return -(Math.sqrt(1-h*h)-1);},circInOut:function(h){return ((h*=2)<1)?-.5*(Math.sqrt(1-h*h)-1):.5*(Math.sqrt(1-(h-=2)*h)+1);},bounceOut:function(h){if(h<1/2.75){return (7.5625*h*h);}else if(h<2/2.75){return (7.5625*(h-=1.5/2.75)*h+.75);}else if(h<2.5/2.75){return (7.5625*(h-=2.25/2.75)*h+.9375);}else return (7.5625*(h-=2.625/2.75)*h+.984375);},bounceIn:function(h){return 1-g.bounceOut(1-h);},bounceInOut:function(h){return (h<.5)?g.bounceIn(h*2)*.5:g.bounceOut(h*2-1)*.5+.5;},_makeBouncy:function(h){h=h||1;return function(i){i=((1-Math.cos(i*Math.PI*h))*(1-i))+i;return i<=1?i:2-i;};},makeBounceOut:function(h){return this._makeBouncy(h);},makeBounceIn:function(h){var i=this._makeBouncy(h);return function(j){return 1-i(1-j);};},makeElasticOut:function(h,i){h<1&&(h=1);var j=Math.PI*2;return function(k){if(k===0||k===1)return k;var l=i/j*Math.asin(1/h);return h*Math.pow(2,-10*k)*Math.sin((k-l)*j/i)+1;};},makeElasticIn:function(h,i){h<1&&(h=1);var j=Math.PI*2;return function(k){if(k===0||k===1)return k;var l=i/j*Math.asin(1/h);return -(h*Math.pow(2,10*(k-=1))*Math.sin((k-l)*j/i));};},makeElasticInOut:function(h,i){h<1&&(h=1);i*=1.5;var j=Math.PI*2;return function(k){var l=i/j*Math.asin(1/h);return ((k*=2)<1)?-.5*h*Math.pow(2,10*(k-=1))*Math.sin((k-l)*j/i):1+.5*h*Math.pow(2,-10*(k-=1))*Math.sin((k-l)*j/i);};},makeBackOut:function(h){return function(i){return (--i*i*((h+1)*i+h)+1);};},makeBackIn:function(h){return function(i){return i*i*((h+1)*i-h);};},makeBackInOut:function(h){h*=1.525;return function(i){return ((i*=2)<1)?.5*(i*i*((h+1)*i-h)):.5*((i-=2)*i*((h+1)*i+h)+2);};},easeOutExpo:function(h){return -Math.pow(2,-10*h)+1;}};g.elasticOut=g.makeElasticOut(1,.3);g.elasticIn=g.makeElasticIn(1,.3);g.elasticInOut=g.makeElasticInOut(1,.3);g.backOut=g.makeBackOut(1.7);g.backIn=g.makeBackIn(1.7);g.backInOut=g.makeBackInOut(1.7);e.exports=g;});
__d("EntstreamCollapsedUFIActions",["PopupWindow","React","TrackingNodes","URI","cx","tx"],function(a,b,c,d,e,f){var g=b('PopupWindow'),h=b('React'),i=b('TrackingNodes'),j=b('URI'),k=b('cx'),l=b('tx'),m=h.createClass({displayName:'EntstreamCollapsedUFIActions',getLikeButton:function(){return this.refs.likeButton.getDOMNode();},getLikeIcon:function(){return this.refs.likeIcon.getDOMNode();},render:function(){var n;if(this.props.shareHref!==null){var o=i.getTrackingInfo(i.types.SHARE_LINK),p=j(this.props.shareHref),q=[h.DOM.i({className:"_6k1 _528f"}),"Share"];if(p.getPath().indexOf('/ajax')===0){n=h.DOM.a({ajaxify:this.props.shareHref,className:"_6j_ _5cix",'data-ft':o,href:"#",rel:"dialog",title:"Share this item"},q);}else{var r=function(){g.open(this.props.shareHref,480,600);return false;}.bind(this);n=h.DOM.a({className:"_6j_ _5cix",'data-ft':o,href:this.props.shareHref,onClick:r,target:"_blank",title:"Share this item"},q);}}var s;if(this.props.canComment){var t="_6k4 _528f",u=[h.DOM.i({className:t}),"Comment"],v="_6k2 _5cix",w=i.getTrackingInfo(i.types.COMMENT_LINK);if(this.props.storyHref){s=h.DOM.a({className:v,'data-ft':w,href:this.props.storyHref,target:"_blank",title:"Write a comment..."},u);}else s=h.DOM.a({className:v,'data-ft':w,href:"#",onClick:this.props.onCommentClick,title:"Write a comment..."},u);}var x;if(this.props.canLike){var y=((this.props.hasViewerLiked?"_6k5":'')+(' '+"_6k6")+(' '+"_5cix")),z=i.getTrackingInfo(this.props.hasViewerLiked?i.types.UNLIKE_LINK:i.types.LIKE_LINK),aa=this.props.hasViewerLiked?"Unlike this":"Like this";x=h.DOM.a({className:y,'data-ft':z,href:"#",onClick:this.props.onLike,onMouseDown:this.props.onLikeMouseDown,ref:"likeButton",title:aa},h.DOM.i({className:"_6k7 _528f",ref:"likeIcon"}),"Like",h.DOM.div({className:"_55k4"}));}return (h.DOM.div({className:"_5ciy"},x,s,n));}});e.exports=m;});
__d("EntstreamCollapsedUFISentence",["Bootloader","NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","URI","cx","tx"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('NumberFormat'),i=b('ProfileBrowserLink'),j=b('ProfileBrowserTypes'),k=b('React'),l=b('URI'),m=b('cx'),n=b('tx'),o=k.createClass({displayName:'EntstreamCollapsedUFISentence',_showShareDialog:function(event){event=event.nativeEvent;if(event.isDefaultRequested())return;g.loadModules(['EntstreamShareOverlay'],function(p){p.display(this.props.feedback.targetfbid,this._getShareString());}.bind(this));event.prevent();},_getShareString:function(){var p=this.props.feedback.sharecount,q=this.props.numberDelimiter||',';if(p===1){return "1 Share";}else if(p>1){var r=h.formatIntegerWithDelimiter(p,q);return n._("{count} Shares",{count:r});}},render:function(){var p=this.props.feedback,q=p.likecount,r=this.props.commentCount,s=p.sharecount,t=p.seencount,u=this.props.hasAttachedUFIExpanded,v=this.props.numberDelimiter||',';if(u){q=0;r=0;}if(!q&&!r&&!s&&!t)return k.DOM.span(null);var w;if(q===1){w="1 Like";}else if(q>1){var x=h.formatIntegerWithDelimiter(q,v);w=n._("{count} Likes",{count:x});}var y;if(r===1){y="1 Comment";}else if(r>1){var z=h.formatIntegerWithDelimiter(r,v);y=n._("{count} Comments",{count:z});}var aa=this._getShareString(),ba,ca,da;if(w){ca=new l('/ajax/like/tooltip.php').setQueryData({comment_fbid:p.targetfbid,comment_from:p.actorforpost,seen_user_fbids:true});var ea=((y||aa?"prm":''));ba=j.LIKES;da={id:p.targetfbid};var fa=i.constructDialogURI(ba,da).toString();if(this.props.storyHref){w=null;}else w=k.DOM.a({ajaxify:fa,className:ea,href:i.constructPageURI(ba,da).toString(),'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':ca.toString(),rel:"dialog"},w);}var ga;if(t>0){ba=j.GROUP_MESSAGE_VIEWERS;da={id:p.targetfbid};var ha=i.constructDialogURI(ba,da),ia=i.constructPageURI(ba,da);ca=new l('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:p.entidentifier,displayed_count:t});var ja=h.formatIntegerWithDelimiter(t,v);if(p.seenbyall){ga="Seen by everyone";}else ga=ja==1?"Seen by 1":n._("Seen by {count}",{count:ja});ga=k.DOM.a({ajaxify:ha.toString(),'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':ca.toString(),href:ia.toString(),rel:"dialog",tabindex:"-1"},ga);}if(y){var ka=((aa?"prm":''));if(this.props.storyHref){y=k.DOM.a({className:ka,href:this.props.storyHref,target:"_blank"},y);}else y=k.DOM.a({className:ka,onClick:this.props.onCommentClick},y);}if(aa){var la=new l('/shares/view').setSubdomain('www').setQueryData({id:p.targetfbid});if(this.props.storyHref){aa=k.DOM.a({href:la.toString(),target:"_blank"},aa);}else aa=k.DOM.a({href:la.toString(),onClick:this._showShareDialog,rel:"ignore"},aa);}return (k.DOM.span({className:"_5civ"},w,y,aa,ga));}});e.exports=o;});
__d("EntstreamCollapsedUFI",["Event","Animation","BrowserSupport","CSS","DOM","Ease","EntstreamCollapsedUFIActions","EntstreamCollapsedUFISentence","React","TrackingNodes","Vector","cx","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Animation'),i=b('BrowserSupport'),j=b('CSS'),k=b('DOM'),l=b('Ease'),m=b('EntstreamCollapsedUFIActions'),n=b('EntstreamCollapsedUFISentence'),o=b('React'),p=b('TrackingNodes'),q=b('Vector'),r=b('cx'),s=b('queryThenMutateDOM'),t=16,u=o.createClass({displayName:'EntstreamCollapsedUFI',_animate:function(v,w,x,y){if(!i.hasCSSTransforms())return;var z=this.refs.icons.getLikeIcon();this._animation&&this._animation.stop();this._animation=new h(z).from('scaleX',v).from('scaleY',v).to('scaleX',w).to('scaleY',w).duration(x);y&&this._animation.ease(y);this._animation.go();},bounceLike:function(){this._animate(1.35,1,750,l.bounceOut);},shrinkLike:function(){this._animate(1,.85,150);this._mouseUpListener=g.listen(document.body,'mouseup',this._onMouseUp);},_onMouseUp:function(event){this._mouseUpListener.remove();if(!k.contains(this.refs.icons.getLikeButton(),event.getTarget()))this._animate(.85,1,150);},render:function(){var v=this.props.feedback,w=p.getTrackingInfo(p.types.BLINGBOX);return (o.DOM.div({className:"clearfix"},m({canLike:v.viewercanlike,canComment:v.cancomment,hasViewerLiked:v.hasviewerliked,onCommentClick:this.props.onCommentClick,onLike:this.props.onLike,onLikeMouseDown:this.props.onLikeMouseDown,ref:"icons",shareHref:this.props.shareHref,storyHref:this.props.storyHref}),o.DOM.div({className:"_6j-",'data-ft':w,ref:"sentence"},n({commentCount:this.props.commentCount,feedback:v,hasAttachedUFIExpanded:this.props.hasAttachedUFIExpanded,numberDelimiter:this.props.numberDelimiter,onCommentClick:this.props.onCommentClick,storyHref:this.props.storyHref}))));},componentDidMount:function(v){var w=this.refs.icons.getDOMNode(),x=this.refs.sentence.getDOMNode(),y,z,aa;s(function(){y=q.getElementDimensions(v).x;z=q.getElementDimensions(w).x;aa=q.getElementDimensions(x).x;},function(){if(z+aa>y+t)j.addClass(v,"_4nej");});}});e.exports=u;});
__d("EntstreamCollapsedUFIController",["Bootloader","CommentPrelude","CSS","DOM","EntstreamCollapsedUFI","React","ReactMount","UFICentralUpdates","UFIComments","UFIConstants","UFIFeedbackTargets","UFIUserActions","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('CommentPrelude'),i=b('CSS'),j=b('DOM'),k=b('EntstreamCollapsedUFI'),l=b('React'),m=b('ReactMount'),n=b('UFICentralUpdates'),o=b('UFIComments'),p=b('UFIConstants'),q=b('UFIFeedbackTargets'),r=b('UFIUserActions'),s=b('copyProperties'),t=b('cx'),u=p.UFIPayloadSourceType;function v(w,x,y){this._root=w;this._id=y.ftentidentifier;this._contextArgs=y;this._ufiVisible=y.hasattachedufiexpanded;n.subscribe('feedback-updated',function(z,aa){if(aa.payloadSource!=u.INITIAL_SERVER&&this._id in aa.updates)this.render();}.bind(this));n.handleUpdate(p.UFIPayloadSourceType.COLLAPSED_UFI,x);g.loadModules(['ScrollAwareDOM'],function(z){m.scrollMonitor=z.monitor;});}s(v.prototype,{_onLike:function(event){q.getFeedbackTarget(this._id,function(w){r.changeLike(this._id,!w.hasviewerliked,{source:this._contextArgs.source,target:event.target,rootid:j.getID(this._root)});}.bind(this));this._ufi.bounceLike();event.preventDefault();},_onLikeMouseDown:function(event){this._ufi.shrinkLike();event.preventDefault();},_onCommentClick:function(event){if(!this._ufiVisible){this._ufiVisible=true;i.addClass(this._root,"_6ka");}h.click(this._root);event.preventDefault();},render:function(){q.getFeedbackTarget(this._id,function(w){var x=k({commentCount:o.getCommentCount(this._id),feedback:w,hasAttachedUFIExpanded:this._contextArgs.hasattachedufiexpanded,numberDelimiter:this._contextArgs.numberdelimiter,onCommentClick:this._onCommentClick.bind(this),onLike:this._onLike.bind(this),onLikeMouseDown:this._onLikeMouseDown.bind(this),shareHref:this._contextArgs.sharehref,storyHref:this._contextArgs.storyhref});l.renderComponent(x,this._root);this._ufi=this._ufi||x;}.bind(this));}});e.exports=v;});
__d("TypeaheadUtil",["repeatString"],function(a,b,c,d,e,f){var g=b('repeatString'),h=/[ ]+/g,i=/[^ ]+/g,j=/[.,+*?$|#{}()\^\-\[\]\\\/!@%'"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2E2E\u061f\u066a-\u066c\u061b\u060c\u060d\uFD3e\uFD3F\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\u00a1-\u00b1\u00b4-\u00b8\u00ba\u00bb\u00bf]/g,k={},l={a:"\u0430 \u00e0 \u00e1 \u00e2 \u00e3 \u00e4 \u00e5",b:"\u0431",c:"\u0446 \u00e7 \u010d",d:"\u0434 \u00f0 \u010f \u0111",e:"\u044d \u0435 \u00e8 \u00e9 \u00ea \u00eb \u011b",f:"\u0444",g:"\u0433 \u011f",h:"\u0445 \u0127",i:"\u0438 \u00ec \u00ed \u00ee \u00ef \u0131",j:"\u0439",k:"\u043a \u0138",l:"\u043b \u013e \u013a \u0140 \u0142",m:"\u043c",n:"\u043d \u00f1 \u0148 \u0149 \u014b",o:"\u043e \u00f8 \u00f6 \u00f5 \u00f4 \u00f3 \u00f2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \u00fe",u:"\u0443 \u044e \u00fc \u00fb \u00fa \u00f9 \u016f",v:"\u0432",y:"\u044b \u00ff \u00fd",z:"\u0437 \u017e",ae:"\u00e6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\u00df",ya:"\u044f"};for(var m in l){var n=l[m].split(' ');for(var o=0;o<n.length;o++)k[n[o]]=m;}var p={};function q(w){return w?w.replace(j,' '):'';}function r(w){w=w.toLowerCase();var x='',y='';for(var z=w.length;z--;){y=w.charAt(z);x=(k[y]||y)+x;}return x.replace(h,' ');}function s(w){var x=[],y=i.exec(w);while(y){y=y[0];x.push(y);y=i.exec(w);}return x;}function t(w,x){if(!p.hasOwnProperty(w)){var y=r(w),z=q(y);p[w]={value:w,flatValue:y,tokens:s(z),isPrefixQuery:z&&z[z.length-1]!=' '};}if(x&&typeof p[w].sortedTokens=='undefined'){p[w].sortedTokens=p[w].tokens.slice();p[w].sortedTokens.sort(function(aa,ba){return ba.length-aa.length;});}return p[w];}function u(w,x,y){var z=t(x,w=='prefix'),aa=w=='prefix'?z.sortedTokens:z.tokens,ba=t(y).tokens,ca={},da=z.isPrefixQuery&&w=='query'?aa.length-1:null,ea=function(fa,ga){for(var ha=0;ha<ba.length;++ha){var ia=ba[ha];if(!ca[ha]&&(ia==fa||((w=='query'&&ga===da||w=='prefix')&&ia.indexOf(fa)===0)))return (ca[ha]=true);}return false;};return Boolean(aa.length&&aa.every(ea));}var v={flatten:r,parse:t,isExactMatch:u.bind(null,'exact'),isQueryMatch:u.bind(null,'query'),isPrefixMatch:u.bind(null,'prefix')};e.exports=v;});
__d("KanaUtils",[],function(a,b,c,d,e,f){var g=12353,h=12436,i=96,j={normalizeHiragana:function(k){if(k!==null){var l=[];for(var m=0;m<k.length;m++){var n=k.charCodeAt(m);if(n<g||n>h){l.push(k.charAt(m));}else{var o=n+i;l.push(String.fromCharCode(o));}}return l.join("");}else return null;}};e.exports=j;});
__d("DataSource",["ArbiterMixin","AsyncRequest","TypeaheadUtil","copyProperties","createArrayFrom","createObjectFrom","emptyFunction","KanaUtils"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('AsyncRequest'),i=b('TypeaheadUtil'),j=b('copyProperties'),k=b('createArrayFrom'),l=b('createObjectFrom'),m=b('emptyFunction'),n=b('KanaUtils');function o(p){this._maxResults=p.maxResults||10;this.token=p.token;this.queryData=p.queryData||{};this.queryEndpoint=p.queryEndpoint||'';this.bootstrapData=p.bootstrapData||{};this.bootstrapEndpoint=p.bootstrapEndpoint||'';this._exclusions=p.exclusions||[];this._indexedFields=p.indexedFields||['text','tokens'];this._titleFields=p.titleFields||[];this._alwaysPrefixMatch=p.alwaysPrefixMatch||false;this._deduplicationKey=p.deduplicationKey||null;this._enabledQueryCache=p.enabledQueryCache||true;this._queryExactMatch=p.queryExactMatch||false;this._acrossTransitions=p.acrossTransitions||false;this._kanaNormalization=p.kanaNormalization||false;this._minQueryLength=p.minQueryLength||-1;this._minExactMatchLength=4;this._filters=[];}j(o.prototype,g,{events:['bootstrap','query','respond'],init:function(){this.init=m;this._fields=l(this._indexedFields);this._activeQueries=0;this.dirty();},dirty:function(){this.value='';this._bootstrapped=false;this._bootstrapping=false;this._data={};this.localCache={};this.queryCache={};this.inform('dirty',{});return this;},bootstrap:function(){if(this._bootstrapped)return;this.bootstrapWithoutToken();this._bootstrapped=true;this._bootstrapping=true;this.inform('bootstrap',{bootstrapping:true});},bootstrapWithoutToken:function(){this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:true,token:this.token});},bootstrapWithToken:function(){var p=j({},this.bootstrapData);p.token=this.token;this.fetch(this.bootstrapEndpoint,p,{bootstrap:true,replaceCache:true});},query:function(p,q,r,s){this.inform('beforeQuery',{value:p,local_only:q,exclusions:r,time_waited:s});if(!this._enabledQueryCache)this.queryCache={};var t=this.buildUids(p,[],r),u=this.respond(p,t);this.value=p;this.inform('query',{value:p,results:u});var v=this._normalizeString(p).flatValue;if(q||!v||this._isQueryTooShort(v)||!this.queryEndpoint||this.getQueryCache().hasOwnProperty(v)||!this.shouldFetchMoreResults(u))return false;this.inform('queryEndpoint',{value:p});this.fetch(this.queryEndpoint,this.getQueryData(p,t),{value:p,exclusions:r});return true;},_isQueryTooShort:function(p){return (p.length<this._minQueryLength);},_normalizeString:function(p,q){var r=p;if(this._kanaNormalization)r=n.normalizeHiragana(p);return i.parse(r,q);},shouldFetchMoreResults:function(p){return p.length<this._maxResults;},getQueryData:function(p,q){var r=j({value:p},this.queryData||{});q=q||[];if(q.length)r.existing_ids=q.join(',');if(this._bootstrapping)r.bsp=true;return r;},setQueryData:function(p,q){if(q)this.queryData={};j(this.queryData,p);return this;},setBootstrapData:function(p,q){if(q)this.bootstrapData={};j(this.bootstrapData,p);return this;},getExclusions:function(){return k(this._exclusions);},setExclusions:function(p){this._exclusions=p||[];},addFilter:function(p){var q=this._filters;q.push(p);return {remove:function(){q.splice(q.indexOf(p),1);}};},clearFilters:function(){this._filters=[];},respond:function(p,q,r){var s=this.buildData(q);this.inform('respond',{value:p,results:s,isAsync:!!r});return s;},asyncErrorHandler:m,fetch:function(p,q,r){if(!p)return;var s=new h().setURI(p).setData(q).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(t){this.fetchHandler(t,r||{});}.bind(this));if(p===this.queryEndpoint)s.setFinallyHandler(function(){this._activeQueries--;if(!this._activeQueries)this.inform('activity',{activity:false});}.bind(this));s.setErrorHandler(this.asyncErrorHandler);this.inform('beforeFetch',{request:s,fetch_context:r});s.send();if(p===this.queryEndpoint){if(!this._activeQueries)this.inform('activity',{activity:true});this._activeQueries++;}},fetchHandler:function(p,q){var r=q.value,s=q.exclusions;if(!r&&q.replaceCache)this.localCache={};this.inform('buildQueryCache',{});var t=p.getPayload().entries;this.addEntries(t,r);this.inform('fetchComplete',{entries:t,response:p,value:r,fetch_context:q});var u=(!r&&this.value)?this.value:r;this.respond(u,this.buildUids(u,[],s),true);if(!r){if(this._bootstrapping){this._bootstrapping=false;this.inform('bootstrap',{bootstrapping:false});}if(q.token&&p.getPayload().token!==q.token)this.bootstrapWithToken();}},addEntries:function(p,q){var r=this.processEntries(k(p||[]),q),s=this.buildUids(q,r);if(q){var t=this.getQueryCache();t[this._normalizeString(q).flatValue]=s;}else this.fillCache(s);},processEntries:function(p,q){return p.map(function(r,s){var t=(r.uid=r.uid+''),u=this.getEntry(t);if(!u){u=r;u.query=q;this.setEntry(t,u);}else j(u,r);u.index===undefined&&(u.index=s);return t;},this);},getAllEntries:function(){return this._data||{};},getEntry:function(p){return this._data[p]||null;},setEntry:function(p,q){this._data[p]=q;},fillCache:function(p){var q=this.localCache;p.forEach(function(r){var s=this.getEntry(r);if(!s)return;s.bootstrapped=true;var t=this._normalizeString(this.getTextToIndex(s)).tokens;for(var u=0,v=t.length;u<v;++u){var w=t[u];if(!q.hasOwnProperty(w))q[w]={};q[w][r]=true;}},this);},getTextToIndex:function(p){if(p.textToIndex&&!p.needs_update)return p.textToIndex;p.needs_update=false;p.textToIndex=this.getTextToIndexFromFields(p,this._indexedFields);return p.textToIndex;},getTextToIndexFromFields:function(p,q){var r=[];for(var s=0;s<q.length;++s){var t=p[q[s]];if(t)r.push(t.join?t.join(' '):t);}return r.join(' ');},mergeUids:function(p,q,r,s){this.inform('mergeUids',{local_uids:p,query_uids:q,new_uids:r,value:s});var t=function(u,v){var w=this.getEntry(u),x=this.getEntry(v);if(w.extended_match!==x.extended_match)return w.extended_match?1:-1;if(w.index!==x.index)return w.index-x.index;if(w.text.length!==x.text.length)return w.text.length-x.text.length;return w.uid<x.uid;}.bind(this);this._checkExtendedMatch(s,p);return this.deduplicateByKey(p.sort(t).concat(q,r));},_checkExtendedMatch:function(p,q){var r=this._alwaysPrefixMatch?i.isPrefixMatch:i.isQueryMatch;for(var s=0;s<q.length;++s){var t=this.getEntry(q[s]);t.extended_match=t.tokens?!r(p,t.text):false;}},buildUids:function(p,q,r){if(!q)q=[];if(!p)return q;if(!r)r=[];var s=this.buildCacheResults(p,this.localCache),t=this.buildQueryResults(p),u=this.mergeUids(s,t,q,p),v=l(r.concat(this._exclusions)),w=u.filter(function(x){if(v.hasOwnProperty(x)||!this.getEntry(x))return false;for(var y=0;y<this._filters.length;++y)if(!this._filters[y](this.getEntry(x),p))return false;return (v[x]=true);},this);return this.uidsIncludingExact(p,w,v);},uidsIncludingExact:function(p,q,r){var s=q.length;if(p.length<this._minExactMatchLength||s<=this._maxResults)return q;for(var t=0;t<s;++t){var u=this.getEntry(q[t]);u.text_lower||(u.text_lower=u.text.toLowerCase());if(u.text_lower===this._normalizeString(p).flatValue){if(t>=this._maxResults){var v=q.splice(t,1);q.splice(this._maxResults-1,0,v);}break;}}return q;},buildData:function(p){var q=[],r=Math.min(p.length,this._maxResults);for(var s=0;s<r;++s)q.push(this.getEntry(p[s]));return q;},findQueryCache:function(p){var q=0,r=null,s=this.getQueryCache();if(this._queryExactMatch)return s[p]||[];for(var t in s)if(p.indexOf(t)===0&&t.length>q){q=t.length;r=t;}return s[r]||[];},buildQueryResults:function(p){var q=this._normalizeString(p).flatValue,r=this.findQueryCache(q);if(this.getQueryCache().hasOwnProperty(q))return r;return this.filterQueryResults(p,r);},filterQueryResults:function(p,q){var r=this._alwaysPrefixMatch?i.isPrefixMatch:i.isQueryMatch;return q.filter(function(s){return r(p,this.getTextToIndex(this.getEntry(s)));},this);},buildCacheResults:function(p,q){var r=this._normalizeString(p,this._alwaysPrefixMatch),s=this._alwaysPrefixMatch?r.sortedTokens:r.tokens,t=s.length,u=r.isPrefixQuery?t-1:null,v={},w={},x={},y=[],z=false,aa={},ba=0;for(var ca=0;ca<t;++ca){var da=s[ca];if(!aa.hasOwnProperty(da)){ba++;aa[da]=true;}else continue;for(var ea in q)if((!v.hasOwnProperty(ea)&&ea===da)||((this._alwaysPrefixMatch||u===ca)&&ea.indexOf(da)===0)){if(ea===da){if(w.hasOwnProperty(ea))z=true;v[ea]=true;}else{if(v.hasOwnProperty(ea)||w.hasOwnProperty(ea))z=true;w[ea]=true;}for(var fa in q[ea])if(ca===0||(x.hasOwnProperty(fa)&&x[fa]==ba-1))x[fa]=ba;}}for(var ga in x)if(x[ga]==ba)y.push(ga);if(z||ba<t)y=this.filterQueryResults(p,y);if(this._titleFields&&this._titleFields.length>0)y=this.filterNonTitleMatchQueryResults(p,y);return y;},filterNonTitleMatchQueryResults:function(p,q){return q.filter(function(r){var s=this._normalizeString(p),t=s.tokens.length;if(t===0)return true;var u=this.getTitleTerms(this.getEntry(r)),v=s.tokens[0];return ((t===1)||this._alwaysPrefixMatch)?i.isPrefixMatch(v,u):i.isQueryMatch(v,u);},this);},getTitleTerms:function(p){if(!p.titleToIndex)p.titleToIndex=this.getTextToIndexFromFields(p,this._titleFields);return p.titleToIndex;},deduplicateByKey:function(p){if(!this._deduplicationKey)return p;var q=l(p.map(this._getDeduplicationKey.bind(this)),p);return p.filter(function(r){return q[this._getDeduplicationKey(r)]==r;}.bind(this));},_getDeduplicationKey:function(p){var q=this.getEntry(p);return q[this._deduplicationKey]||'__'+p+'__';},getQueryCache:function(){return this.queryCache;},setMaxResults:function(p){this._maxResults=p;this.value&&this.respond(this.value,this.buildUids(this.value));},updateToken:function(p){this.token=p;this.dirty();return this;}});e.exports=o;});
__d("BanzaiNectar",["Banzai"],function(a,b,c,d,e,f){var g=b('Banzai');function h(j){return {log:function(k,l,m){var n={e:l,a:m};g.post('nectar:'+k,n,j);}};}var i=h();i.create=h;e.exports=i;});
__d("DimensionLogging",["BanzaiNectar","DOMDimensions"],function(a,b,c,d,e,f){var g=b('BanzaiNectar'),h=b('DOMDimensions'),i=h.getViewportDimensions();g.log('browser_dimension','homeload',{x:i.width,y:i.height,sw:window.screen.width,sh:window.screen.height,aw:window.screen.availWidth,ah:window.screen.availHeight,at:window.screen.availTop,al:window.screen.availLeft});});
__d("MultiBootstrapDataSource",["Class","DataSource"],function(a,b,c,d,e,f){var g=b('Class'),h=b('DataSource');function i(j){this._bootstrapEndpoints=j.bootstrapEndpoints;this.parent.construct(this,j);}g.extend(i,h);i.prototype.bootstrapWithoutToken=function(){for(var j=0;j<this._bootstrapEndpoints.length;j++)this.fetch(this._bootstrapEndpoints[j].endpoint,this._bootstrapEndpoints[j].data||{},{bootstrap:true});};e.exports=i;});
__d("XHPTemplate",["DataStore","DOM","HTML","copyProperties"],function(a,b,c,d,e,f){var g=b('DataStore'),h=b('DOM'),i=b('HTML'),j=b('copyProperties');function k(m){this._model=m;}j(k.prototype,{render:function(){if(i.isHTML(this._model))this._model=h.setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);},build:function(){return new l(this.render());}});j(k,{getNode:function(m,n){return k.getNodes(m)[n];},getNodes:function(m){var n=g.get(m,'XHPTemplate:nodes');if(!n){n={};var o=h.scry(m,'[data-jsid]');o.push(m);var p=o.length;while(p--){var q=o[p];n[q.getAttribute('data-jsid')]=q;q.removeAttribute('data-jsid');}g.set(m,'XHPTemplate:nodes',n);}return n;}});function l(m){this._root=m;this._populateNodes();}j(l.prototype,{_populateNodes:function(){this._nodes={};this._leaves={};var m=this._root.getElementsByTagName('*');for(var n=0,o=m.length;n<o;n++){var p=m[n],q=p.getAttribute('data-jsid');if(q){p.removeAttribute('data-jsid');this._nodes[q]=p;this._leaves[q]=!p.childNodes.length;}}},getRoot:function(){return this._root;},getNode:function(m){return this._nodes[m];},setNodeProperty:function(m,n,o){this.getNode(m)[n]=o;return this;},setNodeContent:function(m,n){if(!this._leaves[m])throw new Error("Can't setContent on non-leaf node: "+m);h.setContent(this.getNode(m),n);return this;}});e.exports=k;});